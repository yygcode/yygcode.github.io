<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<!-- 2018-02-25 Sun 01:14 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<title>Memory Barrier/内存屏障</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="yanyg" />
<link rel="stylesheet" type="text/css" href="css/htmlize.css" />
<link rel="stylesheet" type="text/css" href="css/readtheorg.css" />
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="js/readtheorg.js"></script>
</head>
<body>
<div id="content">
<h1 class="title">Memory Barrier/内存屏障</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org7646dbb">1. 问题定义</a></li>
<li><a href="#orgc02e807">2. 相关资料</a></li>
</ul>
</div>
</div>

<div id="outline-container-org7646dbb" class="outline-2">
<h2 id="org7646dbb"><span class="section-number-2">1</span> 问题定义</h2>
<div class="outline-text-2" id="text-1">
<p>
内存屏障, 又称内存栅栏, 是一种内存访问操作中的同步指令, 其功能是保证此指令之前的所有内存读写操作都执行后, 此指令之后的读写操作才会发起. 
</p>

<p>
Intel CPU有mfence, lfence, sfence
</p>
<ul class="org-ul">
<li>sfence</li>
</ul>
<blockquote>
<p>
The SFENCE (Store Fence) instruction controls write ordering by creating a fence
for memory store operations. This instruction guarantees that the result of
every store instruction that precedes the store fence in program order is
globally visible before any store instruction that follows the fence. The SFENCE
instruction provides an efficient way of ensuring ordering between procedures
that produce weakly-ordered data and procedures that consume that data.
</p>
</blockquote>
<dl class="org-dl">
<dt>mfence</dt><dd></dd>

<dt>lfence</dt><dd></dd>
</dl>
</div>
</div>

<div id="outline-container-orgc02e807" class="outline-2">
<h2 id="orgc02e807"><span class="section-number-2">2</span> 相关资料</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li><a href="http://www.intel.com/content/www/us/en/processors/architectures-software-developer-manuals.html">Intel Processors Architecture Software Developer Manuals</a></li>
<li><a href="http://blog.csdn.net/qb_2008/article/details/6840593">linux内核中的内存屏障</a></li>
<li><a href="http://www.wowotech.net/kernel_synchronization/Why-Memory-Barriers.html">Why Memory Barriers? 中文翻译(上)</a></li>
<li></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<div id="disqus_thread" class="disqus"></div>
<script>
  var disqus_config = function () {
    this.page.url = 'http://ycode.org/memory-barrier.html';
    this.page.identifier = 'memory-barrier.html';
  };

  (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://yanyg.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<div class="copyright">
2012-2020 Copyright&copy; <i> YANYG - Powered by Emacs Orgmode</i>
</div>
</div>
</body>
</html>
