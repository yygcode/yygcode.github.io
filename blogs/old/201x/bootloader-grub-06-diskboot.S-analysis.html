<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<meta charset="utf-8" />
<title>深入理解 GNU GRUB - 03 diskboot.S</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="yanyg" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="/themes/blogs/css/blog.css" />
<script type="text/javascript" src="/themes/blogs/js/blog.js"> </script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="preamble" class="status">
<a href="../../../index.html">Yanyg - SAN Software Engineer</a>
<div class="sitelinks">
  <a href="../../archives.html">Archives</a> |
  <a href="../../theindex.html">Index</a> |
  <a href="../../tags.html">TAGS</a> |
  <a href="https://github.com/yygcode">Github</a> |
  <a href="../../../about.html">About Me</a>
</div>
</div>
<div id="content">
<h1 class="title">深入理解 GNU GRUB - 03 diskboot.S</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org16aa8f8">1. diskboot.S执行时的环境</a></li>
<li><a href="#org0a16b54">2. diskboot.S代码结构</a></li>
<li><a href="#org12d4baa">3. diskboot.S详细注释</a></li>
</ul>
</div>
</div>
<p>
本文最初发布于CSDN：<a href="https://blog.csdn.net/cppgp/article/details/6408231">https://blog.csdn.net/cppgp/article/details/6408231</a>
</p>

<p>
diskboot.S位于目录boot/i386/pc/，最终生成diskboot.img。这部分指令被加载到0x8000~0x81FF。
diskboot.img加载GRUB内核到0x8200开始的内存位置，并将系统控制权交给GRUB内核。用到的BIOS
例程和boot.S中相同。因此本章只描述如下内容：
</p>
<ol class="org-ol">
<li>diskboot.S执行时的环境</li>
<li>diskboot.S代码结构</li>
<li>diskboot.S详细注释</li>
<li>diskboot.S模拟实现</li>
</ol>

<p>
本章最后也模拟一个diskboot的实现。
</p>

<div id="outline-container-org16aa8f8" class="outline-2">
<h2 id="org16aa8f8"><span class="section-number-2">1</span> diskboot.S执行时的环境</h2>
<div class="outline-text-2" id="text-1">
<p>
boot.img跳转到bootdisk.img之前，已经配置好堆栈和一些寄存器及参数值。因此diskboot假设如下条件已经是满足的：
</p>
<ol class="org-ol">
<li>堆栈。SS和SP已配置好，有可用的堆栈。</li>
<li>寄存器DL。DL中保存正确的引导驱动器。</li>
<li>寄存器SI。SI中保存DAP地址。</li>
<li>寄存器DS。设置有正确的数据段DS。</li>
</ol>
<p>
事实上，在跳转到diskboot.img之前，boot.img确实做好了配置。堆栈SS:SP=0x0000:0x2000；
DL中包含正确的引导驱动器；SI指向DAP地址，因此-1(%si)确定磁盘读取模式（LBA为1，CHS为0），
如果是CHS读取，磁盘CHS参数含有正确值；数据段寄存器DS=0。
</p>
</div>
</div>

<div id="outline-container-org0a16b54" class="outline-2">
<h2 id="org0a16b54"><span class="section-number-2">2</span> diskboot.S代码结构</h2>
<div class="outline-text-2" id="text-2">
<p>
diskboot.S生成512字节机器码，其中0x0~0x147共328字节是指令，0x148~0x1FF共184字节用来保存数据集，
每个数据集占用12字节，可以保存15个数据集。对于每个数据集，其中0~7字节表示起始扇区数，在安装时候
指定；8~9字节表示扇区数，10~11字节表示目的段地址，都在生成镜像（grub-mkimage）时确定。必须存在
一个扇区数为0的数据集表示数据集读取结束，因此可以存在14个有效数据集。当前只使用了一个。我反解了
一个安装后的diskboot.img，显示只用了一个数据集，其值如下：
</p>
<ul class="org-ul">
<li>起始扇区LBA地址: 0x0000 0000 0000 0002</li>
<li>扇区数: 0x002e</li>
<li>目的段地址: 0x0820</li>
</ul>

<p>
可知，grub内核的起始扇区是2扇区，扇区数46（0x2E==46），加载到0x8200起始内存处。这个grub内核的
大小为46*512=23KiB。
</p>

<p>
diskboot.S压栈首先保存驱动器。输出提示信息”loading”，设置第一个数据集的地址，然后进入循环读取数据。
根据boot.img中设置的读取模式（LBA/CHS）和数据集中的起始扇区、扇区数、目的段地址，读取数据并保存到
内存中（偏移量为0，因此目的段地址唯一确定内存地址）。每调用一次读中断，都提示一个”.”到终端，对于
慢速存储设备，用户可以快速得到反馈，以免在加载数据期间，用户误以为死机而进行强制性关机措施等。
在一个数据集内循环读取时，循环标签是LOCAL(setup_sectors)，一个数据集完成后，设置处理上一数据集，并
跳转到LOCAL(bootloop)开始处理，如果这个数据集的扇区数为0，则跳转到LOCAL(bootit)，否则继续数据集内的
循环LOCAL(setup_sectors)。
</p>

<p>
数据读取完毕后，执行LOCAL(bootit)处代码，这里将输出提示信息”\r\n”，还原DX寄存器（保存引导驱动器），
并以CS:IP=0x0000:0x8200跳转执行，这里正是kernel.img所在内存地址。
BIOS读中断过程（LBA/CHS）参考boot.S中的注释，此处不再重复。
</p>
</div>
</div>

<div id="outline-container-org12d4baa" class="outline-2">
<h2 id="org12d4baa"><span class="section-number-2">3</span> diskboot.S详细注释</h2>
<div class="outline-text-2" id="text-3">
<p>
CSDN：<a href="https://blog.csdn.net/cppgp/article/details/6408235">https://blog.csdn.net/cppgp/article/details/6408235</a>
</p>
<div class="org-src-container">
<pre class="src src-asm"><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">GRUB</span><span class="org-whitespace-space">  </span><span class="org-comment">--</span><span class="org-whitespace-space">  </span><span class="org-comment">GRand</span><span class="org-whitespace-space"> </span><span class="org-comment">Unified</span><span class="org-whitespace-space"> </span><span class="org-comment">Bootloader</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">Copyright</span><span class="org-whitespace-space"> </span><span class="org-comment">(C)</span><span class="org-whitespace-space"> </span><span class="org-comment">1999,2000,2001,2002,2006,2007,2009,2010</span><span class="org-whitespace-space">   </span><span class="org-comment">Free</span><span class="org-whitespace-space"> </span><span class="org-comment">Software</span><span class="org-whitespace-space"> </span><span class="org-comment">Founda</span><span class="org-comment"><span class="org-whitespace-line">tion,</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-comment"><span class="org-whitespace-line">Inc.</span></span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">GRUB</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">free</span><span class="org-whitespace-space"> </span><span class="org-comment">software:</span><span class="org-whitespace-space"> </span><span class="org-comment">you</span><span class="org-whitespace-space"> </span><span class="org-comment">can</span><span class="org-whitespace-space"> </span><span class="org-comment">redistribute</span><span class="org-whitespace-space"> </span><span class="org-comment">it</span><span class="org-whitespace-space"> </span><span class="org-comment">and/or</span><span class="org-whitespace-space"> </span><span class="org-comment">modify</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">it</span><span class="org-whitespace-space"> </span><span class="org-comment">under</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">terms</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">GNU</span><span class="org-whitespace-space"> </span><span class="org-comment">General</span><span class="org-whitespace-space"> </span><span class="org-comment">Public</span><span class="org-whitespace-space"> </span><span class="org-comment">License</span><span class="org-whitespace-space"> </span><span class="org-comment">as</span><span class="org-whitespace-space"> </span><span class="org-comment">published</span><span class="org-whitespace-space"> </span><span class="org-comment">by</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">Free</span><span class="org-whitespace-space"> </span><span class="org-comment">Software</span><span class="org-whitespace-space"> </span><span class="org-comment">Foundation,</span><span class="org-whitespace-space"> </span><span class="org-comment">either</span><span class="org-whitespace-space"> </span><span class="org-comment">version</span><span class="org-whitespace-space"> </span><span class="org-comment">3</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">License,</span><span class="org-whitespace-space"> </span><span class="org-comment">or</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">(at</span><span class="org-whitespace-space"> </span><span class="org-comment">your</span><span class="org-whitespace-space"> </span><span class="org-comment">option)</span><span class="org-whitespace-space"> </span><span class="org-comment">any</span><span class="org-whitespace-space"> </span><span class="org-comment">later</span><span class="org-whitespace-space"> </span><span class="org-comment">version.</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">GRUB</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">distributed</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">hope</span><span class="org-whitespace-space"> </span><span class="org-comment">that</span><span class="org-whitespace-space"> </span><span class="org-comment">it</span><span class="org-whitespace-space"> </span><span class="org-comment">will</span><span class="org-whitespace-space"> </span><span class="org-comment">be</span><span class="org-whitespace-space"> </span><span class="org-comment">useful,</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">but</span><span class="org-whitespace-space"> </span><span class="org-comment">WITHOUT</span><span class="org-whitespace-space"> </span><span class="org-comment">ANY</span><span class="org-whitespace-space"> </span><span class="org-comment">WARRANTY;</span><span class="org-whitespace-space"> </span><span class="org-comment">without</span><span class="org-whitespace-space"> </span><span class="org-comment">even</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">implied</span><span class="org-whitespace-space"> </span><span class="org-comment">warranty</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">MERCHANTABILITY</span><span class="org-whitespace-space"> </span><span class="org-comment">or</span><span class="org-whitespace-space"> </span><span class="org-comment">FITNESS</span><span class="org-whitespace-space"> </span><span class="org-comment">FOR</span><span class="org-whitespace-space"> </span><span class="org-comment">A</span><span class="org-whitespace-space"> </span><span class="org-comment">PARTICULAR</span><span class="org-whitespace-space"> </span><span class="org-comment">PURPOSE.</span><span class="org-whitespace-space">  </span><span class="org-comment">See</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">GNU</span><span class="org-whitespace-space"> </span><span class="org-comment">General</span><span class="org-whitespace-space"> </span><span class="org-comment">Public</span><span class="org-whitespace-space"> </span><span class="org-comment">License</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">more</span><span class="org-whitespace-space"> </span><span class="org-comment">details.</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">You</span><span class="org-whitespace-space"> </span><span class="org-comment">should</span><span class="org-whitespace-space"> </span><span class="org-comment">have</span><span class="org-whitespace-space"> </span><span class="org-comment">received</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">copy</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">GNU</span><span class="org-whitespace-space"> </span><span class="org-comment">General</span><span class="org-whitespace-space"> </span><span class="org-comment">Public</span><span class="org-whitespace-space"> </span><span class="org-comment">License</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">along</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">GRUB.</span><span class="org-whitespace-space">  </span><span class="org-comment">If</span><span class="org-whitespace-space"> </span><span class="org-comment">not,</span><span class="org-whitespace-space"> </span><span class="org-comment">see</span><span class="org-whitespace-space"> </span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&lt;http://www.gnu.org/licenses/&gt;.</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*/</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-comment-delimiter"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">/*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">cppgp</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#27880;&#37322;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#26085;&#26399;:</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">2011-04-22</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">Email</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">    </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">cppgp@qq.com,</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">    </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">yanyg02@163.com</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">GRUB</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">version:</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">    </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">gnu</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">grub-1.98</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*/</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment-delimiter"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">/*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">diskboot.S</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">diskboot.S&#29983;&#25104;diskboot.img,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#20849;512&#23383;&#33410;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#25913;&#20889;blocklist&#25968;&#25454;&#38598;.</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#26368;&#22810;&#25903;&#25345;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">15&#20010;&#25968;&#25454;&#38598;,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#25159;&#21306;&#65292;</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">10~11&#34920;&#31034;&#30446;&#30340;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;.</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#20026;0,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#25159;&#21306;&#25506;&#27979;&#20195;&#30721;.</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410;</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#20889;&#20837;0xAA55</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">(&#23567;&#31471;&#34920;&#31034;,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">0x1FE&#20301;&#32622;&#20026;0x55,</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">0x1FF&#20301;&#32622;&#20026;0xAA).</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#24182;&#20197;CS:IP=0x0000:0x8000</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#36339;&#36716;&#25191;&#34892;,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;.</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#22240;&#20026;kernel.img</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;.</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#22312;&#25105;&#30340;&#26426;&#22120;&#19978;,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#21453;&#35299;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img,</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">  </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#36215;&#22987;&#25159;&#21306;:</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">0x0000</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">0000</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">0000</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">0002</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">  </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#25159;&#21306;&#25968;</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">      </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">:</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">0x002e</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">  </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&#27573;&#22320;&#22336;</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">      </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">:</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">0x0820</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-comment"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">*/</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-preprocessor"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">#include</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-string"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&lt;grub/symbol.h&gt;</a></span><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">
</a><span class="org-preprocessor"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">#include</a></span><span class="org-whitespace-space"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h"> </a></span><span class="org-string"><a href="http://www.gnu.org/licenses/&gt;.
 */
/*
 * cppgp &#27880;&#37322;
 *
 * &#36716;&#36733;&#35831;&#27880;&#26126;&#21407;&#20316;&#32773;
 *
 * &#26085;&#26399;: 2011-04-22
 *
 * Email
 *    cppgp@qq.com,
 *    yanyg02@163.com
 *
 * GRUB version:
 *    gnu grub-1.98
 */
 /*
 * diskboot.S
 *
 * diskboot.S&#29983;&#25104;diskboot.img, &#20849;512&#23383;&#33410;
 *
 * &#23433;&#35013;&#31243;&#24207;&#26681;&#25454;&#23454;&#38469;&#24773;&#20917;, &#25913;&#20889;blocklist&#25968;&#25454;&#38598;. &#26368;&#22810;&#25903;&#25345;
 * 15&#20010;&#25968;&#25454;&#38598;, &#27599;&#20010;&#25968;&#25454;&#38598;&#21344;&#29992;12&#23383;&#33410;, 0~7&#23383;&#33410;&#34920;&#31034;&#36215;&#22987;
 * &#25159;&#21306;&#65292; 8~9&#23383;&#33410;&#34920;&#31034;&#35813;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;, 10~11&#34920;&#31034;&#30446;&#30340;
 * &#32531;&#20914;&#21306;&#36215;&#22987;&#27573;&#22320;&#22336;. &#24517;&#39035;&#26377;&#19968;&#20010;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;&#23383;&#27573;
 * &#20026;0, &#31243;&#24207;&#26681;&#25454;&#27492;&#21028;&#26029;&#35835;&#21462;&#32467;&#26463;.
 *
 *
 * &#23433;&#35013;&#22312;&#30828;&#30424;&#19978;&#26102;,DPT&#37096;&#20998;(0x1BE~0x1FD)&#20445;&#30041;&#19981;&#21464;,
 *
 * &#23433;&#35013;&#22312;&#36719;&#30424;&#19978;&#26102;, DPT&#37096;&#20998;(0x1BE~0x1FD)&#26159;&#36719;&#30424;&#22797;&#20301;&#21644;
 * &#25159;&#21306;&#25506;&#27979;&#20195;&#30721;. &#25159;&#21306;&#26411;&#23614;&#20004;&#23383;&#33410;
 *
 * &#25159;&#21306;&#26368;&#21518;&#20004;&#23383;&#33410; &#20889;&#20837;0xAA55 (&#23567;&#31471;&#34920;&#31034;, 0x1FE&#20301;&#32622;&#20026;0x55,
 * 0x1FF&#20301;&#32622;&#20026;0xAA).
 *
 * diskboot.img&#24320;&#26426;&#26102;&#21152;&#36733;&#21040;0x8000~0x81FF, &#24182;&#20197;CS:IP=0x0000:0x8000
 * &#36339;&#36716;&#25191;&#34892;, &#23427;&#23558;&#21152;&#36733;kernel.img&#21040;&#20869;&#23384;0x8200&#24320;&#22987;&#20301;&#32622;,&#24182;&#20197;
 * CS:IP=0x0000:0x8200&#36339;&#36716;&#25191;&#34892;. kernel.img&#25159;&#21306;&#25968;&#21487;&#33021;&#26377;&#22810;&#20010;,
 * &#22312;&#29983;&#25104;&#24433;&#20687;(grub-mkinage)&#26102;&#30830;&#23450;.
 *
 * diskboot.img&#21487;&#20197;&#20351;&#29992;boot.img&#35774;&#32622;&#30340;&#22534;&#26632;&#21644;&#23492;&#23384;&#22120;&#20540;,&#20294;&#26159;&#22312;
 * &#36339;&#36716;&#21040;0x8200&#20043;&#21069;,&#35201;&#30830;&#20445;&#27809;&#26377;&#26356;&#25913;&#36825;&#20123;&#35774;&#32622;, &#22240;&#20026;kernel.img
 * &#36824;&#20250;&#29992;&#21040;&#36825;&#20123;&#23492;&#23384;&#22120;.
 *
 * diskboot.img&#24403;&#21069;&#21482;&#29992;&#21040;&#19968;&#20010;&#25968;&#25454;&#38598;. &#22312;&#25105;&#30340;&#26426;&#22120;&#19978;, &#21453;&#35299;
 * &#23433;&#35013;&#20197;&#21518;&#30340;diskboot.img, &#24471;&#21040;&#30340;&#20540;&#22914;&#19979;:
 *
 *  &#36215;&#22987;&#25159;&#21306;: 0x0000 0000 0000 0002
 *  &#25159;&#21306;&#25968;      : 0x002e
 *  &#27573;&#22320;&#22336;      : 0x0820
 */
#include &lt;grub/symbol.h&gt;
#include &lt;grub/machine/boot.h">&lt;grub/machine/boot.h&gt;</a></span>
<span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">defines</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">code</span><span class="org-whitespace-space"> </span><span class="org-comment">go</span><span class="org-whitespace-space"> </span><span class="org-comment">here</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-preprocessor">#define</span><span class="org-whitespace-space"> </span><span class="org-function-name">MSG</span>(<span class="org-variable-name">x</span>)<span class="org-whitespace-tab">  </span>movw<span class="org-whitespace-space"> </span>$x,<span class="org-whitespace-space"> </span><span class="org-variable-name">%si</span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">call</span><span class="org-whitespace-space"> </span><span class="org-comment">LOCAL(message)</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">.file</span><span class="org-whitespace-tab">   </span><span class="org-string">"diskboot.S"</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">.text</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">Tell</span><span class="org-whitespace-space"> </span><span class="org-comment">GAS</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">generate</span><span class="org-whitespace-space"> </span><span class="org-comment">16-bit</span><span class="org-whitespace-space"> </span><span class="org-comment">instructions</span><span class="org-whitespace-space"> </span><span class="org-comment">so</span><span class="org-whitespace-space"> </span><span class="org-comment">that</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">code</span><span class="org-whitespace-space"> </span><span class="org-comment">works</span>
<span class="org-whitespace-space">           </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">real</span><span class="org-whitespace-space"> </span><span class="org-comment">mode.</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21578;&#35785;&#27719;&#32534;&#22120;&#20135;&#29983;16&#20301;&#20195;&#30721;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">.code16</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#22914;&#21516;&#22312;boot.S&#25152;&#25351;&#26126;&#30340;,</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#27492;&#22788;&#30340;&#20195;&#30721;&#34987;&#21152;&#36733;&#22312;&#20869;&#23384;0x8000&#22788;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#24182;&#19988;&#20197;CS:IP=0x0000:0x8000&#36339;&#36716;&#25191;&#34892;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">.globl</span><span class="org-whitespace-tab">  </span>start,<span class="org-whitespace-space"> </span>_start
<span class="org-function-name">start</span>:
<span class="org-function-name">_start</span>:
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">_start</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">loaded</span><span class="org-whitespace-space"> </span><span class="org-comment">at</span><span class="org-whitespace-space"> </span><span class="org-comment">0x2000</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">jumped</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">CS:IP</span><span class="org-whitespace-space"> </span><span class="org-comment">0:0x2000</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">kernel.</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">we</span><span class="org-whitespace-space"> </span><span class="org-comment">continue</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">stack</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">boot.img</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">assume</span><span class="org-whitespace-space"> </span><span class="org-comment">that</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">some</span><span class="org-whitespace-space"> </span><span class="org-comment">registers</span><span class="org-whitespace-space"> </span><span class="org-comment">are</span><span class="org-whitespace-space"> </span><span class="org-comment">set</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">correct</span><span class="org-whitespace-space"> </span><span class="org-comment">values.</span><span class="org-whitespace-space"> </span><span class="org-comment">See</span><span class="org-whitespace-space"> </span><span class="org-comment">boot.S</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">more</span><span class="org-whitespace-space"> </span><span class="org-comment">information.</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">boot.img&#20013;&#24050;&#35774;&#32622;&#22534;&#26632;(SS:SP=0x0000:0x2000)</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#24182;&#19988;&#20551;&#23450;&#19968;&#20123;&#23492;&#23384;&#22120;&#34987;&#35774;&#32622;&#20026;&#27491;&#30830;&#20540;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20854;&#20013;&#21253;&#25324;:</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">DL:</span><span class="org-whitespace-space"> </span><span class="org-comment">&#24341;&#23548;&#39537;&#21160;&#22120;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">SI:</span><span class="org-whitespace-space"> </span><span class="org-comment">DAP&#22320;&#22336;(BPB&#25968;&#25454;&#22359;,</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">       </span><span class="org-comment">-1(%si)&#21487;&#33719;&#21462;&#35835;&#21462;&#27169;&#24335;LBA/CHS)</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">       </span><span class="org-comment">(%si)LBA&#35835;&#30340;DAP&#21442;&#25968;&#36215;&#22987;&#22320;&#22336;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">       </span><span class="org-comment">&#25110;CHS&#21442;&#25968;&#23384;&#25918;&#22320;&#22336;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">DS=SS=0:</span><span class="org-whitespace-space"> </span><span class="org-comment">&#25968;&#25454;&#27573;/&#22534;&#26632;&#27573;&#22320;&#22336;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">save</span><span class="org-whitespace-space"> </span><span class="org-comment">drive</span><span class="org-whitespace-space"> </span><span class="org-comment">reference</span><span class="org-whitespace-space"> </span><span class="org-comment">first</span><span class="org-whitespace-space"> </span><span class="org-comment">thing!</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#39537;&#21160;&#22120;&#21387;&#26632;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">pushw</span><span class="org-whitespace-tab">   </span><span class="org-variable-name">%dx</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">print</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">notification</span><span class="org-whitespace-space"> </span><span class="org-comment">message</span><span class="org-whitespace-space"> </span><span class="org-comment">on</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">screen</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21521;&#32456;&#31471;&#36755;&#20986;&#25552;&#31034;&#20449;&#24687;"loading"</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">notification_string="loading"</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">pushw</span><span class="org-whitespace-tab">   </span><span class="org-variable-name">%si</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">MSG</span>(notification_string)
<span class="org-whitespace-space">        </span><span class="org-keyword">popw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%si</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">sets</span><span class="org-whitespace-space"> </span><span class="org-comment">up</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">first</span><span class="org-whitespace-space"> </span><span class="org-comment">run</span><span class="org-whitespace-space"> </span><span class="org-comment">through</span><span class="org-whitespace-space"> </span><span class="org-comment">"bootloop"</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">GRUB_BOOT_MACHINE_LIST_SIZE=12</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">(fitstlist-12)</span><span class="org-whitespace-space"> </span><span class="org-comment">~</span><span class="org-whitespace-space"> </span><span class="org-comment">firstlist&#20849;12&#23383;&#33410;&#31354;&#38388;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#25351;&#23450;GRUB&#20869;&#26680;&#36215;&#22987;&#25159;&#21306;,&#25159;&#21306;&#25968;,&#25335;&#36125;&#26102;&#30340;&#20195;&#30721;&#27573;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#36215;&#22987;&#25159;&#21306;8&#23383;&#33410;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#25159;&#21306;&#25968;2&#23383;&#33410;,&#20195;&#30721;&#27573;2&#23383;&#33410;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20195;&#30721;&#20013;&#30340;&#26631;&#31614;&#20998;&#21035;&#26159;:blocklist_default_start,</span><span class="org-whitespace-space"> </span><span class="org-comment">blocklist_default_len,</span><span class="org-whitespace-space"> </span><span class="org-comment">blocklist_d</span><span class="org-comment"><span class="org-whitespace-line">efault_seg</span></span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">blocklist_default_start&#40664;&#35748;&#20540;2&#65292;&#22312;&#23433;&#35013;&#26102;&#20505;&#25351;&#23450;(grub-install),</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20915;&#23450;GRUB&#20869;&#26680;&#36215;&#22987;&#25159;&#21306;&#30340;LBA&#22320;</span><span class="org-comment"><span class="org-whitespace-line">&#22336;</span></span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">blocklist_default_len&#40664;&#35748;&#20540;0,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#22312;&#21046;&#20316;&#24341;&#23548;&#38236;&#20687;&#26102;&#20505;&#29983;&#25104;</span><span class="org-whitespace-space"> </span><span class="org-comment">(grub-mkimage),</span><span class="org-whitespace-space"> </span><span class="org-comment">&#35774;&#23450;&#20026;&#27491;&#30830;&#30340;GRUB&#20869;&#26680;&#38271;</span><span class="org-comment"><span class="org-whitespace-line">&#24230;</span></span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">blocklist_default_seg&#36339;&#36716;&#21040;GRUB&#20869;&#26680;&#26102;&#30340;&#40664;&#35748;&#20195;&#30721;&#27573;&#20540;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#40664;&#35748;&#20540;CS=0x820,</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">     </span><span class="org-comment">&#23427;&#20165;&#20165;&#22312;LOCAL(copy_buffer)&#20013;&#29992;&#21040;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#26368;&#32456;&#36339;&#36716;&#26102;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20351;&#29992;CS:IP=0x0000:0x8200</span><span class="org-whitespace-space"> </span><span class="org-comment">(blocklis</span><span class="org-comment"><span class="org-whitespace-line">t_default_seg&lt;&lt;4)</span></span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span>$(firstlist<span class="org-whitespace-space"> </span>-<span class="org-whitespace-space"> </span>GRUB_BOOT_MACHINE_LIST_SIZE),<span class="org-whitespace-space"> </span><span class="org-variable-name">%di</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">save</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">second</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">%ebp</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">8&#23383;&#33410;&#36215;&#22987;&#25159;&#21306;&#30340;&#20302;&#22320;&#22336;(%si)&#20445;&#23384;&#21040;ESP&#23492;&#23384;&#22120;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">   </span><span class="org-comment">LBA&#23547;&#22336;&#29992;&#21040;&#39640;4&#23383;&#33410;.</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">   </span><span class="org-comment">CHS&#23547;&#22336;,&#22914;&#26524;&#39640;4&#23383;&#33410;&#19981;&#20026;0&#29983;&#25104;&#38169;&#35823;,&#22240;&#20026;CHS&#23547;&#22336;&#19981;&#21487;&#36798;(CHS&#23547;&#22336;&#33539;&#22260;7.88GiB,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21442;&#32771;2.1&#33410;)</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movl</span><span class="org-whitespace-tab">    </span>(<span class="org-variable-name">%di</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%ebp</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">loop</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">reading</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">rest</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">kernel</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21152;&#36733;&#25152;&#26377;&#25968;&#25454;&#38598;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#24403;&#21069;&#21482;&#20351;&#29992;&#19968;&#20010;&#25968;&#25454;&#38598;*/</span>
<span class="org-function-name">LOCAL</span>(bootloop):
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">check</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">read</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">8(%di)&#30830;&#23450;GRUB&#20869;&#26680;&#25159;&#21306;&#25968;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">grub-mkimage&#29983;&#25104;&#38236;&#20687;&#26102;&#25913;&#20889;&#20026;&#27491;&#30830;&#30340;&#20869;&#26680;&#38271;&#24230;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#27599;&#27425;&#24490;&#29615;&#21152;&#36733;&#20943;&#21435;&#24050;&#35835;&#21462;&#30340;&#25159;&#21306;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20026;0&#26102;&#34920;&#31034;&#24050;&#32463;&#21152;&#36733;&#23436;&#27605;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#36339;&#36716;&#21040;LOCAL(bootit)</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">cmpw</span><span class="org-whitespace-tab">    </span>$0,<span class="org-whitespace-space"> </span>8(<span class="org-variable-name">%di</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">zero,</span><span class="org-whitespace-space"> </span><span class="org-comment">go</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">function</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#25152;&#26377;&#25968;&#25454;&#38598;&#21152;&#36733;&#23436;&#27605;&#36339;&#36716;&#21040;LOCAL(bootit)</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">je</span><span class="org-whitespace-tab">      </span>LOCAL(bootit)
<span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">LOCAL(setup_sectors)&#21482;&#21152;&#36733;&#24403;&#21069;&#25968;&#25454;&#38598;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-function-name">LOCAL</span>(setup_sectors):
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">check</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">we</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">LBA</span><span class="org-whitespace-space"> </span><span class="org-comment">or</span><span class="org-whitespace-space"> </span><span class="org-comment">CHS</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">boot.img&#20013;&#24050;&#32463;&#35774;&#32622;&#35835;&#21462;&#27169;&#24335;:</span><span class="org-whitespace-space"> </span><span class="org-comment">1&#34920;&#31034;LBA,</span><span class="org-whitespace-space"> </span><span class="org-comment">0&#34920;&#31034;CHS</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">cmpb</span><span class="org-whitespace-tab">    </span>$0,<span class="org-whitespace-space"> </span>-1(<span class="org-variable-name">%si</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">CHS</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">zero,</span><span class="org-whitespace-space"> </span><span class="org-comment">LBA</span><span class="org-whitespace-space"> </span><span class="org-comment">otherwise</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">CHS&#27169;&#24335;&#35835;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">je</span><span class="org-whitespace-tab">      </span>LOCAL(chs_mode)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">load</span><span class="org-whitespace-space"> </span><span class="org-comment">logical</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movl</span><span class="org-whitespace-tab">    </span>(<span class="org-variable-name">%di</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%ebx</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movl</span><span class="org-whitespace-tab">    </span>4(<span class="org-variable-name">%di</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%ecx</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">maximum</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">limited</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">0x7f</span><span class="org-whitespace-space"> </span><span class="org-comment">because</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">Phoenix</span><span class="org-whitespace-space"> </span><span class="org-comment">EDD</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">Phoenix</span><span class="org-whitespace-space"> </span><span class="org-comment">EDD&#38480;&#21046;&#21333;&#27425;&#35835;&#19981;&#33021;&#36229;&#36807;0x7F&#25159;&#21306;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">xorl</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%eax</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%eax</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movb</span><span class="org-whitespace-tab">    </span>$0x7f,<span class="org-whitespace-space"> </span><span class="org-variable-name">%al</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">how</span><span class="org-whitespace-space"> </span><span class="org-comment">many</span><span class="org-whitespace-space"> </span><span class="org-comment">do</span><span class="org-whitespace-space"> </span><span class="org-comment">we</span><span class="org-whitespace-space"> </span><span class="org-comment">really</span><span class="org-whitespace-space"> </span><span class="org-comment">want</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">read?</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">cmpw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ax</span>,<span class="org-whitespace-space"> </span>8(<span class="org-variable-name">%di</span>)<span class="org-whitespace-tab">     </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">compare</span><span class="org-whitespace-space"> </span><span class="org-comment">against</span><span class="org-whitespace-space"> </span><span class="org-comment">total</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">which</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">greater?</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">jg</span><span class="org-whitespace-tab">      </span>1f
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">less</span><span class="org-whitespace-space"> </span><span class="org-comment">than,</span><span class="org-whitespace-space"> </span><span class="org-comment">set</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">total</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#22914;&#26524;&#21040;&#36798;&#36825;&#37324;,&#34920;&#31034;&#21097;&#20313;&#25159;&#21306;&#19981;&#36275;0x7F&#25159;&#21306;,&#36825;&#27425;&#23601;&#21487;&#20197;&#21152;&#36733;&#23436;&#27605;&#20102;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span>8(<span class="org-variable-name">%di</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%ax</span>
<span class="org-function-name">1</span>:
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">subtract</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">total</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20943;&#21435;&#36825;&#27425;&#35201;&#35835;&#21462;&#30340;&#25159;&#21306;&#25968;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20195;&#30721;&#29992;8(%di)</span><span class="org-whitespace-space"> </span><span class="org-comment">&#26159;&#21542;&#20026;0&#26469;&#21028;&#26029;&#26377;&#21542;&#21152;&#36733;&#23436;&#27605;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">subw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ax</span>,<span class="org-whitespace-space"> </span>8(<span class="org-variable-name">%di</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">add</span><span class="org-whitespace-space"> </span><span class="org-comment">into</span><span class="org-whitespace-space"> </span><span class="org-comment">logical</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#36215;&#22987;&#25159;&#21306;&#35201;&#21152;&#19978;&#36825;&#27425;&#23558;&#35201;&#35835;&#21462;&#30340;&#25159;&#21306;&#25968;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#27880;&#24847;&#26159;8&#23383;&#33410;&#30340;&#36215;&#22987;&#25159;&#21306;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#39640;4&#23383;&#33410;&#30340;&#21152;&#35201;&#27880;&#24847;&#36827;&#20301;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">addl</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%eax</span>,<span class="org-whitespace-space"> </span>(<span class="org-variable-name">%di</span>)
<span class="org-whitespace-space">        </span><span class="org-keyword">adcl</span><span class="org-whitespace-tab">    </span>$0,<span class="org-whitespace-space"> </span>4(<span class="org-variable-name">%di</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">set</span><span class="org-whitespace-space"> </span><span class="org-comment">up</span><span class="org-whitespace-space"> </span><span class="org-comment">disk</span><span class="org-whitespace-space"> </span><span class="org-comment">address</span><span class="org-whitespace-space"> </span><span class="org-comment">packet</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#35774;&#32622;LBA&#35835;&#21442;&#25968;&#24182;&#35843;&#29992;BIOS&#20013;&#26029;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21442;&#32771;boot.S</span><span class="org-whitespace-space"> </span><span class="org-comment">LBA&#35835;&#27880;&#37322;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">size</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">reserved</span><span class="org-whitespace-space"> </span><span class="org-comment">byte</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span>$0x0010,<span class="org-whitespace-space"> </span>(<span class="org-variable-name">%si</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ax</span>,<span class="org-whitespace-space"> </span>2(<span class="org-variable-name">%si</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">absolute</span><span class="org-whitespace-space"> </span><span class="org-comment">address</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movl</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ebx</span>,<span class="org-whitespace-space"> </span>8(<span class="org-variable-name">%si</span>)
<span class="org-whitespace-space">        </span><span class="org-keyword">movl</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ecx</span>,<span class="org-whitespace-space"> </span>12(<span class="org-variable-name">%si</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">segment</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">buffer</span><span class="org-whitespace-space"> </span><span class="org-comment">address</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span>$GRUB_BOOT_MACHINE_BUFFER_SEG,<span class="org-whitespace-space"> </span>6(<span class="org-variable-name">%si</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">save</span><span class="org-whitespace-space"> </span><span class="org-comment">%ax</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">destruction!</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20445;&#23384;&#36825;&#27425;&#35201;&#35835;&#21462;&#30340;&#25159;&#21306;&#25968;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">pushw</span><span class="org-whitespace-tab">   </span><span class="org-variable-name">%ax</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">offset</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">buffer</span><span class="org-whitespace-space"> </span><span class="org-comment">address</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span>$0,<span class="org-whitespace-space"> </span>4(<span class="org-variable-name">%si</span>)
<span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">BIOS</span><span class="org-whitespace-space"> </span><span class="org-comment">call</span><span class="org-whitespace-space"> </span><span class="org-comment">"INT</span><span class="org-whitespace-space"> </span><span class="org-comment">0x13</span><span class="org-whitespace-space"> </span><span class="org-comment">Function</span><span class="org-whitespace-space"> </span><span class="org-comment">0x42"</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">read</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">disk</span><span class="org-whitespace-space"> </span><span class="org-comment">into</span><span class="org-whitespace-space"> </span><span class="org-comment">memory</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">      </span><span class="org-comment">Call</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-tab">       </span><span class="org-comment">%ah</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">0x42</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">                      </span><span class="org-comment">%dl</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">drive</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">                      </span><span class="org-comment">%ds:%si</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">segment:offset</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">disk</span><span class="org-whitespace-space"> </span><span class="org-comment">address</span><span class="org-whitespace-space"> </span><span class="org-comment">packet</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">      </span><span class="org-comment">Return:</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">                      </span><span class="org-comment">%al</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">0x0</span><span class="org-whitespace-space"> </span><span class="org-comment">on</span><span class="org-whitespace-space"> </span><span class="org-comment">success;</span><span class="org-whitespace-space"> </span><span class="org-comment">err</span><span class="org-whitespace-space"> </span><span class="org-comment">code</span><span class="org-whitespace-space"> </span><span class="org-comment">on</span><span class="org-whitespace-space"> </span><span class="org-comment">failure</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movb</span><span class="org-whitespace-tab">    </span>$0x42,<span class="org-whitespace-space"> </span><span class="org-variable-name">%ah</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">int</span><span class="org-whitespace-tab">     </span>$0x13
<span class="org-whitespace-space">        </span><span class="org-keyword">jc</span><span class="org-whitespace-tab">      </span>LOCAL(read_error)
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span>$GRUB_BOOT_MACHINE_BUFFER_SEG,<span class="org-whitespace-space"> </span><span class="org-variable-name">%bx</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">jmp</span><span class="org-whitespace-tab">     </span>LOCAL(copy_buffer)
<span class="org-function-name">LOCAL</span>(chs_mode):
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">CHS&#35835;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21028;&#26029;C/H/S&#21442;&#25968;&#26159;&#21542;&#36234;&#30028;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#35843;&#29992;CHS&#35835;&#30340;BIOS&#20013;&#26029;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21442;&#32771;boot.S</span><span class="org-whitespace-space"> </span><span class="org-comment">CHS&#35835;&#27880;&#37322;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">load</span><span class="org-whitespace-space"> </span><span class="org-comment">logical</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">(top</span><span class="org-whitespace-space"> </span><span class="org-comment">half)</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movl</span><span class="org-whitespace-tab">    </span>4(<span class="org-variable-name">%di</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%eax</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">orl</span><span class="org-whitespace-tab">     </span><span class="org-variable-name">%eax</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%eax</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">jnz</span><span class="org-whitespace-tab">     </span>LOCAL(geometry_error)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">load</span><span class="org-whitespace-space"> </span><span class="org-comment">logical</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">(bottom</span><span class="org-whitespace-space"> </span><span class="org-comment">half)</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movl</span><span class="org-whitespace-tab">    </span>(<span class="org-variable-name">%di</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%eax</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">zero</span><span class="org-whitespace-space"> </span><span class="org-comment">%edx</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">xorl</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%edx</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%edx</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">divide</span><span class="org-whitespace-space"> </span><span class="org-comment">by</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">divl</span><span class="org-whitespace-tab">    </span>(<span class="org-variable-name">%si</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">save</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movb</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%dl</span>,<span class="org-whitespace-space"> </span>10(<span class="org-variable-name">%si</span>)
<span class="org-whitespace-space">        </span><span class="org-keyword">xorl</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%edx</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%edx</span><span class="org-whitespace-tab">      </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">zero</span><span class="org-whitespace-space"> </span><span class="org-comment">%edx</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">divl</span><span class="org-whitespace-tab">    </span>4(<span class="org-variable-name">%si</span>)<span class="org-whitespace-tab">          </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">divide</span><span class="org-whitespace-space"> </span><span class="org-comment">by</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">heads</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">save</span><span class="org-whitespace-space"> </span><span class="org-comment">head</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movb</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%dl</span>,<span class="org-whitespace-space"> </span>11(<span class="org-variable-name">%si</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">save</span><span class="org-whitespace-space"> </span><span class="org-comment">cylinder</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ax</span>,<span class="org-whitespace-space"> </span>12(<span class="org-variable-name">%si</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">do</span><span class="org-whitespace-space"> </span><span class="org-comment">we</span><span class="org-whitespace-space"> </span><span class="org-comment">need</span><span class="org-whitespace-space"> </span><span class="org-comment">too</span><span class="org-whitespace-space"> </span><span class="org-comment">many</span><span class="org-whitespace-space"> </span><span class="org-comment">cylinders?</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">cmpw</span><span class="org-whitespace-tab">    </span>8(<span class="org-variable-name">%si</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%ax</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">jge</span><span class="org-whitespace-tab">     </span>LOCAL(geometry_error)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">determine</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">maximum</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">length</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">read</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span>(<span class="org-variable-name">%si</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%ax</span><span class="org-whitespace-tab">      </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">get</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">per</span><span class="org-whitespace-space"> </span><span class="org-comment">track/head</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">subtract</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">subb</span><span class="org-whitespace-tab">    </span>10(<span class="org-variable-name">%si</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%al</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">how</span><span class="org-whitespace-space"> </span><span class="org-comment">many</span><span class="org-whitespace-space"> </span><span class="org-comment">do</span><span class="org-whitespace-space"> </span><span class="org-comment">we</span><span class="org-whitespace-space"> </span><span class="org-comment">really</span><span class="org-whitespace-space"> </span><span class="org-comment">want</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">read?</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">cmpw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ax</span>,<span class="org-whitespace-space"> </span>8(<span class="org-variable-name">%di</span>)<span class="org-whitespace-tab">     </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">compare</span><span class="org-whitespace-space"> </span><span class="org-comment">against</span><span class="org-whitespace-space"> </span><span class="org-comment">total</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">which</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">greater?</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">jg</span><span class="org-whitespace-tab">      </span>2f
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">less</span><span class="org-whitespace-space"> </span><span class="org-comment">than,</span><span class="org-whitespace-space"> </span><span class="org-comment">set</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">total</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span>8(<span class="org-variable-name">%di</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%ax</span>
<span class="org-function-name">2</span>:
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">subtract</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">total</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">subw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ax</span>,<span class="org-whitespace-space"> </span>8(<span class="org-variable-name">%di</span>)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">add</span><span class="org-whitespace-space"> </span><span class="org-comment">into</span><span class="org-whitespace-space"> </span><span class="org-comment">logical</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">addl</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%eax</span>,<span class="org-whitespace-space"> </span>(<span class="org-variable-name">%di</span>)
<span class="org-whitespace-space">        </span><span class="org-keyword">adcl</span><span class="org-whitespace-tab">    </span>$0,<span class="org-whitespace-space"> </span>4(<span class="org-variable-name">%di</span>)
<span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">This</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">loop</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">taking</span><span class="org-whitespace-space"> </span><span class="org-comment">care</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">BIOS</span><span class="org-whitespace-space"> </span><span class="org-comment">geometry</span><span class="org-whitespace-space"> </span><span class="org-comment">translation</span><span class="org-whitespace-space"> </span><span class="org-comment">(ugh!)</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">get</span><span class="org-whitespace-space"> </span><span class="org-comment">high</span><span class="org-whitespace-space"> </span><span class="org-comment">bits</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">cylinder</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movb</span><span class="org-whitespace-tab">    </span>13(<span class="org-variable-name">%si</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%dl</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">shlb</span><span class="org-whitespace-tab">    </span>$6,<span class="org-whitespace-space"> </span><span class="org-variable-name">%dl</span><span class="org-whitespace-tab">         </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">shift</span><span class="org-whitespace-space"> </span><span class="org-comment">left</span><span class="org-whitespace-space"> </span><span class="org-comment">by</span><span class="org-whitespace-space"> </span><span class="org-comment">6</span><span class="org-whitespace-space"> </span><span class="org-comment">bits</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movb</span><span class="org-whitespace-tab">    </span>10(<span class="org-variable-name">%si</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%cl</span><span class="org-whitespace-tab">    </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">get</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">incb</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%cl</span><span class="org-whitespace-tab">             </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">normalize</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">(sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">go</span>
<span class="org-whitespace-space">                                        </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">1-N,</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">0-(N-1)</span><span class="org-whitespace-space"> </span><span class="org-comment">)</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">orb</span><span class="org-whitespace-tab">     </span><span class="org-variable-name">%dl</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%cl</span><span class="org-whitespace-tab">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">composite</span><span class="org-whitespace-space"> </span><span class="org-comment">together</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movb</span><span class="org-whitespace-tab">    </span>12(<span class="org-variable-name">%si</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%ch</span><span class="org-whitespace-tab">    </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">sector+hcyl</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">cl,</span><span class="org-whitespace-space"> </span><span class="org-comment">cylinder</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">ch</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">restore</span><span class="org-whitespace-space"> </span><span class="org-comment">%dx</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">popw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%dx</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">pushw</span><span class="org-whitespace-tab">   </span><span class="org-variable-name">%dx</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">head</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movb</span><span class="org-whitespace-tab">    </span>11(<span class="org-variable-name">%si</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%dh</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">pushw</span><span class="org-whitespace-tab">   </span><span class="org-variable-name">%ax</span><span class="org-whitespace-tab">     </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">save</span><span class="org-whitespace-space"> </span><span class="org-comment">%ax</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">destruction!</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">BIOS</span><span class="org-whitespace-space"> </span><span class="org-comment">call</span><span class="org-whitespace-space"> </span><span class="org-comment">"INT</span><span class="org-whitespace-space"> </span><span class="org-comment">0x13</span><span class="org-whitespace-space"> </span><span class="org-comment">Function</span><span class="org-whitespace-space"> </span><span class="org-comment">0x2"</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">read</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">disk</span><span class="org-whitespace-space"> </span><span class="org-comment">into</span><span class="org-whitespace-space"> </span><span class="org-comment">memory</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">      </span><span class="org-comment">Call</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-tab">       </span><span class="org-comment">%ah</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">0x2</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">                      </span><span class="org-comment">%al</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">                      </span><span class="org-comment">%ch</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">cylinder</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">                      </span><span class="org-comment">%cl</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">(bits</span><span class="org-whitespace-space"> </span><span class="org-comment">6-7</span><span class="org-whitespace-space"> </span><span class="org-comment">are</span><span class="org-whitespace-space"> </span><span class="org-comment">high</span><span class="org-whitespace-space"> </span><span class="org-comment">bits</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">"cylinder")</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">                      </span><span class="org-comment">%dh</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">head</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">                      </span><span class="org-comment">%dl</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">drive</span><span class="org-whitespace-space"> </span><span class="org-comment">(0x80</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">hard</span><span class="org-whitespace-space"> </span><span class="org-comment">disk,</span><span class="org-whitespace-space"> </span><span class="org-comment">0x0</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">floppy</span><span class="org-whitespace-space"> </span><span class="org-comment">disk)</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">                      </span><span class="org-comment">%es:%bx</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">segment:offset</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">buffer</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">      </span><span class="org-comment">Return:</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-tab">                      </span><span class="org-comment">%al</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">0x0</span><span class="org-whitespace-space"> </span><span class="org-comment">on</span><span class="org-whitespace-space"> </span><span class="org-comment">success;</span><span class="org-whitespace-space"> </span><span class="org-comment">err</span><span class="org-whitespace-space"> </span><span class="org-comment">code</span><span class="org-whitespace-space"> </span><span class="org-comment">on</span><span class="org-whitespace-space"> </span><span class="org-comment">failure</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span>$GRUB_BOOT_MACHINE_BUFFER_SEG,<span class="org-whitespace-space"> </span><span class="org-variable-name">%bx</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%bx</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%es</span><span class="org-whitespace-tab">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">load</span><span class="org-whitespace-space"> </span><span class="org-comment">%es</span><span class="org-whitespace-space"> </span><span class="org-comment">segment</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">disk</span><span class="org-whitespace-space"> </span><span class="org-comment">buffer</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">xorw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%bx</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%bx</span><span class="org-whitespace-tab">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">%bx</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">0,</span><span class="org-whitespace-space"> </span><span class="org-comment">put</span><span class="org-whitespace-space"> </span><span class="org-comment">it</span><span class="org-whitespace-space"> </span><span class="org-comment">at</span><span class="org-whitespace-space"> </span><span class="org-comment">0</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">segment</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movb</span><span class="org-whitespace-tab">    </span>$0x2,<span class="org-whitespace-space"> </span><span class="org-variable-name">%ah</span><span class="org-whitespace-tab">       </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">function</span><span class="org-whitespace-space"> </span><span class="org-comment">2</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">int</span><span class="org-whitespace-tab">     </span>$0x13
<span class="org-whitespace-space">        </span><span class="org-keyword">jc</span><span class="org-whitespace-tab">      </span>LOCAL(read_error)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">save</span><span class="org-whitespace-space"> </span><span class="org-comment">source</span><span class="org-whitespace-space"> </span><span class="org-comment">segment</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%es</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%bx</span>
<span class="org-function-name">LOCAL</span>(copy_buffer):
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#26080;&#35770;CHS/LBA,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#32531;&#20914;&#21306;&#22320;&#22336;&#20026;segment:offset=%bx:0x0=0x7000:0x0&#22788;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">load</span><span class="org-whitespace-space"> </span><span class="org-comment">addresses</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">copy</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">disk</span><span class="org-whitespace-space"> </span><span class="org-comment">buffer</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">destination</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#35774;&#32622;&#30446;&#30340;&#27573;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span>10(<span class="org-variable-name">%di</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%es</span><span class="org-whitespace-tab">    </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">load</span><span class="org-whitespace-space"> </span><span class="org-comment">destination</span><span class="org-whitespace-space"> </span><span class="org-comment">segment</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">restore</span><span class="org-whitespace-space"> </span><span class="org-comment">%ax</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#35843;&#29992;BIOS&#20013;&#26029;&#21069;&#24050;&#32463;&#25226;&#36825;&#27425;&#35201;&#35835;&#21462;&#30340;&#25159;&#21306;&#25968;&#21387;&#26632;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#27599;&#20010;&#25159;&#21306;512&#23383;&#33410;&#21363;2^9</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">   </span><span class="org-comment">&#28982;&#21518;%ax&#24038;&#31227;5&#20301;&#24182;&#21152;&#21040;&#27573;&#22320;&#22336;&#19978;,</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">   </span><span class="org-comment">&#27573;&#22320;&#22336;&#35201;&#24038;&#31227;4&#20301;&#25918;&#21040;&#22320;&#22336;&#32447;&#19978;,</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">   </span><span class="org-comment">&#22240;&#27492;,&#31561;&#20215;&#20110;%ax&#24038;&#31227;9&#20301;&#25918;&#21040;&#22320;&#22336;&#32447;&#19978;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">   </span><span class="org-comment">&#36825;&#27491;&#22909;&#26159;&#19968;&#20010;&#25159;&#21306;&#25968;&#25454;&#21344;&#29992;&#30340;&#20869;&#23384;&#31354;&#38388;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">popw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ax</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">determine</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">next</span><span class="org-whitespace-space"> </span><span class="org-comment">possible</span><span class="org-whitespace-space"> </span><span class="org-comment">destination</span><span class="org-whitespace-space"> </span><span class="org-comment">address</span><span class="org-whitespace-space"> </span><span class="org-comment">(presuming</span>
<span class="org-whitespace-space">                </span><span class="org-comment">512</span><span class="org-whitespace-space"> </span><span class="org-comment">byte</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors!)</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#19979;&#19968;&#27425;&#21487;&#33021;&#30340;&#30446;&#30340;&#27573;&#22320;&#22336;(&#24378;&#21046;&#35201;&#27714;512&#23383;&#33410;&#25159;&#21306;)</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#26412;&#27425;&#20351;&#29992;&#30340;&#30446;&#30340;&#27573;&#22312;&#27492;&#20043;&#21069;&#24050;&#32463;&#20445;&#23384;&#21040;%es&#20102;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">shlw</span><span class="org-whitespace-tab">    </span>$5,<span class="org-whitespace-space"> </span><span class="org-variable-name">%ax</span><span class="org-whitespace-tab">         </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">shift</span><span class="org-whitespace-space"> </span><span class="org-comment">%ax</span><span class="org-whitespace-space"> </span><span class="org-comment">five</span><span class="org-whitespace-space"> </span><span class="org-comment">bits</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">left</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">addw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ax</span>,<span class="org-whitespace-space"> </span>10(<span class="org-variable-name">%di</span>)<span class="org-whitespace-tab">    </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">add</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">corrected</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">destination</span>
<span class="org-whitespace-space">                                   </span><span class="org-comment">address</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">next</span><span class="org-whitespace-space"> </span><span class="org-comment">time</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">save</span><span class="org-whitespace-space"> </span><span class="org-comment">addressing</span><span class="org-whitespace-space"> </span><span class="org-comment">regs</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">pusha</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">pushw</span><span class="org-whitespace-tab">   </span><span class="org-variable-name">%ds</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">get</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">copy</span><span class="org-whitespace-space"> </span><span class="org-comment">length</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">%ax&#24038;&#31227;3&#20301;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20849;&#24038;&#31227;8&#20301;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#22240;&#27492;%ax&#20013;&#26159;&#36825;&#27425;&#35835;&#21462;&#30340;&#23383;&#25968;(word,</span><span class="org-whitespace-space"> </span><span class="org-comment">1-word=2-byte)</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#35774;&#32622;%cx&#20026;&#38656;&#35201;&#25335;&#36125;&#30340;&#23383;&#25968;,rep&#20351;&#29992;%cx&#20316;&#20026;&#24490;&#29615;&#35745;&#25968;&#22120;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">shlw</span><span class="org-whitespace-tab">    </span>$3,<span class="org-whitespace-space"> </span><span class="org-variable-name">%ax</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ax</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%cx</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20197;&#25159;&#21306;&#20026;&#21333;&#20301;,&#28304;/&#30446;&#30340;&#20018;&#20559;&#31227;&#37327;&#37117;&#26159;0</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">xorw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%di</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%di</span><span class="org-whitespace-tab">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">zero</span><span class="org-whitespace-space"> </span><span class="org-comment">offset</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">destination</span><span class="org-whitespace-space"> </span><span class="org-comment">addresses</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">xorw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%si</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%si</span><span class="org-whitespace-tab">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">zero</span><span class="org-whitespace-space"> </span><span class="org-comment">offset</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">source</span><span class="org-whitespace-space"> </span><span class="org-comment">addresses</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#36827;&#20837;LOCAL(copy_buffer)&#20043;&#21069;,</span><span class="org-whitespace-space"> </span><span class="org-comment">%bx&#25345;&#26377;&#32531;&#20914;&#21306;&#27573;&#22320;&#22336;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%bx</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">%ds</span><span class="org-whitespace-tab">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">restore</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">source</span><span class="org-whitespace-space"> </span><span class="org-comment">segment</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#23383;&#31526;&#20018;&#25805;&#20316;&#25351;&#38024;&#31227;&#21160;&#26041;&#21521;&#20026;&#21069;&#21521;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">cld</span><span class="org-whitespace-tab">             </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">sets</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">copy</span><span class="org-whitespace-space"> </span><span class="org-comment">direction</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">forward</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">perform</span><span class="org-whitespace-space"> </span><span class="org-comment">copy</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#23436;&#25104;&#25335;&#36125;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">rep</span><span class="org-whitespace-tab">             </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">sets</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">repeat</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movsw</span><span class="org-whitespace-tab">           </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">runs</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">actual</span><span class="org-whitespace-space"> </span><span class="org-comment">copy</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">restore</span><span class="org-whitespace-space"> </span><span class="org-comment">addressing</span><span class="org-whitespace-space"> </span><span class="org-comment">regs</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">print</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">dot</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">correct</span><span class="org-whitespace-space"> </span><span class="org-comment">DS</span>
<span class="org-whitespace-space">           </span><span class="org-comment">(MSG</span><span class="org-whitespace-space"> </span><span class="org-comment">modifies</span><span class="org-whitespace-space"> </span><span class="org-comment">SI,</span><span class="org-whitespace-space"> </span><span class="org-comment">which</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">saved,</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">unused</span><span class="org-whitespace-space"> </span><span class="org-comment">AX</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">BX)</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">MSG&#19981;&#29992;&#21040;DS,</span>
<span class="org-whitespace-space">        </span><span class="org-comment">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#35774;&#32622;&#27491;&#30830;&#30340;&#25968;&#25454;&#27573;&#22320;&#22336;%ds</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#35843;&#29992;MSG&#26174;&#31034;"."</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#23545;&#20110;&#24930;&#36895;&#23384;&#20648;&#35774;&#22791;,</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#25552;&#20379;&#29992;&#25143;&#21453;&#39304;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20197;&#20813;&#34987;&#24403;&#20570;&#27515;&#26426;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">popw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%ds</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">MSG</span>(notification_step)
<span class="org-whitespace-space">        </span><span class="org-keyword">popa</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">check</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">finished</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">dataset</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#26816;&#27979;&#26159;&#21542;&#35835;&#21462;&#23436;&#27605;,</span><span class="org-whitespace-space"> </span><span class="org-comment">8(%di)&#25345;&#26377;&#38656;&#35201;&#35835;&#21462;&#30340;&#21097;&#20313;&#25159;&#21306;&#25968;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">cmpw</span><span class="org-whitespace-tab">    </span>$0,<span class="org-whitespace-space"> </span>8(<span class="org-variable-name">%di</span>)
<span class="org-whitespace-space">        </span><span class="org-keyword">jne</span><span class="org-whitespace-tab">     </span>LOCAL(setup_sectors)
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">update</span><span class="org-whitespace-space"> </span><span class="org-comment">position</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">load</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#26356;&#26032;&#20026;&#19978;&#19968;&#20010;&#25968;&#25454;&#38598;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#24847;&#25351;(firstlist-(x+1)*12)~(firstlist-x*12)&#20301;&#32622;,</span><span class="org-whitespace-space"> </span><span class="org-comment">x&#20174;0&#24320;&#22987;&#36882;&#22686;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21487;&#20197;&#26377;&#22810;&#20010;&#25968;&#25454;&#38598;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20294;&#26159;&#19981;&#33021;&#21644;LOCAL(message)&#37325;&#21472;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#22810;&#20010;&#25968;&#25454;&#38598;&#25968;&#25454;&#26368;&#32456;&#26159;&#21542;&#36830;&#32493;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20381;&#36182;&#20110;&#35813;&#25968;&#25454;&#38598;&#21512;&#19978;&#19968;&#20010;&#25968;&#25454;&#38598;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#32531;&#20914;&#21306;&#27573;&#22320;&#22336;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21542;&#21017;diskboot&#20250;&#20986;&#38169;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21453;&#27719;&#32534;&#26174;&#31034;LOCAL(message)&#32467;&#26463;&#22788;&#22320;&#22336;0x8147</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#22240;&#27492;0x148~0x1FF&#21487;&#20840;&#37096;&#29992;&#20316;&#25968;&#25454;&#38598;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#27599;&#20010;&#25968;&#25454;&#38598;12&#23383;&#33410;,&#26368;&#22810;&#21487;&#26377;(0x200-0x148)/12=15&#20010;&#25968;&#25454;&#38598;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#26368;&#24320;&#22987;&#22788;&#25968;&#25454;&#38598;&#25159;&#21306;&#25968;&#24517;&#39035;&#20026;0</span><span class="org-whitespace-space"> </span><span class="org-comment">(&#21542;&#21017;&#37325;&#21472;&#21040;LOCAL(message)&#21435;&#21862;)</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">==&gt;</span><span class="org-whitespace-space"> </span><span class="org-comment">&#26368;&#22810;&#21487;&#26377;14&#20010;&#26377;&#25928;&#25968;&#25454;&#38598;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21453;&#27719;&#32534;&#23433;&#35013;&#21518;&#30340;diskboot.img&#30340;&#32467;&#26524;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#26174;&#31034;&#21482;&#29992;&#20102;&#19968;&#20010;&#25968;&#25454;&#38598;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#25512;&#23548;:</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">   </span><span class="org-comment">&#27599;&#20010;&#25968;&#25454;&#38598;&#37319;&#29992;2&#23383;&#33410;&#25551;&#36848;&#25159;&#21306;&#25968;,&#22240;&#27492;&#19981;&#33021;&#36229;&#36807;0xFFFF&#20010;&#25159;&#21306;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">   </span><span class="org-comment">14&#20010;&#26377;&#25928;&#25968;&#25454;&#38598;&#20301;&#32622;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#20849;&#35745;&#25159;&#21306;&#25968;0xFFFF*14</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space">   </span><span class="org-comment">&#20849;&#35745;&#23383;&#33410;&#25968;=</span><span class="org-whitespace-space"> </span><span class="org-comment">0xFFFF*14*512=469754880bytes=447MB&#36828;&#36229;&#23454;&#27169;&#24335;&#19979;&#30340;&#23547;&#22336;&#31354;&#38388;&#20102;</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">subw</span><span class="org-whitespace-tab">    </span>$GRUB_BOOT_MACHINE_LIST_SIZE,<span class="org-whitespace-space"> </span><span class="org-variable-name">%di</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">jump</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">bootloop</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#36339;&#36716;&#21040;bootloop&#22788;&#29702;&#19979;&#19968;&#25968;&#25454;&#38598;</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">jmp</span><span class="org-whitespace-tab">     </span>LOCAL(bootloop)
<span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">END</span><span class="org-whitespace-space"> </span><span class="org-comment">OF</span><span class="org-whitespace-space"> </span><span class="org-comment">MAIN</span><span class="org-whitespace-space"> </span><span class="org-comment">LOOP</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#25152;&#26377;&#25968;&#25454;&#35835;&#21462;&#23436;&#27605;</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21333;&#20010;&#25968;&#25454;&#38598;&#20869;&#30340;&#25968;&#25454;&#24635;&#26159;&#36830;&#32493;&#25918;&#32622;&#22312;&#20869;&#23384;&#20013;</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#24403;&#21069;&#21482;&#20351;&#29992;&#19968;&#20010;&#25968;&#25454;&#38598;,&#25918;&#32622;&#22312;0x8200&#36215;&#22987;&#30340;&#20869;&#23384;&#20013;</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">LOCAL(bootit)&#25171;&#21360;&#25552;&#31034;&#20449;&#24687;&#24182;&#36339;&#36716;&#25191;&#34892;</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">GRUB_BOOT_MACHINE_KERNEL_ADDR=0x8000</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">CS:IP=0x0000:0x8200</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">startup.S&#29983;&#25104;&#30340;&#25351;&#20196;&#24320;&#22987;&#25191;&#34892;</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-function-name">LOCAL</span>(bootit):
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">print</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">newline</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">MSG</span>(notification_done)
<span class="org-whitespace-space">        </span><span class="org-keyword">popw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%dx</span><span class="org-whitespace-tab">     </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">makes</span><span class="org-whitespace-space"> </span><span class="org-comment">sure</span><span class="org-whitespace-space"> </span><span class="org-comment">%dl</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">our</span><span class="org-whitespace-space"> </span><span class="org-comment">"boot"</span><span class="org-whitespace-space"> </span><span class="org-comment">drive</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">ljmp</span><span class="org-whitespace-tab">    </span>$0,<span class="org-whitespace-space"> </span>$(GRUB_BOOT_MACHINE_KERNEL_ADDR<span class="org-whitespace-space"> </span>+<span class="org-whitespace-space"> </span>0x200)
<span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#38169;&#35823;&#25552;&#31034;&#23383;&#31526;&#20018;&#21644;&#36755;&#20986;&#20989;&#25968;</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21442;&#32771;boot.S&#27880;&#37322;</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">BIOS</span><span class="org-whitespace-space"> </span><span class="org-comment">Geometry</span><span class="org-whitespace-space"> </span><span class="org-comment">translation</span><span class="org-whitespace-space"> </span><span class="org-comment">error</span><span class="org-whitespace-space"> </span><span class="org-comment">(past</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">end</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">disk</span><span class="org-whitespace-space"> </span><span class="org-comment">geometry!).</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-function-name">LOCAL</span>(geometry_error):
<span class="org-whitespace-space">        </span><span class="org-keyword">MSG</span>(geometry_error_string)
<span class="org-whitespace-space">        </span><span class="org-keyword">jmp</span><span class="org-whitespace-tab">     </span>LOCAL(general_error)
<span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">Read</span><span class="org-whitespace-space"> </span><span class="org-comment">error</span><span class="org-whitespace-space"> </span><span class="org-comment">on</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">disk.</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-function-name">LOCAL</span>(read_error):
<span class="org-whitespace-space">        </span><span class="org-keyword">MSG</span>(read_error_string)
<span class="org-function-name">LOCAL</span>(general_error):
<span class="org-whitespace-space">        </span><span class="org-keyword">MSG</span>(general_error_string)
<span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">go</span><span class="org-whitespace-space"> </span><span class="org-comment">here</span><span class="org-whitespace-space"> </span><span class="org-comment">when</span><span class="org-whitespace-space"> </span><span class="org-comment">you</span><span class="org-whitespace-space"> </span><span class="org-comment">need</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">stop</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">machine</span><span class="org-whitespace-space"> </span><span class="org-comment">hard</span><span class="org-whitespace-space"> </span><span class="org-comment">after</span><span class="org-whitespace-space"> </span><span class="org-comment">an</span><span class="org-whitespace-space"> </span><span class="org-comment">error</span><span class="org-whitespace-space"> </span><span class="org-comment">condition</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-function-name">LOCAL</span>(stop):<span class="org-whitespace-tab">    </span>jmp<span class="org-whitespace-tab">     </span>LOCAL(stop)
<span class="org-function-name">notification_string</span>:<span class="org-whitespace-tab">    </span>.asciz<span class="org-whitespace-space"> </span><span class="org-string">"loading"</span>
<span class="org-function-name">notification_step</span>:<span class="org-whitespace-tab">      </span>.asciz<span class="org-whitespace-space"> </span><span class="org-string">"."</span>
<span class="org-function-name">notification_done</span>:<span class="org-whitespace-tab">      </span>.asciz<span class="org-whitespace-space"> </span><span class="org-string">"/r/n"</span>
<span class="org-function-name">geometry_error_string</span>:<span class="org-whitespace-tab">  </span>.asciz<span class="org-whitespace-space"> </span><span class="org-string">"Geom"</span>
<span class="org-function-name">read_error_string</span>:<span class="org-whitespace-tab">      </span>.asciz<span class="org-whitespace-space"> </span><span class="org-string">"Read"</span>
<span class="org-function-name">general_error_string</span>:<span class="org-whitespace-tab">   </span>.asciz<span class="org-whitespace-space"> </span><span class="org-string">"</span><span class="org-whitespace-space"> </span><span class="org-string">Error"</span>
<span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">message:</span><span class="org-whitespace-space"> </span><span class="org-comment">write</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">string</span><span class="org-whitespace-space"> </span><span class="org-comment">pointed</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">by</span><span class="org-whitespace-space"> </span><span class="org-comment">%si</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">   </span><span class="org-comment">WARNING:</span><span class="org-whitespace-space"> </span><span class="org-comment">trashes</span><span class="org-whitespace-space"> </span><span class="org-comment">%si,</span><span class="org-whitespace-space"> </span><span class="org-comment">%ax,</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">%bx</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">Use</span><span class="org-whitespace-space"> </span><span class="org-comment">BIOS</span><span class="org-whitespace-space"> </span><span class="org-comment">"int</span><span class="org-whitespace-space"> </span><span class="org-comment">10H</span><span class="org-whitespace-space"> </span><span class="org-comment">Function</span><span class="org-whitespace-space"> </span><span class="org-comment">0Eh"</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">write</span><span class="org-whitespace-space"> </span><span class="org-comment">character</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">teletype</span><span class="org-whitespace-space"> </span><span class="org-comment">mode</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-tab">      </span><span class="org-comment">%ah</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">0xe</span><span class="org-whitespace-tab">       </span><span class="org-comment">%al</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">character</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-tab">      </span><span class="org-comment">%bh</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">page</span><span class="org-whitespace-tab">      </span><span class="org-comment">%bl</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">foreground</span><span class="org-whitespace-space"> </span><span class="org-comment">color</span><span class="org-whitespace-space"> </span><span class="org-comment">(graphics</span><span class="org-whitespace-space"> </span><span class="org-comment">modes)</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*/</span>
<span class="org-function-name">1</span>:
<span class="org-whitespace-space">        </span><span class="org-keyword">movw</span><span class="org-whitespace-tab">    </span>$0x0001,<span class="org-whitespace-space"> </span><span class="org-variable-name">%bx</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">movb</span><span class="org-whitespace-tab">    </span>$0xe,<span class="org-whitespace-space"> </span><span class="org-variable-name">%ah</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">int</span><span class="org-whitespace-tab">     </span>$0x10<span class="org-whitespace-tab">           </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">display</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">byte</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">incw</span><span class="org-whitespace-tab">    </span><span class="org-variable-name">%si</span>
<span class="org-function-name">LOCAL</span>(message):
<span class="org-whitespace-space">        </span><span class="org-keyword">movb</span><span class="org-whitespace-tab">    </span>(<span class="org-variable-name">%si</span>),<span class="org-whitespace-space"> </span><span class="org-variable-name">%al</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">cmpb</span><span class="org-whitespace-tab">    </span>$0,<span class="org-whitespace-space"> </span><span class="org-variable-name">%al</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">jne</span><span class="org-whitespace-tab">     </span>1b<span class="org-whitespace-tab">      </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">end</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">string,</span><span class="org-whitespace-space"> </span><span class="org-comment">jmp</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">display</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">ret</span>
<span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21453;&#27719;&#32534;&#32467;&#26524;&#26174;&#31034;,</span><span class="org-whitespace-space"> </span><span class="org-comment">&#27492;&#22788;&#22320;&#22336;&#26159;0x8148</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#21487;&#22312;&#27492;&#22788;&#28155;&#21152;.</span><span class="org-whitespace-space"> </span><span class="org-comment">=</span><span class="org-whitespace-space"> </span><span class="org-comment">_start</span><span class="org-whitespace-space"> </span><span class="org-comment">+</span><span class="org-whitespace-space"> </span><span class="org-comment">0x148</span><span class="org-whitespace-space"> </span><span class="org-comment">&#27979;&#35797;</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">0x148~0x1FF&#20849;&#35745;184&#23383;&#33410;,&#21487;&#23384;&#25918;15&#20010;12&#23383;&#33410;&#30340;&#25968;&#25454;&#38598;</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#25353;&#29031;&#20174;&#19979;&#21040;&#19978;&#30340;&#39034;&#24207;&#23384;&#25918;&#25968;&#25454;&#38598;</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">&#26368;&#21518;&#19968;&#20010;&#26377;&#25928;&#25968;&#25454;&#38598;&#30340;&#25159;&#21306;&#25968;(&#25968;&#25454;&#38598;&#20869;&#20559;&#31227;&#37327;8)&#24517;&#39035;&#20026;0</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*/</span>

<span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">This</span><span class="org-whitespace-space"> </span><span class="org-comment">area</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">an</span><span class="org-whitespace-space"> </span><span class="org-comment">empty</span><span class="org-whitespace-space"> </span><span class="org-comment">space</span><span class="org-whitespace-space"> </span><span class="org-comment">between</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">main</span><span class="org-whitespace-space"> </span><span class="org-comment">body</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">code</span><span class="org-whitespace-space"> </span><span class="org-comment">below</span><span class="org-whitespace-space"> </span><span class="org-comment">which</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">grows</span><span class="org-whitespace-space"> </span><span class="org-comment">up</span><span class="org-whitespace-space"> </span><span class="org-comment">(fixed</span><span class="org-whitespace-space"> </span><span class="org-comment">after</span><span class="org-whitespace-space"> </span><span class="org-comment">compilation,</span><span class="org-whitespace-space"> </span><span class="org-comment">but</span><span class="org-whitespace-space"> </span><span class="org-comment">between</span><span class="org-whitespace-space"> </span><span class="org-comment">releases</span><span class="org-whitespace-space"> </span><span class="org-comment">it</span><span class="org-whitespace-space"> </span><span class="org-comment">may</span><span class="org-whitespace-space"> </span><span class="org-comment">change</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">size</span><span class="org-whitespace-space"> </span><span class="org-comment">easily),</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">lists</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">read,</span><span class="org-whitespace-space"> </span><span class="org-comment">which</span><span class="org-whitespace-space"> </span><span class="org-comment">grows</span><span class="org-whitespace-space"> </span><span class="org-comment">down</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*</span><span class="org-whitespace-space">  </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">fixed</span><span class="org-whitespace-space"> </span><span class="org-comment">top</span><span class="org-whitespace-space"> </span><span class="org-comment">location.</span>
<span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">.word</span><span class="org-whitespace-space"> </span>0
<span class="org-whitespace-space">        </span><span class="org-keyword">.word</span><span class="org-whitespace-space"> </span>0
<span class="org-whitespace-space">        </span>.<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>_start<span class="org-whitespace-space"> </span>+<span class="org-whitespace-space"> </span>0x200<span class="org-whitespace-space"> </span>-<span class="org-whitespace-space"> </span>GRUB_BOOT_MACHINE_LIST_SIZE
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">fill</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">first</span><span class="org-whitespace-space"> </span><span class="org-comment">data</span><span class="org-whitespace-space"> </span><span class="org-comment">listing</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">default</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-function-name">blocklist_default_start</span>:
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">parameter,</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">logical</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span>
<span class="org-whitespace-space">           </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">disk,</span><span class="org-whitespace-space"> </span><span class="org-comment">sector</span><span class="org-whitespace-space"> </span><span class="org-comment">0</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">.long</span><span class="org-whitespace-space"> </span>2,<span class="org-whitespace-space"> </span>0
<span class="org-function-name">blocklist_default_len</span>:
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">number</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">sectors</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">read.</span><span class="org-whitespace-space">  </span><span class="org-comment">grub-mkimage</span>
<span class="org-whitespace-space">           </span><span class="org-comment">will</span><span class="org-whitespace-space"> </span><span class="org-comment">fill</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">up</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">.word</span><span class="org-whitespace-space"> </span>0
<span class="org-function-name">blocklist_default_seg</span>:
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">segment</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">starting</span><span class="org-whitespace-space"> </span><span class="org-comment">address</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">load</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">data</span><span class="org-whitespace-space"> </span><span class="org-comment">into</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">.word</span><span class="org-whitespace-space"> </span>(GRUB_BOOT_MACHINE_KERNEL_SEG<span class="org-whitespace-space"> </span>+<span class="org-whitespace-space"> </span>0x20)
<span class="org-function-name">firstlist</span>:<span class="org-whitespace-tab">      </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">label</span><span class="org-whitespace-space"> </span><span class="org-comment">has</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">be</span><span class="org-whitespace-space"> </span><span class="org-comment">after</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">list</span><span class="org-whitespace-space"> </span><span class="org-comment">data!!!</span><span class="org-whitespace-space"> </span><span class="org-comment">*/</span>
</pre>
</div>
</div>
</div>

<script src="https://utteranc.es/client.js"
        repo="yygcode/yygcode.github.io"
        issue-term="pathname"
        label=" Utterances"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
<noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>
</div>
<div id="postamble" class="status">
<div class="copyright">
2012-2020 Copyright&copy; <i> YANYG - Powered by Emacs Orgmode</i>
</div>
</div>
</body>
</html>
