<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<meta charset="utf-8" />
<title>OS安装与基本配置</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="yanyg" />
<link rel="stylesheet" type="text/css" href="css/htmlize.css" />
<link rel="stylesheet" type="text/css" href="css/readtheorg.css" />
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="js/readtheorg.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">OS安装与基本配置</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#win">1. Windows</a>
<ul>
<li><a href="#orgef4b2db">1.1. 安装</a></li>
<li><a href="#org8441bfe">1.2. 配置</a>
<ul>
<li><a href="#org4e5799e">1.2.1. 输入法</a></li>
<li><a href="#org797e1d5">1.2.2. Shell环境</a></li>
<li><a href="#orgd3fe1b3">1.2.3. 快捷键(热键)</a></li>
<li><a href="#org03a7f11">1.2.4. 文件搜索</a></li>
<li><a href="#org474bd01">1.2.5. Win7鼠标设置自然滚动（反方向滚动）</a></li>
<li><a href="#org5010b08">1.2.6. C盘空间管理（使用一段时间后空间占用变大）</a></li>
<li><a href="#org8878005">1.2.7. 其他</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#linux">2. Linux</a>
<ul>
<li><a href="#linux-debian">2.1. Debian</a>
<ul>
<li><a href="#orga056db4">2.1.1. 20181025 updates</a></li>
<li><a href="#debian-install">2.1.2. 安装</a></li>
<li><a href="#org9ca136d">2.1.3. 配置(9.3.0)</a></li>
<li><a href="#orgec42af1">2.1.4. 配置(8.x.x)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org72c11c6">3. Common</a>
<ul>
<li><a href="#org66d8669">3.1. Google</a></li>
</ul>
</li>
<li><a href="#partition">4. Partition</a></li>
<li><a href="#usb-stick">5. <span class="todo TODO">TODO</span> 随身USB盘</a>
<ul>
<li><a href="#org9447f60">5.1. 工作原理</a></li>
<li><a href="#org228c605">5.2. 制作方式</a>
<ul>
<li><a href="#org6de9239">5.2.1. 分区</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-win" class="outline-2">
<h2 id="win"><span class="section-number-2">1</span> Windows</h2>
<div class="outline-text-2" id="text-win">
</div>
<div id="outline-container-orgef4b2db" class="outline-3">
<h3 id="orgef4b2db"><span class="section-number-3">1.1</span> 安装</h3>
<div class="outline-text-3" id="text-1-1">
<p>
新的设备一般不再提供CD/DVD驱动器，而只有USB接口。<a href="https://www.microsoft.com/zh-cn/download/windows-usb-dvd-download-tool">Windows USB DVD Download Tool</a>是
微软提供的USB安装盘制作工具。USB盘分区复杂或异常可能导致引导失败。最简单可靠的
分区是只保留一个分区，格式化为NTFS。如果想用一个大容量USB制作随身USB盘，请参考
<a href="#usb-stick">随身USB盘</a>。
</p>

<p>
Win7/Win10在安装时会自动生成一个小的隐藏分区，存放引导文件。对分区无特殊规划的
用户，这不会有问题。如果要控制分区方式，需安装前完成分区，此时Win7/Win10把引导
分区内容放置到系统分区内(C盘)。定制分区参见<a href="#partition">Partition</a>。
</p>

<p>
Win单系统安装十分简单。制作USB安装盘，(可选的)准备分区，接入USB盘开机，配置BIOS
或使用F12(部分硬件可能是F9~F12的其他键)，用USB引导安装。
</p>

<p>
部分用户使用盗版系统，Win7破解程序(比如WIN7 Activation.exe)，需要引导分区可见，
右键“我的电脑”，选择“管理”-&gt;“磁盘管理”，右键引导分区，分配驱动器号。
</p>

<p>
Win/Linux双系统参考<a href="#partition">Partition</a>分区。先安装Win系统，完成后安装Linux系统，设置GRUB
引导两个系统，细节参见<a href="#debian-install">Debian Install</a>。如已安装好Linux系统，先在Linux系统下准备好
Windows系统分区，备份磁盘前1MB数据，之后正常Windows，安装完成后使用Live Linux或
Linux安装盘引导，重新刷入备份的1MB数据，调用"update-grub"更新grub，即可完成双
系统引导。
</p>
</div>
</div>

<div id="outline-container-org8441bfe" class="outline-3">
<h3 id="org8441bfe"><span class="section-number-3">1.2</span> 配置</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-org4e5799e" class="outline-4">
<h4 id="org4e5799e"><span class="section-number-4">1.2.1</span> 输入法</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
谷歌拼音(google pinyin)输入法是我一直在用的输入法，高效安静。默认配置英文输入，
使用Ctrl+Shift切换，去除Ctrl+Space等配置(因<a href="emacs.html">Emacs</a>频繁使用Ctrl+Space)。
</p>

<p>
谷歌拼音配置关闭状态切换，初始状态中文语言、标点，半角。皮肤黑白分明。词典
自动记录自造词，并调整词频。状态栏取消浮动状态栏。
</p>

<p>
Window 10热键设置路径控制面板\时钟、语言和区域\语言\高级设置\更改语言栏热键。
操作“在输入语言之间”配置为Ctrl+Shift，中英标点符号配置"Ctrl+."，全半角切换
"Shift+Space"。
</p>
</div>
</div>

<div id="outline-container-org797e1d5" class="outline-4">
<h4 id="org797e1d5"><span class="section-number-4">1.2.2</span> Shell环境</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
大量文件需分类在各级文件夹下保存，相对Linux下的Shell(cd)，Windows的目录切换操作
非常低效。<a href="software.html#msys2">MSYS2</a>和<a href="software.html#cygwin">Cygwin</a>均可提供功能Shell环境。之前多年一直在用Cygwin，后切换
到MSYS2，因为Cygwin缺少一个良好的包管理器(参见分析什么是好的<a href="software-design.html#package-manage">包管理器</a>)，且性能
较MSYS2差，切换到了MSYS2，MSYS2的pacman在安装各类软件时，速度和便捷性都不错。
</p>

<p>
安装配置参见<a href="software.html#msys2">MSYS2</a>。
</p>
</div>
</div>

<div id="outline-container-orgd3fe1b3" class="outline-4">
<h4 id="orgd3fe1b3"><span class="section-number-4">1.2.3</span> 快捷键(热键)</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
每天需要频繁重复打开切换多个可执行程序和文件夹，操作乏味低效。自定义丰富的组合
热键，快速启动/退出/切换软件、进入指定文件夹，能大幅度提高效率和工作愉悦度。
</p>

<p>
典型地，"Ctrl+Win+I"进入工作目录，"Ctrl+Win+E"启动Emacs，"Ctrl+Win+M"启动MSYS2，
"Win+g"启动浏览器Google搜索剪贴板内容<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>。
</p>

<p>
AutoHotKey是Windows平台好用的工具之一，请参考<a href="software.html#autohotkey">AutoHotkey</a>学习安装配置。
</p>
</div>
</div>

<div id="outline-container-org03a7f11" class="outline-4">
<h4 id="org03a7f11"><span class="section-number-4">1.2.4</span> 文件搜索</h4>
<div class="outline-text-4" id="text-1-2-4">
<p>
在硬盘空间动辄TB级的大数据时代，Windows的文件搜索效率导致其已不具有可用性。
<a href="https://www.voidtools.com/downloads/">Everything</a>完美的解决了这个问题，支持正则，秒级完成。
</p>
</div>
</div>
<div id="outline-container-org474bd01" class="outline-4">
<h4 id="org474bd01"><span class="section-number-4">1.2.5</span> Win7鼠标设置自然滚动（反方向滚动）</h4>
<div class="outline-text-4" id="text-1-2-5">
<ul class="org-ul">
<li><a href="http://www.vvse.com/blog/blog/2012/02/27/reverse-scrolling-on-windows-7/">http://www.vvse.com/blog/blog/2012/02/27/reverse-scrolling-on-windows-7/</a></li>
</ul>
<p>
Windows8以下不支持直接配置自然滚动。需要自行更改注册表。
</p>
<ul class="org-ul">
<li>控制面板查找鼠标（控制面板-&gt;硬件和声音-&gt;设备和打印机-&gt;鼠标）</li>
<li>选择"硬件"页，点击需要更改的鼠标，一般是触控板</li>
<li>查看详细信息页中的硬件ID，触控板可能是ACPI\LEN0036类似数值，鼠标是VID_*数值</li>
<li>打开注册表编辑器，进入HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Enum</li>
<li>ACPI设备不提供FlipFlopWheel项，无法配置
<ul class="org-ul">
<li>在ACPI\LEN0036-&gt;DeviceParameters下添加FlipFlopWheel DWORD，设置1，结果无效</li>
<li>Thinkpad在控制面板下打开鼠标，在Thinkpad标签页选择高级-&gt;滚动，选中“切换方向”即可</li>
</ul></li>
<li>VID设备在HID\VID_xxxx\设备下修改DeviceParameters为1</li>
<li>注销重新登录，或者插拔鼠标</li>
</ul>
</div>
</div>

<div id="outline-container-org5010b08" class="outline-4">
<h4 id="org5010b08"><span class="section-number-4">1.2.6</span> C盘空间管理（使用一段时间后空间占用变大）</h4>
<div class="outline-text-4" id="text-1-2-6">
<ul class="org-ul">
<li>Windows.ecb
<ul class="org-ul">
<li>文件位置 C:\ProgramData\Microsoft\Search\Data\Applications\Windows</li>
<li>Windows搜索索引文件，用以加速搜索。此文件可以安全删除，但之后随着搜索使用</li>
</ul></li>
</ul>
<p>
再次变大。
</p>
<ul class="org-ul">
<li>在“控制面板-&gt;索引选项-&gt;高级”中，可设置目标文件夹到其他分区</li>
<li>我使用<a href="software.html#everything">everything</a>搜索，效率更高。用此方法停止此服务：</li>
</ul>
<p>
开始-&gt;设置-&gt;组件服务（或开始-&gt;cmd, 运行services.msc），设置Windows Search
启动类型为禁止，并手动停止服务。
</p>
</div>
</div>

<div id="outline-container-org8878005" class="outline-4">
<h4 id="org8878005"><span class="section-number-4">1.2.7</span> 其他</h4>
<div class="outline-text-4" id="text-1-2-7">
<p>
请参考<a href="software.html">我的软件</a>。
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-linux" class="outline-2">
<h2 id="linux"><span class="section-number-2">2</span> Linux</h2>
<div class="outline-text-2" id="text-linux">
</div>
<div id="outline-container-linux-debian" class="outline-3">
<h3 id="linux-debian"><span class="section-number-3">2.1</span> Debian</h3>
<div class="outline-text-3" id="text-linux-debian">
</div>
<div id="outline-container-orga056db4" class="outline-4">
<h4 id="orga056db4"><span class="section-number-4">2.1.1</span> 20181025 updates</h4>
<div class="outline-text-4" id="text-2-1-1">
</div>
<div id="outline-container-org190f0a7" class="outline-5">
<h5 id="org190f0a7"><span class="section-number-5">2.1.1.1</span> Download debian 9.5.0</h5>
<div class="outline-text-5" id="text-2-1-1-1">
<dl class="org-dl">
<dt>From official websites</dt><dd><a href="https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/debian-9.5.0-amd64-netinst.iso">https://cdimage.debian.org/debian-cd/current/amd64/iso-cd/debian-9.5.0-amd64-netinst.iso</a></dd>
<dt>From Tsinghua mirror</dt><dd><a href="https://mirrors.tuna.tsinghua.edu.cn/debian-cd/9.5.0/amd64/iso-cd/debian-9.5.0-amd64-netinst.iso">https://mirrors.tuna.tsinghua.edu.cn/debian-cd/9.5.0/amd64/iso-cd/debian-9.5.0-amd64-netinst.iso</a></dd>
<dt>Relative Info</dt><dd><a href="https://mirrors.tuna.tsinghua.edu.cn/">https://mirrors.tuna.tsinghua.edu.cn/</a></dd>
</dl>
</div>
</div>

<div id="outline-container-org964307b" class="outline-5">
<h5 id="org964307b"><span class="section-number-5">2.1.1.2</span> Makeing usb-install stick</h5>
<div class="outline-text-5" id="text-2-1-1-2">
<ul class="org-ul">
<li>Be carefully. We assume /dev/sdc is your usb stick</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>cp<span class="org-whitespace-space"> </span>~/Downloads/debian-9.5.0-amd64-netinst.iso<span class="org-whitespace-space"> </span>/dev/sdc
</pre>
</div>
</div>
</div>

<div id="outline-container-org33fd7c1" class="outline-5">
<h5 id="org33fd7c1"><span class="section-number-5">2.1.1.3</span> Install progress ignore</h5>
</div>
<div id="outline-container-org4de43b2" class="outline-5">
<h5 id="org4de43b2"><span class="section-number-5">2.1.1.4</span> Config</h5>
<div class="outline-text-5" id="text-2-1-1-4">
<ul class="org-ul">
<li>/etc/apt/sources.list</li>
</ul>
<div class="org-src-container">
<pre class="src src-text">deb<span class="org-whitespace-space"> </span>http://mirrors.tuna.tsinghua.edu.cn/debian/<span class="org-whitespace-space"> </span>stretch<span class="org-whitespace-space"> </span>main<span class="org-whitespace-space"> </span>contrib<span class="org-whitespace-space"> </span>non-free
deb-src<span class="org-whitespace-space"> </span>http://mirrors.tuna.tsinghua.edu.cn/debian/<span class="org-whitespace-space"> </span>stretch<span class="org-whitespace-space"> </span>main<span class="org-whitespace-space"> </span>contrib<span class="org-whitespace-space"> </span>non-fre<span class="org-whitespace-line">e</span>

deb<span class="org-whitespace-space"> </span>http://security.debian.org/debian-security<span class="org-whitespace-space"> </span>stretch/updates<span class="org-whitespace-space"> </span>main<span class="org-whitespace-space"> </span>contrib<span class="org-whitespace-space"> </span>non-<span class="org-whitespace-line">free</span>
deb-src<span class="org-whitespace-space"> </span>http://security.debian.org/debian-security<span class="org-whitespace-space"> </span>stretch/updates<span class="org-whitespace-space"> </span>main<span class="org-whitespace-space"> </span>contrib<span class="org-whitespace-space"> </span><span class="org-whitespace-line">non-free</span>

#<span class="org-whitespace-space"> </span>stretch-updates,<span class="org-whitespace-space"> </span>previously<span class="org-whitespace-space"> </span>known<span class="org-whitespace-space"> </span>as<span class="org-whitespace-space"> </span>'volatile'
deb<span class="org-whitespace-space"> </span>http://mirrors.tuna.tsinghua.edu.cn/debian/<span class="org-whitespace-space"> </span>stretch-updates<span class="org-whitespace-space"> </span>main<span class="org-whitespace-space"> </span>contrib<span class="org-whitespace-space"> </span>non<span class="org-whitespace-line">-free</span>
deb-src<span class="org-whitespace-space"> </span>http://mirrors.tuna.tsinghua.edu.cn/debian/<span class="org-whitespace-space"> </span>stretch-updates<span class="org-whitespace-space"> </span>main<span class="org-whitespace-space"> </span>contrib<span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-whitespace-line">non-free</span>
</pre>
</div>

<ul class="org-ul">
<li>If your WLAN could not worked, check firmware</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">~#<span class="org-whitespace-space"> </span>dmesg
...
iwlwifi<span class="org-whitespace-space"> </span>0000:03:00.0:<span class="org-whitespace-space"> </span>Direct<span class="org-whitespace-space"> </span>firmware<span class="org-whitespace-space"> </span>load<span class="org-whitespace-space"> </span>for<span class="org-whitespace-space"> </span>iwlwifi-6000g2a-6.ucode<span class="org-whitespace-space"> </span>failed<span class="org-whitespace-space"> </span>wi<span class="org-whitespace-line">th</span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-whitespace-line">error</span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-whitespace-line">-2</span>
</pre>
</div>
<p>
I download linux-firmware git and find correct fw:
</p>
<div class="org-src-container">
<pre class="src src-text">git://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git
</pre>
</div>

<ul class="org-ul">
<li>Install sudo and config with nopasswd</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">~#<span class="org-whitespace-space"> </span>apt-get<span class="org-whitespace-space"> </span>update
~#<span class="org-whitespace-space"> </span>apt-get<span class="org-whitespace-space"> </span>install<span class="org-whitespace-space"> </span>sudo
~#<span class="org-whitespace-space"> </span>vi<span class="org-whitespace-space"> </span>/etc/sudoers
yanyg<span class="org-whitespace-tab">   </span><span class="org-variable-name">ALL</span>=(ALL:ALL)<span class="org-whitespace-space"> </span>NOPASSWD:<span class="org-whitespace-space"> </span>ALL
</pre>
</div>

<ul class="org-ul">
<li>Disable packagekit service because I always install/update manually</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter">#</span><span class="org-whitespace-space"> </span><span class="org-comment">ref:</span><span class="org-whitespace-space"> </span><span class="org-comment">https://wiki.debian.org/Daemon</span>
~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>systemctl<span class="org-whitespace-space"> </span>--now<span class="org-whitespace-space"> </span>disable<span class="org-whitespace-space"> </span>packagekit
</pre>
</div>

<ul class="org-ul">
<li>Install development env.
See <a href="#debian-install-devel">Install Debian Development Env</a>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-debian-install" class="outline-4">
<h4 id="debian-install"><span class="section-number-4">2.1.2</span> 安装</h4>
<div class="outline-text-4" id="text-debian-install">
<p>
使用<a href="https://unetbootin.github.io/">unetbootin</a>制作USB安装盘，U盘引导安装。当前unetbootin支持FAT32，不支持NTFS。
</p>

<p>
Linux分区尝试过将/、boot、swap、home使用不同分区，多年使用经验证明几乎没有必要。
将home分区分离一定程度是有价值的————将来重格做新系统时，只格系统分区，保留home
分区，避免数据备份工作。
</p>

<p>
Win/Linux双系统安装，先安装Windows，再安装Linux，安装完Linux后，root权限下运行
<code>update-grub</code> 更新配置文件, 手动修改 <code>defaults</code> 设置默认操作系统，如果只安装了
Debian和Windows，一般更改/boot/grub/grub.cfg <code>set defaults="2"</code> 默认从Windows
启动。
</p>

<p>
GRUB图形配置和Windows图形配置在部分平台上有缺陷，会导致Windows开机过程中出现
花屏死机。设置GRUB为console模式解决此问题。Debian系统修改/etc/default/grub文件，
去掉 <code>GRUB_TERMINAL=console</code> 行注释，如没有此行直接在最后加入。修改完成后，需
执行 <code>update-grub</code> 使其生效。
</p>
</div>
</div>

<div id="outline-container-org9ca136d" class="outline-4">
<h4 id="org9ca136d"><span class="section-number-4">2.1.3</span> 配置(9.3.0)</h4>
<div class="outline-text-4" id="text-2-1-3">
</div>
<div id="outline-container-orga63dcc3" class="outline-5">
<h5 id="orga63dcc3"><span class="section-number-5">2.1.3.1</span> APT源(apt source)</h5>
<div class="outline-text-5" id="text-2-1-3-1">
<p>
打开终端，使用su升级为root用户，执行本节操作。
</p>

<p>
参考<a href="https://wiki.debian.org/SourcesList">https://wiki.debian.org/SourcesList</a>。修改/etc/apt/sources.list如下，该文件
其他内容可用#打头注释或直接移除。
</p>
<div class="org-src-container">
<pre class="src src-conf">deb  http://deb.debian.org/debian stretch main contrib non-free
deb-src  http://deb.debian.org/debian stretch main contrib non-free

deb  http://deb.debian.org/debian stretch-updates main contrib non-free
deb-src  http://deb.debian.org/debian stretch-updates main contrib non-free

deb http://security.debian.org/ stretch/updates main contrib non-free
deb-src http://security.debian.org/ stretch/updates main contrib non-free
</pre>
</div>

<p>
9.3.0版本自启动服务unattended-upgrades后台更新，这会占用/var/lib/dpkg/lock锁，
导致后面的安装失败。我个人更喜欢自己控制更新与软件包安装，因此直接停掉该服务：
</p>
<dl class="org-dl">
<dt>Step 1</dt><dd>修改文件/etc/apt/apt.conf.d/20auto-upgrades停止自动升级：<br /></dd>
</dl>
<p>
APT::Periodic::Update-Package-Lists "0";
APT::Periodic::Unattended-Upgrade "0";
</p>
<dl class="org-dl">
<dt>Step 2</dt><dd>立即停止服务 systemctl stop unattended-upgrades</dd>
</dl>
<p>
查看可以看是否已停止：
</p>
<div class="org-src-container">
<pre class="src src-sh">~#<span class="org-whitespace-space"> </span>systemctl<span class="org-whitespace-space"> </span>list-units<span class="org-whitespace-space"> </span>-t<span class="org-whitespace-space"> </span>service<span class="org-whitespace-space"> </span>|<span class="org-whitespace-space"> </span>grep<span class="org-whitespace-space"> </span>unattended-upgrades
<span class="org-comment-delimiter">#</span><span class="org-whitespace-space"> </span><span class="org-comment">or</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">lsof</span>
~#<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>lsof<span class="org-whitespace-space"> </span>|<span class="org-whitespace-space"> </span>grep<span class="org-whitespace-space"> </span>/var/lib/dpkg/lock
</pre>
</div>

<p>
执行更新，超级用户安装vim和sudo：
</p>
<div class="org-src-container">
<pre class="src src-shell">~#<span class="org-whitespace-space"> </span>apt-get<span class="org-whitespace-space"> </span>update
~#<span class="org-whitespace-space"> </span>apt-get<span class="org-whitespace-space"> </span>install<span class="org-whitespace-space"> </span>vim<span class="org-whitespace-space"> </span>sudo
</pre>
</div>

<p>
编辑/etc/sudoers，在root行下面添加yanyg用户：
</p>
<div class="org-src-container">
<pre class="src src-sh">~#<span class="org-whitespace-space"> </span>vim<span class="org-whitespace-space"> </span>/etc/sudoers
root<span class="org-whitespace-space">    </span><span class="org-variable-name">ALL</span>=(ALL:ALL)<span class="org-whitespace-space"> </span>ALL
yanyg<span class="org-whitespace-space">   </span><span class="org-variable-name">ALL</span>=(ALL:ALL)<span class="org-whitespace-space"> </span>ALL
</pre>
</div>
<p>
/etc/sudoers禁止普通写入，vim执行 :x!强制写入。
</p>

<p>
请退出超级用户，后续安装使用sudo进行，降低操作风险。
</p>
</div>
</div>

<div id="outline-container-debian-install-devel" class="outline-5">
<h5 id="debian-install-devel"><span class="section-number-5">2.1.3.2</span> 安装研发环境</h5>
<div class="outline-text-5" id="text-debian-install-devel">
<p>
APT源已配置好sudo，请使用添加了sudo的普通用户安装如下软件包。
</p>

<p>
研发环境软件包下载大小为200MB~300MB，安装后占用在600MB~1GB之间。如下开发环境安装
后可构建Emacs、内核、模块。
</p>

<div class="org-src-container">
<pre class="src src-sh">~$<span class="org-whitespace-space"> </span>yes<span class="org-whitespace-space"> </span>|<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">    </span>sudo<span class="org-whitespace-space"> </span>apt-get<span class="org-whitespace-space"> </span>install<span class="org-whitespace-space"> </span>gcc<span class="org-whitespace-space"> </span>linux-headers-4.9.0-4-amd64<span class="org-whitespace-space"> </span>tmux<span class="org-whitespace-space"> </span>terminator<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>manpages<span class="org-whitespace-space"> </span>manpages-dev<span class="org-whitespace-space"> </span>manpages-zh<span class="org-whitespace-space"> </span>manpages-posix<span class="org-whitespace-space"> </span>manpages-posix-dev<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>gnome-shell-extension-taskbar<span class="org-whitespace-space"> </span>gnome-shell-extension-weather<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>gnome-shell-extension-system-monitor<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>gnome-shell-extension-autohidetopbar<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>gnome-shell-extension-multi-monitors<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>gconf-service<span class="org-whitespace-space"> </span>gconf2-common<span class="org-whitespace-space"> </span>libappindicator1<span class="org-whitespace-space"> </span>libdbusmenu-glib4<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>libdbusmenu-gtk4<span class="org-whitespace-space"> </span>libgconf-2-4<span class="org-whitespace-space"> </span>libindicator7<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>libappindicator3-0.1-cil<span class="org-whitespace-space"> </span>ntp<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>autoconf<span class="org-whitespace-space"> </span>automake<span class="org-whitespace-space"> </span>libtool<span class="org-whitespace-space"> </span>cmake<span class="org-whitespace-space"> </span>info<span class="org-whitespace-space"> </span>texinfo<span class="org-whitespace-space"> </span>texi2html<span class="org-whitespace-space"> </span>gettext<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>gettext-doc<span class="org-whitespace-space"> </span>autopoint<span class="org-whitespace-space"> </span>libasprintf-dev<span class="org-whitespace-space"> </span>libgettextpo-dev<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>libxaw7-dev<span class="org-whitespace-space"> </span>libxaw3dxft8-dev<span class="org-whitespace-space"> </span>libxaw-doc<span class="org-whitespace-space"> </span>libxt-doc<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>libx11-dev<span class="org-whitespace-space"> </span>libgtk3.0-cil-dev<span class="org-whitespace-space"> </span>libwxgtk3.0-dev<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>libgnutls28-dev<span class="org-whitespace-space"> </span>libtiff5-dev<span class="org-whitespace-space"> </span>giflib-tools<span class="org-whitespace-space"> </span>libgif-dev<span class="org-whitespace-space"> </span>libjpeg-dev<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>gmp-doc<span class="org-whitespace-space"> </span>libgmp10-doc<span class="org-whitespace-space"> </span>libmpfr-dev<span class="org-whitespace-space"> </span>gnutls-doc<span class="org-whitespace-space"> </span>gnutls-bin<span class="org-whitespace-space"> </span>liblzma-doc<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>libtinfo-dev<span class="org-whitespace-space"> </span>libncursesw5-dev<span class="org-whitespace-space"> </span>libncurses5-dev<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>mailutils<span class="org-whitespace-space"> </span>mailutils-doc<span class="org-whitespace-space"> </span>xaw3dg-dev<span class="org-whitespace-space"> </span>libcairo2-dev<span class="org-whitespace-space"> </span>librsvg2-dev<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>liblcms2-dev<span class="org-whitespace-space"> </span>imagemagick<span class="org-whitespace-space"> </span>libmagick++-dev<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>libdbus-1-dev<span class="org-whitespace-space"> </span>libdbus-glib-1-dev<span class="org-whitespace-space"> </span>libdbus-c++-dev<span class="org-whitespace-space"> </span>gconf2<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>libgconf2-dev<span class="org-whitespace-space"> </span>libm17n-dev<span class="org-whitespace-space"> </span>libotf-dev<span class="org-whitespace-space"> </span>libxft-dev<span class="org-whitespace-space"> </span>libcairo2-dev<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>gir1.2-poppler-0.18<span class="org-whitespace-space"> </span>libpoppler-dev<span class="org-whitespace-space"> </span>libpoppler-glib-dev<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>libpoppler-dev<span class="org-whitespace-space"> </span>libpoppler-glib-dev<span class="org-whitespace-space"> </span>libpoppler-private-dev<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>global<span class="org-whitespace-space"> </span>fcitx-googlepinyin<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>fonts-arphic-bkai00mp<span class="org-whitespace-space"> </span>fonts-arphic-bsmi00lp<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>fonts-arphic-gbsn00lp<span class="org-whitespace-space"> </span>fonts-arphic-gkai00mp<span class="org-whitespace-space"> </span>fonts-arphic-ukai<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>rdesktop<span class="org-whitespace-space"> </span>mplayer<span class="org-whitespace-space"> </span>ffmpeg<span class="org-whitespace-space"> </span>vlc<span class="org-whitespace-space"> </span>libgtk-3-dev<span class="org-whitespace-space"> </span>mjpegtools<span class="org-whitespace-space"> </span>mediainfo<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
<span class="org-whitespace-space">         </span>libwebkitgtk-3.0-dev<span class="org-whitespace-space"> </span>libwebkitgtk-dev<span class="org-whitespace-space"> </span>libwebkit2gtk-4.0-dev<span class="org-whitespace-space"> </span><span class="org-sh-escaped-newline">\</span>
</pre>
</div>

<p>
默认安装为英文en_US.UTF-8的，中文环境需要安装locales zh_CN.UTF-8：
</p>
<div class="org-src-container">
<pre class="src src-sh">~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>dpkg-reconfigure<span class="org-whitespace-space"> </span>locales
</pre>
</div>
<p>
不安装zh_CN.UTF-8 locales时，emacs无法输入中文。
</p>
</div>
</div>

<div id="outline-container-orgfa14352" class="outline-5">
<h5 id="orgfa14352"><span class="section-number-5">2.1.3.3</span> 配置上网环境</h5>
<div class="outline-text-5" id="text-2-1-3-3">
<p>
安装Google Chrome浏览器，并安装lantern代理：
</p>
<div class="org-src-container">
<pre class="src src-sh">~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>dpkg<span class="org-whitespace-space"> </span>-i<span class="org-whitespace-space"> </span>google-chrome-stable-20171220.deb
~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>dpkg<span class="org-whitespace-space"> </span>-i<span class="org-whitespace-space"> </span>lantern-installer-64-bit-20171219.deb
</pre>
</div>
<p>
安装后在终端运行lantern，确认可以正常启动运行，如果报告缺少某些库退出，用apt-get
手动安装对应软件包。
</p>

<dl class="org-dl">
<dt>Lantern Debian</dt><dd><a href="https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb">GitHub Lantern 4.4.1 Deb</a></dd>
<dt>Google Chrome</dt><dd><a href="https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb">Google Chrome Amd64 Deb (Current Version)</a></dd>
</dl>
</div>
</div>

<div id="outline-container-org38e9b86" class="outline-5">
<h5 id="org38e9b86"><span class="section-number-5">2.1.3.4</span> 配置X11界面</h5>
<div class="outline-text-5" id="text-2-1-3-4">
<p>
启动tweak tool配置自己预期的X桌面环境：
</p>
<ul class="org-ul">
<li>static workspace: 4</li>
<li>auto hide top bar</li>
<li>config weather: Beijing, CN</li>
</ul>
</div>
</div>

<div id="outline-container-org11d23cf" class="outline-5">
<h5 id="org11d23cf"><span class="section-number-5">2.1.3.5</span> 时间配置</h5>
<div class="outline-text-5" id="text-2-1-3-5">
<p>
通常会遇到时间Linux/Windows下时间不一致问题。这是因为两者一个使用UTC，一个使用
Local-RTC导致，修改为一致即可。修改时间与时区命令如下：
</p>
<div class="org-src-container">
<pre class="src src-sh">~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>timedatectl<span class="org-whitespace-space"> </span>set-local-rtc<span class="org-whitespace-space"> </span>0
~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>timedatectl<span class="org-whitespace-space"> </span>set-timezone<span class="org-whitespace-space"> </span>Asia/Shanghai
~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>timedatectl<span class="org-whitespace-space"> </span>set-ntp<span class="org-whitespace-space"> </span>yes
</pre>
</div>

<p>
重启NTP服务，立即与网络时间同步：
</p>
<div class="org-src-container">
<pre class="src src-sh">~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>/etc/init.d/ntp<span class="org-whitespace-space"> </span>restart
</pre>
</div>
</div>
</div>

<div id="outline-container-debian-config-font" class="outline-5">
<h5 id="debian-config-font"><span class="section-number-5">2.1.3.6</span> 字体增强</h5>
<div class="outline-text-5" id="text-debian-config-font">
<p>
Windows微软雅黑字体设计良好，是我的Emacs默认配置。Linux系统下创建
/usr/share/fonts/windows目录，从Windows系统目录Windows/Fonts(一般是
c:\Windows\Fonts)拷贝文件到新建目录/usr/share/fonts/windows，
执行 <code>sudo fc-cache -fsrv</code> 更新缓存。
</p>

<p>
Debian APT有提供更多字体，使用如下方式查找安装：
</p>
<div class="org-src-container">
<pre class="src src-sh">~$<span class="org-whitespace-space"> </span>apt-cache<span class="org-whitespace-space"> </span>search<span class="org-whitespace-space"> </span>chinese<span class="org-whitespace-space"> </span>|<span class="org-whitespace-space"> </span>grep<span class="org-whitespace-space"> </span>font
</pre>
</div>

<p>
目前的配置英文字体使用<a href="software.html#source-code-pro">Source Code Pro</a>，中文使用微软雅黑(来自Windows)。
</p>
</div>
</div>

<div id="outline-container-orgdb8bcd4" class="outline-5">
<h5 id="orgdb8bcd4"><span class="section-number-5">2.1.3.7</span> 其他配置</h5>
<div class="outline-text-5" id="text-2-1-3-7">
<ul class="org-ul">
<li>参考<a href="software.html">我的软件</a></li>
<li>Emacs参考<a href="emacs.html">Emacs笔记</a>
<ul class="org-ul">
<li>Debian 9.3 + emacs 26.0.90 en_US.UTF-8安装，需要安装zh_CN.UTF-8 locales、
配置 LC_CTYPE=zh_CN.UTF-8、设置 fcitx后才可输入中文。</li>
</ul></li>
<li>Alt-Tab切换只显示当前workspace窗口
<ul class="org-ul">
<li>follows:
<ol class="org-ol">
<li>install dconf-editor</li>
</ol></li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>apt-get<span class="org-whitespace-space"> </span>install<span class="org-whitespace-space"> </span>dconf-editor
</pre>
</div>
<ol class="org-ol">
<li>exec dconf-editor, Navigate to: org -&gt; gnome -&gt; shell -&gt; app-switcher, Set "current-workspace-only" to true</li>
<li>Another: gsettings set org.gnome.shell.app-switcher current-workspace-only true</li>
</ol>
<ul class="org-ul">
<li><a href="https://askubuntu.com/questions/464946/ubuntu-gnome-force-alt-tab-to-only-switch-on-current-workspace">https://askubuntu.com/questions/464946/ubuntu-gnome-force-alt-tab-to-only-switch-on-current-workspace</a></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgec42af1" class="outline-4">
<h4 id="orgec42af1"><span class="section-number-4">2.1.4</span> 配置(8.x.x)</h4>
<div class="outline-text-4" id="text-2-1-4">
</div>
<div id="outline-container-org31a9ee8" class="outline-5">
<h5 id="org31a9ee8"><span class="section-number-5">2.1.4.1</span> APT源(apt source)</h5>
<div class="outline-text-5" id="text-2-1-4-1">
<p>
配置 <code>/etc/apt/sources.list</code>
</p>
<div class="org-src-container">
<pre class="src src-conf">deb http://httpredir.debian.org/debian jessie main contrib non-free
deb-src http://httpredir.debian.org/debian jessie main contrib non-free

deb http://httpredir.debian.org/debian jessie-updates main contrib non-free
deb-src http://httpredir.debian.org/debian jessie-updates main contrib non-free

deb http://security.debian.org/ jessie/updates main contrib non-free
deb-src http://security.debian.org/ jessie/updates main contrib non-free
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcde5696" class="outline-5">
<h5 id="orgcde5696"><span class="section-number-5">2.1.4.2</span> Thinkpad Trackpoint(小红点)配置</h5>
<div class="outline-text-5" id="text-2-1-4-2">
<p>
<a href="https://wiki.debian.org/InstallingDebianOn/Thinkpad/Trackpoint">Debian WIKI</a>中配置介绍, 不同Debian配置方式有差异. 示例如下:
</p>
<div class="org-src-container">
<pre class="src src-shell">~$<span class="org-whitespace-space"> </span>uname<span class="org-whitespace-space"> </span>-a
Linux<span class="org-whitespace-space"> </span>t400<span class="org-whitespace-space"> </span>3.16.0-4-amd64<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">#</span><span class="org-comment">1</span><span class="org-whitespace-space"> </span><span class="org-comment">SMP</span><span class="org-whitespace-space"> </span><span class="org-comment">Debian</span><span class="org-whitespace-space"> </span><span class="org-comment">3.16.43-2</span><span class="org-whitespace-space"> </span><span class="org-comment">(2017-04-30)</span><span class="org-whitespace-space"> </span><span class="org-comment">x86_64</span><span class="org-whitespace-space"> </span><span class="org-comment">GNU/Linux</span>
~$<span class="org-whitespace-space"> </span>su
~#<span class="org-whitespace-space"> </span>cat<span class="org-whitespace-space"> </span>&gt;<span class="org-whitespace-space"> </span>/usr/share/X11/xorg.conf.d/20-thinkpad.conf.1<span class="org-whitespace-space"> </span>&lt;&lt;EOF
<span class="org-sh-heredoc">&gt;</span><span class="org-whitespace-space">  </span><span class="org-sh-heredoc">Section</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">"InputClass"</span>
<span class="org-sh-heredoc">&gt;</span><span class="org-whitespace-space">      </span><span class="org-sh-heredoc">Identifier</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">"Trackpoint</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">Wheel</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">Emulation"</span>
<span class="org-sh-heredoc">&gt;</span><span class="org-whitespace-space">      </span><span class="org-sh-heredoc">MatchProduct</span><span class="org-whitespace-space">       </span><span class="org-sh-heredoc">"TPPS/2</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">IBM</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">TrackPoint|DualPoint</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">Stick|Synaptics</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">Inc.</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc"><span class="org-whitespace-line">Composite</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">TouchPad</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">/</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">TrackPoint|ThinkPad</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">USB</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">Keyboard</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">with</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">TrackPoint|ThinkPad</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">Compact</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">USB</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">Keyboard</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">with</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">TrackPoint|USB</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">Trackpoint</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">pointing</span></span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-sh-heredoc"><span class="org-whitespace-line">device"</span></span>
<span class="org-sh-heredoc">&gt;</span><span class="org-whitespace-space">      </span><span class="org-sh-heredoc">MatchDevicePath</span><span class="org-whitespace-space">    </span><span class="org-sh-heredoc">"/dev/input/event*"</span>
<span class="org-sh-heredoc">&gt;</span><span class="org-whitespace-space">      </span><span class="org-sh-heredoc">Option</span><span class="org-whitespace-space">             </span><span class="org-sh-heredoc">"EmulateWheel"</span><span class="org-whitespace-space">          </span><span class="org-sh-heredoc">"true"</span>
<span class="org-sh-heredoc">&gt;</span><span class="org-whitespace-space">      </span><span class="org-sh-heredoc">Option</span><span class="org-whitespace-space">             </span><span class="org-sh-heredoc">"EmulateWheelButton"</span><span class="org-whitespace-space">    </span><span class="org-sh-heredoc">"2"</span>
<span class="org-sh-heredoc">&gt;</span><span class="org-whitespace-space">      </span><span class="org-sh-heredoc">Option</span><span class="org-whitespace-space">             </span><span class="org-sh-heredoc">"Emulate3Buttons"</span><span class="org-whitespace-space">       </span><span class="org-sh-heredoc">"false"</span>
<span class="org-sh-heredoc">&gt;</span><span class="org-whitespace-space">      </span><span class="org-sh-heredoc">Option</span><span class="org-whitespace-space">             </span><span class="org-sh-heredoc">"XAxisMapping"</span><span class="org-whitespace-space">          </span><span class="org-sh-heredoc">"6</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">7"</span>
<span class="org-sh-heredoc">&gt;</span><span class="org-whitespace-space">      </span><span class="org-sh-heredoc">Option</span><span class="org-whitespace-space">             </span><span class="org-sh-heredoc">"YAxisMapping"</span><span class="org-whitespace-space">          </span><span class="org-sh-heredoc">"4</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">5"</span>
<span class="org-sh-heredoc">&gt;</span><span class="org-whitespace-space">  </span><span class="org-sh-heredoc">EndSection</span>
<span class="org-sh-heredoc">&gt;</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">EOF</span>

<span class="org-sh-heredoc">#</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">comment:</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">save</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">all</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">your</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">X11</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">work</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">and</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">exit,</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">then</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">restart</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">X11</span>
<span class="org-sh-heredoc">~#</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">/etc/init.d/gdm3</span><span class="org-whitespace-space"> </span><span class="org-sh-heredoc">restart</span>
</pre>
</div>
<p>
<a href="https://wiki.archlinux.org/index.php/TrackPoint">ArchLinux</a>和<a href="http://thinkwiki.org/wiki/How_to_configure_the_TrackPoint">thinkwiki</a>也有介绍. 单击真心不好用. :)
</p>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org72c11c6" class="outline-2">
<h2 id="org72c11c6"><span class="section-number-2">3</span> Common</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org66d8669" class="outline-3">
<h3 id="org66d8669"><span class="section-number-3">3.1</span> Google</h3>
<div class="outline-text-3" id="text-3-1">
<p>
使用代理设置时，google会选择错误的位置，默认搜索优先当地语言结果。通过链接
<a href="https://www.google.com/preferences">https://www.google.com/preferences</a>配置Region Settings。
</p>
</div>
</div>
</div>

<div id="outline-container-partition" class="outline-2">
<h2 id="partition"><span class="section-number-2">4</span> Partition</h2>
<div class="outline-text-2" id="text-partition">
<p>
T440分区清单示例如下。sda1安装Windows，sda2安装Debian，sdb做数据盘：
</p>
<div class="org-src-container">
<pre class="src src-sh">~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>fdisk<span class="org-whitespace-space"> </span>-luc
Disk<span class="org-whitespace-space"> </span>/dev/sda:<span class="org-whitespace-space"> </span>232.9<span class="org-whitespace-space"> </span>GiB,<span class="org-whitespace-space"> </span>250059350016<span class="org-whitespace-space"> </span>bytes,<span class="org-whitespace-space"> </span>488397168<span class="org-whitespace-space"> </span>sectors
Units:<span class="org-whitespace-space"> </span>sectors<span class="org-whitespace-space"> </span>of<span class="org-whitespace-space"> </span>1<span class="org-whitespace-space"> </span>*<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes
Sector<span class="org-whitespace-space"> </span>size<span class="org-whitespace-space"> </span>(logical/physical):<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes<span class="org-whitespace-space"> </span>/<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes
I/O<span class="org-whitespace-space"> </span>size<span class="org-whitespace-space"> </span>(minimum/optimal):<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes<span class="org-whitespace-space"> </span>/<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes
Disklabel<span class="org-whitespace-space"> </span>type:<span class="org-whitespace-space"> </span>dos
Disk<span class="org-whitespace-space"> </span>identifier:<span class="org-whitespace-space"> </span>0xbfdedd62

Device<span class="org-whitespace-space">     </span>Boot<span class="org-whitespace-space">     </span>Start<span class="org-whitespace-space">       </span>End<span class="org-whitespace-space">   </span>Sectors<span class="org-whitespace-space">   </span>Size<span class="org-whitespace-space"> </span>Id<span class="org-whitespace-space"> </span>Type
/dev/sda1<span class="org-whitespace-space">  </span>*<span class="org-whitespace-space">         </span>2048<span class="org-whitespace-space"> </span>251660287<span class="org-whitespace-space"> </span>251658240<span class="org-whitespace-space">   </span>120G<span class="org-whitespace-space">  </span>7<span class="org-whitespace-space"> </span>HPFS/NTFS/exFAT
/dev/sda2<span class="org-whitespace-space">       </span>251660288<span class="org-whitespace-space"> </span>488397167<span class="org-whitespace-space"> </span>236736880<span class="org-whitespace-space"> </span>112.9G<span class="org-whitespace-space"> </span>83<span class="org-whitespace-space"> </span>Linux


Disk<span class="org-whitespace-space"> </span>/dev/sdb:<span class="org-whitespace-space"> </span>931.5<span class="org-whitespace-space"> </span>GiB,<span class="org-whitespace-space"> </span>1000204886016<span class="org-whitespace-space"> </span>bytes,<span class="org-whitespace-space"> </span>1953525168<span class="org-whitespace-space"> </span>sectors
Units:<span class="org-whitespace-space"> </span>sectors<span class="org-whitespace-space"> </span>of<span class="org-whitespace-space"> </span>1<span class="org-whitespace-space"> </span>*<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes
Sector<span class="org-whitespace-space"> </span>size<span class="org-whitespace-space"> </span>(logical/physical):<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes<span class="org-whitespace-space"> </span>/<span class="org-whitespace-space"> </span>4096<span class="org-whitespace-space"> </span>bytes
I/O<span class="org-whitespace-space"> </span>size<span class="org-whitespace-space"> </span>(minimum/optimal):<span class="org-whitespace-space"> </span>4096<span class="org-whitespace-space"> </span>bytes<span class="org-whitespace-space"> </span>/<span class="org-whitespace-space"> </span>4096<span class="org-whitespace-space"> </span>bytes
Disklabel<span class="org-whitespace-space"> </span>type:<span class="org-whitespace-space"> </span>dos
Disk<span class="org-whitespace-space"> </span>identifier:<span class="org-whitespace-space"> </span>0xa348c330

Device<span class="org-whitespace-space">     </span>Boot<span class="org-whitespace-space">      </span>Start<span class="org-whitespace-space">        </span>End<span class="org-whitespace-space">   </span>Sectors<span class="org-whitespace-space">   </span>Size<span class="org-whitespace-space"> </span>Id<span class="org-whitespace-space"> </span>Type
/dev/sdb1<span class="org-whitespace-space">             </span>2048<span class="org-whitespace-space">  </span>419432447<span class="org-whitespace-space"> </span>419430400<span class="org-whitespace-space">   </span>200G<span class="org-whitespace-space"> </span>83<span class="org-whitespace-space"> </span>Linux
/dev/sdb2<span class="org-whitespace-space">        </span>419432448<span class="org-whitespace-space">  </span>943720447<span class="org-whitespace-space"> </span>524288000<span class="org-whitespace-space">   </span>250G<span class="org-whitespace-space">  </span>7<span class="org-whitespace-space"> </span>HPFS/NTFS/exFAT
/dev/sdb3<span class="org-whitespace-space">  </span>*<span class="org-whitespace-space">     </span>943720448<span class="org-whitespace-space"> </span>1153435647<span class="org-whitespace-space"> </span>209715200<span class="org-whitespace-space">   </span>100G<span class="org-whitespace-space">  </span>7<span class="org-whitespace-space"> </span>HPFS/NTFS/exFAT
/dev/sdb4<span class="org-whitespace-space">       </span>1153437694<span class="org-whitespace-space"> </span>1953525167<span class="org-whitespace-space"> </span>800087474<span class="org-whitespace-space"> </span>381.5G<span class="org-whitespace-space">  </span>f<span class="org-whitespace-space"> </span>W95<span class="org-whitespace-space"> </span>Ext<span class="org-string">'d</span><span class="org-whitespace-space"> </span><span class="org-string">(LBA)</span>
<span class="org-string">/dev/sdb5</span><span class="org-whitespace-space">       </span><span class="org-string">1468016640</span><span class="org-whitespace-space"> </span><span class="org-string">1572874239</span><span class="org-whitespace-space"> </span><span class="org-string">104857600</span><span class="org-whitespace-space">    </span><span class="org-string">50G</span><span class="org-whitespace-space"> </span><span class="org-string">83</span><span class="org-whitespace-space"> </span><span class="org-string">Linux</span>
<span class="org-string">/dev/sdb6</span><span class="org-whitespace-space">       </span><span class="org-string">1572876288</span><span class="org-whitespace-space"> </span><span class="org-string">1589653503</span><span class="org-whitespace-space">  </span><span class="org-string">16777216</span><span class="org-whitespace-space">     </span><span class="org-string">8G</span><span class="org-whitespace-space"> </span><span class="org-string">82</span><span class="org-whitespace-space"> </span><span class="org-string">Linux</span><span class="org-whitespace-space"> </span><span class="org-string">swap</span><span class="org-whitespace-space"> </span><span class="org-string">/</span><span class="org-whitespace-space"> </span><span class="org-string">Solaris</span>
<span class="org-string">/dev/sdb7</span><span class="org-whitespace-space">       </span><span class="org-string">1589655552</span><span class="org-whitespace-space"> </span><span class="org-string">1835415551</span><span class="org-whitespace-space"> </span><span class="org-string">245760000</span><span class="org-whitespace-space"> </span><span class="org-string">117.2G</span><span class="org-whitespace-space">  </span><span class="org-string">7</span><span class="org-whitespace-space"> </span><span class="org-string">HPFS/NTFS/exFAT</span>
<span class="org-string">/dev/sdb8</span><span class="org-whitespace-space">       </span><span class="org-string">1835417600</span><span class="org-whitespace-space"> </span><span class="org-string">1953523711</span><span class="org-whitespace-space"> </span><span class="org-string">118106112</span><span class="org-whitespace-space">  </span><span class="org-string">56.3G</span><span class="org-whitespace-space">  </span><span class="org-string">7</span><span class="org-whitespace-space"> </span><span class="org-string">HPFS/NTFS/exFAT</span>
<span class="org-string">/dev/sdb9</span><span class="org-whitespace-space">       </span><span class="org-string">1153439744</span><span class="org-whitespace-space"> </span><span class="org-string">1468016639</span><span class="org-whitespace-space"> </span><span class="org-string">314576896</span><span class="org-whitespace-space">   </span><span class="org-string">150G</span><span class="org-whitespace-space">  </span><span class="org-string">7</span><span class="org-whitespace-space"> </span><span class="org-string">HPFS/NTFS/exFAT</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-usb-stick" class="outline-2">
<h2 id="usb-stick"><span class="section-number-2">5</span> <span class="todo TODO">TODO</span> 随身USB盘</h2>
<div class="outline-text-2" id="text-usb-stick">
<p>
随身携带一个大容量USB(32G/64G), 包含完整可引导的操作系统, 以及Debian, Redhat,
CentOS, Win 7, Win 10操作系统的安装包, 在特定环境下直接运行USB系统工作, 或者
解决系统引导异常. 这在开发底层系统, 或对系统做深度定制时是常见的.
</p>
</div>
<div id="outline-container-org9447f60" class="outline-3">
<h3 id="org9447f60"><span class="section-number-3">5.1</span> 工作原理</h3>
<div class="outline-text-3" id="text-5-1">
<p>
用<a href="https://www.gnu.org/software/grub/">GRUB</a>和<a href="https://sourceforge.net/projects/grub4dos/">grub4dos</a>提供多系统引导, 安装Linux到USB盘, 或用<a href="http://www.linuxfromscratch.org/">LFS</a>制作自己的系统.
</p>
</div>
</div>

<div id="outline-container-org228c605" class="outline-3">
<h3 id="org228c605"><span class="section-number-3">5.2</span> 制作方式</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-org6de9239" class="outline-4">
<h4 id="org6de9239"><span class="section-number-4">5.2.1</span> 分区</h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
使用fdisk分区. part1用做grub, part2用做live linux, part3用做Linux安装系统, part4
是扩展分区, part5/6分别用做win安装盘和win下数据盘. 各分区大小根据USB和安装盘
大小进行随意调整. 如下是64GB USB示例:
</p>
<div class="org-src-container">
<pre class="src src-shell">yanyg@t:~$<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>fdisk<span class="org-whitespace-space"> </span>-l<span class="org-whitespace-space"> </span>/dev/sdc

Disk<span class="org-whitespace-space"> </span>/dev/sdc:<span class="org-whitespace-space"> </span>57.9<span class="org-whitespace-space"> </span>GiB,<span class="org-whitespace-space"> </span>62109253632<span class="org-whitespace-space"> </span>bytes,<span class="org-whitespace-space"> </span>121307136<span class="org-whitespace-space"> </span>sectors
Units:<span class="org-whitespace-space"> </span>sectors<span class="org-whitespace-space"> </span>of<span class="org-whitespace-space"> </span>1<span class="org-whitespace-space"> </span>*<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes
Sector<span class="org-whitespace-space"> </span>size<span class="org-whitespace-space"> </span>(logical/physical):<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes<span class="org-whitespace-space"> </span>/<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes
I/O<span class="org-whitespace-space"> </span>size<span class="org-whitespace-space"> </span>(minimum/optimal):<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes<span class="org-whitespace-space"> </span>/<span class="org-whitespace-space"> </span>512<span class="org-whitespace-space"> </span>bytes
Disklabel<span class="org-whitespace-space"> </span>type:<span class="org-whitespace-space"> </span>dos
Disk<span class="org-whitespace-space"> </span>identifier:<span class="org-whitespace-space"> </span>0xcad4ebea

Device<span class="org-whitespace-space">     </span>Boot<span class="org-whitespace-space">     </span>Start<span class="org-whitespace-space">       </span>End<span class="org-whitespace-space">  </span>Sectors<span class="org-whitespace-space">  </span>Size<span class="org-whitespace-space"> </span>Id<span class="org-whitespace-space"> </span>Type
/dev/sdc1<span class="org-whitespace-space">            </span>2048<span class="org-whitespace-space">  </span>33556479<span class="org-whitespace-space"> </span>33554432<span class="org-whitespace-space">   </span>16G<span class="org-whitespace-space"> </span>83<span class="org-whitespace-space"> </span>Linux
/dev/sdc2<span class="org-whitespace-space">        </span>33556480<span class="org-whitespace-space">  </span>75499519<span class="org-whitespace-space"> </span>41943040<span class="org-whitespace-space">   </span>20G<span class="org-whitespace-space"> </span>83<span class="org-whitespace-space"> </span>Linux
/dev/sdc3<span class="org-whitespace-space">        </span>75499520<span class="org-whitespace-space">  </span>88082431<span class="org-whitespace-space"> </span>12582912<span class="org-whitespace-space">    </span>6G<span class="org-whitespace-space"> </span>83<span class="org-whitespace-space"> </span>Linux
/dev/sdc4<span class="org-whitespace-space">        </span>88082432<span class="org-whitespace-space"> </span>121307135<span class="org-whitespace-space"> </span>33224704<span class="org-whitespace-space"> </span>15.9G<span class="org-whitespace-space">  </span>5<span class="org-whitespace-space"> </span>Extended
/dev/sdc5<span class="org-whitespace-space">        </span>88084480<span class="org-whitespace-space"> </span>100667391<span class="org-whitespace-space"> </span>12582912<span class="org-whitespace-space">    </span>6G<span class="org-whitespace-space">  </span>7<span class="org-whitespace-space"> </span>HPFS/NTFS/exFAT
/dev/sdc6<span class="org-whitespace-space">       </span>100669440<span class="org-whitespace-space"> </span>121307135<span class="org-whitespace-space"> </span>20637696<span class="org-whitespace-space">  </span>9.9G<span class="org-whitespace-space">  </span>7<span class="org-whitespace-space"> </span>HPFS/NTFS/exFAT
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">&#33050;&#27880;: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">Win10游戏录制占用该快捷键，进入
开始-&gt;设置-&gt;游戏-&gt;关掉“使用游戏栏记录游戏剪辑、屏幕截图和广播”。</p></div></div>


</div>
</div>
<script src="https://utteranc.es/client.js"
        repo="yygcode/yygcode.github.io"
        issue-term="pathname"
        label=" Utterances"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
<noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>
</div>
<div id="postamble" class="status">
<div class="copyright">
2012-2020 Copyright&copy; <i> YANYG<br/>Powered by Emacs Orgmode</i>
</div>
</div>
</body>
</html>
