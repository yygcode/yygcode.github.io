<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<!-- 2019-12-22 Sun 21:49 -->
<meta charset="utf-8" />
<title>LintCode</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="yanyg" />
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href=""> UP </a>
 |
 <a accesskey="H" href="https://ycode.org"> HOME </a>
</div><div id="content">
<h1 class="title">LintCode</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org3091f7a">1. Algorithms</a>
<ul>
<li><a href="#org395e7ca">1.1. 1.</a>
<ul>
<li><a href="#orga803fda">1.1.1. Description</a></li>
<li><a href="#org33854ea">1.1.2. Answer1</a></li>
</ul>
</li>
<li><a href="#org0ca72a2">1.2. 2. Trailing Zeros</a>
<ul>
<li><a href="#org9130ef2">1.2.1. Description</a></li>
<li><a href="#orgfbc1a7c">1.2.2. Answer1</a></li>
<li><a href="#orgdb2b5ab">1.2.3. Answer2</a></li>
</ul>
</li>
<li><a href="#orgc75b722">1.3. 3. Digit Counts</a>
<ul>
<li><a href="#org22aa960">1.3.1. Description</a></li>
<li><a href="#orgcc3b78a">1.3.2. Answer1</a></li>
<li><a href="#org6cf5f7d">1.3.3. Answer2</a></li>
</ul>
</li>
<li><a href="#org8feaf64">1.4. 4. Ugly Number II</a>
<ul>
<li><a href="#org7fe4263">1.4.1. Description</a></li>
<li><a href="#orgf863979">1.4.2. Answer</a></li>
</ul>
</li>
<li><a href="#orgcf5a59f">1.5. 86. Binary Search Tree Iterator</a>
<ul>
<li><a href="#orgdbb3b32">1.5.1. Description</a></li>
<li><a href="#orgd7acb72">1.5.2. Answer1: usage O(h) by stack</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org3091f7a" class="outline-2">
<h2 id="org3091f7a"><span class="section-number-2">1</span> Algorithms</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org395e7ca" class="outline-3">
<h3 id="org395e7ca"><span class="section-number-3">1.1</span> 1.</h3>
<div class="outline-text-3" id="text-1-1">
</div>
<div id="outline-container-orga803fda" class="outline-4">
<h4 id="orga803fda"><span class="section-number-4">1.1.1</span> Description</h4>
<div class="outline-text-4" id="text-1-1-1">
<ul class="org-ul">
<li>URL: <a href="https://lintcode.com/problem/a-b-problem/description">https://lintcode.com/problem/a-b-problem/description</a></li>
<li>Description</li>
</ul>

<p>
Write a function that add two numbers A and B.
</p>

<p>
There is no need to read data from standard input stream. Both parameters are
given in function aplusb, you job is to calculate the sum and return it.
</p>

<ul class="org-ul">
<li>Clarification
<ul class="org-ul">
<li>Are a and b both 32-bit integers? Yes.</li>
<li>Can I use bit operation? Sure you can.</li>
</ul></li>

<li>Example
<ul class="org-ul">
<li>Given a=1 and b=2 return 3.</li>
</ul></li>

<li>Challenge
<ul class="org-ul">
<li>Of course you can just return a + b to get accepted. But Can you challenge not do it like that?(You should not use + or any arithmetic operators.)</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org33854ea" class="outline-4">
<h4 id="org33854ea"><span class="section-number-4">1.1.2</span> Answer1</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
如果直接使用+实现，本题没有意义，考虑使用位算法（异或、与、或、非）。
</p>

<p>
考虑二进制加法的四种情况：
</p>
<ul class="org-ul">
<li>0+0=0</li>
<li>0+1=1</li>
<li>1+0=1</li>
<li>1+1=0</li>
</ul>

<p>
其结果与按位异或相同，但需要单独考虑进位情况：对应位都为1时，向高位进1。考虑
按位取与，结果保留全部为1的位，左移一位后与之前加法结果相加，迭代进行直到进位
部分为0。递归版本实现如下：
</p>
<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span><span class="org-whitespace-space"> </span><span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">do_sum</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">a</span>,<span class="org-whitespace-space"> </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">b</span>)
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">sum</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">carry</span>;

<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(b<span class="org-whitespace-space"> </span>==<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">                </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>a;

<span class="org-whitespace-space">        </span>sum<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>a^b;
<span class="org-whitespace-space">        </span>carry<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>(a&amp;b)&lt;&lt;1;

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>do_sum(sum,<span class="org-whitespace-space"> </span>carry);
}

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">main</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">argc</span>,<span class="org-whitespace-space"> </span><span class="org-type">char</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">argv</span>[argc])
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">sum</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>do_sum(13579,<span class="org-whitespace-space"> </span>24689),<span class="org-whitespace-space"> </span><span class="org-variable-name">i</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">j</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">k</span>;

<span class="org-whitespace-space">        </span>printf(<span class="org-string">"sum=%d\n"</span>,<span class="org-whitespace-space"> </span>sum);

<span class="org-whitespace-space">        </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(i<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;<span class="org-whitespace-space"> </span>i<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>10000;<span class="org-whitespace-space"> </span>++i)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(j<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;<span class="org-whitespace-space"> </span>j<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>10000;<span class="org-whitespace-space"> </span>++j)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(i<span class="org-whitespace-space"> </span>+j<span class="org-whitespace-space"> </span>!=<span class="org-whitespace-space"> </span>do_sum(i,<span class="org-whitespace-space"> </span>j))<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                                </span>fprintf(stderr,<span class="org-whitespace-space"> </span><span class="org-string">"BUG:</span><span class="org-whitespace-space"> </span><span class="org-string">i(%d)+j(%d)=sum(%d,</span><span class="org-whitespace-space"> </span><span class="org-string">%d)"</span>,
<span class="org-whitespace-space">                                        </span>i,<span class="org-whitespace-space"> </span>j,<span class="org-whitespace-space"> </span>i<span class="org-whitespace-space"> </span>+<span class="org-whitespace-space"> </span>j,<span class="org-whitespace-space"> </span>do_sum(i,<span class="org-whitespace-space"> </span>j));
<span class="org-whitespace-space">                        </span>}
<span class="org-whitespace-space">                </span>}
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>0;
}
</pre>
</div>

<p>
从递归版本优化为迭代版本：
</p>
<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span><span class="org-whitespace-space"> </span><span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">do_sum2</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">a</span>,<span class="org-whitespace-space"> </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">b</span>)
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">old</span>;

<span class="org-whitespace-space">        </span><span class="org-keyword">do</span><span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">reuse</span><span class="org-whitespace-space"> </span><span class="org-comment">variable</span><span class="org-whitespace-space"> </span><span class="org-comment">@a</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">sum</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">@b</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">carry</span><span class="org-whitespace-space"> </span><span class="org-comment-delimiter">*/</span>
<span class="org-whitespace-space">                </span>old<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>a;
<span class="org-whitespace-space">                </span>a<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>a^b;
<span class="org-whitespace-space">                </span>b<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>(old&amp;b)&lt;&lt;1;
<span class="org-whitespace-space">        </span>}<span class="org-whitespace-space"> </span><span class="org-keyword">while</span><span class="org-whitespace-space"> </span>(b);

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>a;
}

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">main</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">argc</span>,<span class="org-whitespace-space"> </span><span class="org-type">char</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">argv</span>[argc])
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">sum</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>do_sum2(13579,<span class="org-whitespace-space"> </span>24689),<span class="org-whitespace-space"> </span><span class="org-variable-name">i</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">j</span>;

<span class="org-whitespace-space">        </span>printf(<span class="org-string">"sum=%d\n"</span>,<span class="org-whitespace-space"> </span>sum);

<span class="org-whitespace-space">        </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(i<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;<span class="org-whitespace-space"> </span>i<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>10000;<span class="org-whitespace-space"> </span>++i)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(j<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;<span class="org-whitespace-space"> </span>j<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>10000;<span class="org-whitespace-space"> </span>++j)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(i<span class="org-whitespace-space"> </span>+j<span class="org-whitespace-space"> </span>!=<span class="org-whitespace-space"> </span>do_sum2(i,<span class="org-whitespace-space"> </span>j))<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                                </span>fprintf(stderr,<span class="org-whitespace-space"> </span><span class="org-string">"BUG:</span><span class="org-whitespace-space"> </span><span class="org-string">i(%d)+j(%d)=sum(%d,</span><span class="org-whitespace-space"> </span><span class="org-string">%d)"</span>,
<span class="org-whitespace-space">                                        </span>i,<span class="org-whitespace-space"> </span>j,<span class="org-whitespace-space"> </span>i<span class="org-whitespace-space"> </span>+<span class="org-whitespace-space"> </span>j,<span class="org-whitespace-space"> </span>do_sum2(i,<span class="org-whitespace-space"> </span>j));
<span class="org-whitespace-space">                        </span>}
<span class="org-whitespace-space">                </span>}
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>0;
}

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0ca72a2" class="outline-3">
<h3 id="org0ca72a2"><span class="section-number-3">1.2</span> 2. Trailing Zeros</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-org9130ef2" class="outline-4">
<h4 id="org9130ef2"><span class="section-number-4">1.2.1</span> Description</h4>
<div class="outline-text-4" id="text-1-2-1">
<ul class="org-ul">
<li>URL: <a href="https://lintcode.com/problem/trailing-zeros/description">https://lintcode.com/problem/trailing-zeros/description</a></li>

<li>Description</li>
</ul>

<p>
Write an algorithm which computes the number of trailing zeros in n factorial.
</p>

<ul class="org-ul">
<li>Example</li>
</ul>

<p>
11! = 39916800, so the out should be 2
</p>

<ul class="org-ul">
<li>Challenge</li>
<li>O(log N) time</li>
</ul>
</div>
</div>

<div id="outline-container-orgfbc1a7c" class="outline-4">
<h4 id="orgfbc1a7c"><span class="section-number-4">1.2.2</span> Answer1</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
计算n阶乘作为被模数，初始化10为模数求余，如果为0则10倍模数，直到结果不为0。
</p>
<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span><span class="org-whitespace-space"> </span><span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-function-name">trailingzeros</span>(<span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-variable-name">n</span>)
{
<span class="org-whitespace-space">        </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-variable-name">m</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>10,<span class="org-whitespace-space"> </span><span class="org-variable-name">c</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0,<span class="org-whitespace-space"> </span><span class="org-variable-name">f</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>n;

<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(0<span class="org-whitespace-space"> </span>==<span class="org-whitespace-space"> </span>n)
<span class="org-whitespace-space">                </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>0;

<span class="org-whitespace-space">        </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>1;<span class="org-whitespace-space"> </span>c<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>n;<span class="org-whitespace-space"> </span>++c)
<span class="org-whitespace-space">                </span>f<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>f*c;

<span class="org-whitespace-space">        </span>c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;

<span class="org-whitespace-space">        </span><span class="org-keyword">while</span><span class="org-whitespace-space"> </span>(0<span class="org-whitespace-space"> </span>==<span class="org-whitespace-space"> </span>(f%m))<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span>++c;
<span class="org-whitespace-space">                </span>m<span class="org-whitespace-space"> </span>*=<span class="org-whitespace-space"> </span>10;
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>c;
}

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">main</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">argc</span>,<span class="org-whitespace-space"> </span><span class="org-type">char</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">argv</span>[argc])
{
<span class="org-whitespace-space">        </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-variable-name">r</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>trailingzeros(11);

<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(r<span class="org-whitespace-space"> </span>!=<span class="org-whitespace-space"> </span>2)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span>fprintf(stderr,<span class="org-whitespace-space"> </span><span class="org-string">"Expect</span><span class="org-whitespace-space"> </span><span class="org-string">11!</span><span class="org-whitespace-space"> </span><span class="org-string">=</span><span class="org-whitespace-space"> </span><span class="org-string">2,</span><span class="org-whitespace-space"> </span><span class="org-string">r=%lld\n"</span>,<span class="org-whitespace-space"> </span>r);
<span class="org-whitespace-space">                </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>1;
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span>fprintf(stdout,<span class="org-whitespace-space"> </span><span class="org-string">"11!</span><span class="org-whitespace-space"> </span><span class="org-string">trailingzeros</span><span class="org-whitespace-space"> </span><span class="org-string">=</span><span class="org-whitespace-space"> </span><span class="org-string">%lld\n"</span>,<span class="org-whitespace-space"> </span>r);
<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>0;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdb2b5ab" class="outline-4">
<h4 id="orgdb2b5ab"><span class="section-number-4">1.2.3</span> Answer2</h4>
<div class="outline-text-4" id="text-1-2-3">
<p>
时间复杂度为O(N)，挑战为O(log N)，优化点在于n!。这是已知的数学公式，参见
<a href="https://en.wikipedia.org/wiki/Legendre%27s_formula">Legendre's formula</a>定理，<a href="https://math.stackexchange.com/questions/111385/derive-a-formula-to-find-the-number-of-trailing-zeroes-in-n">StackExchange</a>有更详细的解释，从数学公式可知，n!中
尾部0的个数等于 $&sum;<sub>1</sub>^&infin;\frac{n}{5^i}$。实现如下：
</p>
<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span><span class="org-whitespace-space"> </span><span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-function-name">trailingzeros2</span>(<span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-variable-name">n</span>)
{
<span class="org-whitespace-space">        </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-variable-name">i</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">c</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;

<span class="org-whitespace-space">        </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(i<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>5;<span class="org-whitespace-space"> </span>n<span class="org-whitespace-space"> </span>&gt;=<span class="org-whitespace-space"> </span>i;<span class="org-whitespace-space"> </span>i<span class="org-whitespace-space"> </span>*=<span class="org-whitespace-space"> </span>5)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span>c<span class="org-whitespace-space"> </span>+=<span class="org-whitespace-space"> </span>n/i;
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>c;
}

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">main</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">argc</span>,<span class="org-whitespace-space"> </span><span class="org-type">char</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">argv</span>[argc])
{
<span class="org-whitespace-space">        </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-variable-name">r</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>trailingzeros2(11);

<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(r<span class="org-whitespace-space"> </span>!=<span class="org-whitespace-space"> </span>2)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span>fprintf(stderr,<span class="org-whitespace-space"> </span><span class="org-string">"Expect</span><span class="org-whitespace-space"> </span><span class="org-string">11!</span><span class="org-whitespace-space"> </span><span class="org-string">=</span><span class="org-whitespace-space"> </span><span class="org-string">2,</span><span class="org-whitespace-space"> </span><span class="org-string">r=%lld\n"</span>,<span class="org-whitespace-space"> </span>r);
<span class="org-whitespace-space">                </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>1;
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span>fprintf(stdout,<span class="org-whitespace-space"> </span><span class="org-string">"11!</span><span class="org-whitespace-space"> </span><span class="org-string">trailingzeros</span><span class="org-whitespace-space"> </span><span class="org-string">=</span><span class="org-whitespace-space"> </span><span class="org-string">%lld\n"</span>,<span class="org-whitespace-space"> </span>r);

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>0;
}

</pre>
</div>

<p>
也可参考<a href="https://www.geeksforgeeks.org/count-trailing-zeroes-factorial-number/">GeeksForGeeks</a>实现。
</p>
</div>
</div>
</div>

<div id="outline-container-orgc75b722" class="outline-3">
<h3 id="orgc75b722"><span class="section-number-3">1.3</span> 3. Digit Counts</h3>
<div class="outline-text-3" id="text-1-3">
</div>
<div id="outline-container-org22aa960" class="outline-4">
<h4 id="org22aa960"><span class="section-number-4">1.3.1</span> Description</h4>
<div class="outline-text-4" id="text-1-3-1">
<ul class="org-ul">
<li>URL: <a href="https://lintcode.com/problem/digit-counts/description">https://lintcode.com/problem/digit-counts/description</a></li>

<li>Description
<ul class="org-ul">
<li>Count the number of k's between 0 and n. k can be 0 - 9.</li>
</ul></li>

<li>Example</li>
</ul>

<p>
if n = 12, k = 1 in
</p>

<p>
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]
</p>

<p>
we have FIVE 1's (1, 10, 11, 12)
</p>
</div>
</div>

<div id="outline-container-orgcc3b78a" class="outline-4">
<h4 id="orgcc3b78a"><span class="section-number-4">1.3.2</span> Answer1</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
最简单的方式是暴力搜索：
</p>
<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span><span class="org-whitespace-space"> </span><span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">countk</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">n</span>,<span class="org-whitespace-space"> </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">k</span>)
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">i</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">v</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">c</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;

<span class="org-whitespace-space">        </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(i<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;<span class="org-whitespace-space"> </span>i<span class="org-whitespace-space"> </span>&lt;=<span class="org-whitespace-space"> </span>n;<span class="org-whitespace-space"> </span>++i)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span>v<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>i;
<span class="org-whitespace-space">                </span><span class="org-keyword">do</span><span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(v%10<span class="org-whitespace-space"> </span>==<span class="org-whitespace-space"> </span>k)
<span class="org-whitespace-space">                                </span>++c;
<span class="org-whitespace-space">                        </span>v<span class="org-whitespace-space"> </span>/=<span class="org-whitespace-space"> </span>10;
<span class="org-whitespace-space">                </span>}<span class="org-whitespace-space"> </span><span class="org-keyword">while</span><span class="org-whitespace-space"> </span>(v);
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>c;
}

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">main</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">argc</span>,<span class="org-whitespace-space"> </span><span class="org-type">char</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">argv</span>[argc])
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">c</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk(12,<span class="org-whitespace-space"> </span>1);

<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(c<span class="org-whitespace-space"> </span>!=<span class="org-whitespace-space"> </span>5)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span>fprintf(stderr,<span class="org-whitespace-space"> </span><span class="org-string">"countk(12,</span><span class="org-whitespace-space"> </span><span class="org-string">1)</span><span class="org-whitespace-space"> </span><span class="org-string">expects</span><span class="org-whitespace-space"> </span><span class="org-string">5,</span><span class="org-whitespace-space"> </span><span class="org-string">calc</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">%d\n"</span>,<span class="org-whitespace-space"> </span>c);
<span class="org-whitespace-space">                </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>1;
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span>c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk(224,<span class="org-whitespace-space"> </span>2);
<span class="org-whitespace-space">        </span>fprintf(stdout,<span class="org-whitespace-space"> </span><span class="org-string">"countk(224,</span><span class="org-whitespace-space"> </span><span class="org-string">2)</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">%d\n"</span>,<span class="org-whitespace-space"> </span>c);

<span class="org-whitespace-space">        </span>c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk(9,<span class="org-whitespace-space"> </span>0);
<span class="org-whitespace-space">        </span>fprintf(stdout,<span class="org-whitespace-space"> </span><span class="org-string">"countk(9,</span><span class="org-whitespace-space"> </span><span class="org-string">0)</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">%d\n"</span>,<span class="org-whitespace-space"> </span>c);

<span class="org-whitespace-space">        </span>c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk(99,<span class="org-whitespace-space"> </span>0);
<span class="org-whitespace-space">        </span>fprintf(stdout,<span class="org-whitespace-space"> </span><span class="org-string">"countk(99,</span><span class="org-whitespace-space"> </span><span class="org-string">0)</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">%d\n"</span>,<span class="org-whitespace-space"> </span>c);

<span class="org-whitespace-space">        </span>c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk(999,<span class="org-whitespace-space"> </span>0);
<span class="org-whitespace-space">        </span>fprintf(stdout,<span class="org-whitespace-space"> </span><span class="org-string">"countk(999,</span><span class="org-whitespace-space"> </span><span class="org-string">0)</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">%d\n"</span>,<span class="org-whitespace-space"> </span>c);

<span class="org-whitespace-space">        </span>c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk(9999,<span class="org-whitespace-space"> </span>0);
<span class="org-whitespace-space">        </span>fprintf(stdout,<span class="org-whitespace-space"> </span><span class="org-string">"countk(9999,</span><span class="org-whitespace-space"> </span><span class="org-string">0)</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">%d\n"</span>,<span class="org-whitespace-space"> </span>c);

<span class="org-whitespace-space">        </span>c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk(99999,<span class="org-whitespace-space"> </span>0);
<span class="org-whitespace-space">        </span>fprintf(stdout,<span class="org-whitespace-space"> </span><span class="org-string">"countk(99999,</span><span class="org-whitespace-space"> </span><span class="org-string">0)</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">%d\n"</span>,<span class="org-whitespace-space"> </span>c);

<span class="org-whitespace-space">        </span>c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk(999999,<span class="org-whitespace-space"> </span>0);
<span class="org-whitespace-space">        </span>fprintf(stdout,<span class="org-whitespace-space"> </span><span class="org-string">"countk(999999,</span><span class="org-whitespace-space"> </span><span class="org-string">0)</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">%d\n"</span>,<span class="org-whitespace-space"> </span>c);

<span class="org-whitespace-space">        </span>c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk(9999999,<span class="org-whitespace-space"> </span>0);
<span class="org-whitespace-space">        </span>fprintf(stdout,<span class="org-whitespace-space"> </span><span class="org-string">"countk(9999999,</span><span class="org-whitespace-space"> </span><span class="org-string">0)</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">%d\n"</span>,<span class="org-whitespace-space"> </span>c);

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>0;
}
</pre>
</div>
<p>
countk(224, 2) is 73
countk(9, 0) is 1
countk(99, 0) is 10
countk(999, 0) is 190
countk(9999, 0) is 2890
countk(99999, 0) is 38890
countk(999999, 0) is 488890
countk(9999999, 0) is 5888890
countk(224, 2) is 73
countk(9, 0) is 1
countk(99, 0) is 10
countk(999, 0) is 190
countk(9999, 0) is 2890
countk(99999, 0) is 38890
countk(999999, 0) is 488890
countk(224, 2) is 73
countk(9, 0) is 1
countk(99, 0) is 10
countk(999, 0) is 190
countk(9999, 0) is 2890
countk(99999, 0) is 38890
</p>
</div>
</div>

<div id="outline-container-org6cf5f7d" class="outline-4">
<h4 id="org6cf5f7d"><span class="section-number-4">1.3.3</span> Answer2</h4>
<div class="outline-text-4" id="text-1-3-3">
<p>
这中间有很多数字是无效的、不必要去扫描的。无论k(0&le; k&le; 9)为何值，考虑[0,10)
范围，只有一个k；考虑[10,100)个位上一定有9个k，而十位上有10个k；考虑[100,1000)
范围，分解为9个[10,100)，并单独考量最高位。
</p>
<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span><span class="org-whitespace-space"> </span><span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">countk</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">n</span>,<span class="org-whitespace-space"> </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">k</span>)
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">i</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">v</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">c</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;

<span class="org-whitespace-space">        </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(i<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;<span class="org-whitespace-space"> </span>i<span class="org-whitespace-space"> </span>&lt;=<span class="org-whitespace-space"> </span>n;<span class="org-whitespace-space"> </span>++i)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span>v<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>i;
<span class="org-whitespace-space">                </span><span class="org-keyword">do</span><span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(v%10<span class="org-whitespace-space"> </span>==<span class="org-whitespace-space"> </span>k)
<span class="org-whitespace-space">                                </span>++c;
<span class="org-whitespace-space">                        </span>v<span class="org-whitespace-space"> </span>/=<span class="org-whitespace-space"> </span>10;
<span class="org-whitespace-space">                </span>}<span class="org-whitespace-space"> </span><span class="org-keyword">while</span><span class="org-whitespace-space"> </span>(v);
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>c;
}

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">countk2</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">n</span>,<span class="org-whitespace-space"> </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">k</span>)
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">xd</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">xbase</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">dbase</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>1,<span class="org-whitespace-space"> </span><span class="org-variable-name">div</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>10,<span class="org-whitespace-space"> </span><span class="org-variable-name">c</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0,<span class="org-whitespace-space"> </span><span class="org-variable-name">k0penalty</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;

<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span>
<span class="org-whitespace-space">         </span><span class="org-comment">*</span><span class="org-whitespace-space"> </span><span class="org-comment">Algorithms</span><span class="org-whitespace-space"> </span><span class="org-comment">Description:</span>
<span class="org-whitespace-space">         </span><span class="org-comment-delimiter">*/</span>

<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">units</span><span class="org-whitespace-space"> </span><span class="org-comment">digit</span><span class="org-whitespace-space"> </span><span class="org-comment">(lowest</span><span class="org-whitespace-space"> </span><span class="org-comment">digit)</span><span class="org-whitespace-space"> </span><span class="org-comment-delimiter">*/</span>
<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(n%10<span class="org-whitespace-space"> </span>&gt;=<span class="org-whitespace-space"> </span>k)
<span class="org-whitespace-space">                </span>c<span class="org-whitespace-space"> </span>+=<span class="org-whitespace-space"> </span>1;

<span class="org-whitespace-space">        </span><span class="org-keyword">while</span>(div<span class="org-whitespace-space"> </span>&lt;=<span class="org-whitespace-space"> </span>n)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">xd</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">x's</span><span class="org-whitespace-space"> </span><span class="org-comment">digits.</span><span class="org-whitespace-space"> </span><span class="org-comment">e.g.:</span><span class="org-whitespace-space"> </span><span class="org-comment">units,</span><span class="org-whitespace-space"> </span><span class="org-comment">tens,</span><span class="org-whitespace-space"> </span><span class="org-comment">hundreds,</span><span class="org-whitespace-space"> </span><span class="org-comment">...</span><span class="org-whitespace-space"> </span><span class="org-comment-delimiter">*/</span>
<span class="org-whitespace-space">                </span>xd<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>n%(div*10);
<span class="org-whitespace-space">                </span>xd<span class="org-whitespace-space"> </span>/=<span class="org-whitespace-space"> </span>div;
<span class="org-whitespace-space">                </span>xbase<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>div/10*dbase;

<span class="org-whitespace-space">                </span>c<span class="org-whitespace-space"> </span>+=<span class="org-whitespace-space"> </span>xd*xbase;
<span class="org-whitespace-space">                </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(xd<span class="org-whitespace-space"> </span>&gt;<span class="org-whitespace-space"> </span>k)
<span class="org-whitespace-space">                        </span>c<span class="org-whitespace-space"> </span>+=<span class="org-whitespace-space"> </span>div;
<span class="org-whitespace-space">                </span><span class="org-keyword">else</span><span class="org-whitespace-space"> </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(xd<span class="org-whitespace-space"> </span>==<span class="org-whitespace-space"> </span>k)
<span class="org-whitespace-space">                        </span>c<span class="org-whitespace-space"> </span>+=<span class="org-whitespace-space"> </span>(n%div)<span class="org-whitespace-space"> </span>+<span class="org-whitespace-space"> </span>1;

<span class="org-whitespace-space">                </span>k0penalty<span class="org-whitespace-space"> </span>+=<span class="org-whitespace-space"> </span>div;<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">/*</span><span class="org-whitespace-space"> </span><span class="org-comment">just</span><span class="org-whitespace-space"> </span><span class="org-comment">used</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">@k</span><span class="org-whitespace-space"> </span><span class="org-comment">==</span><span class="org-whitespace-space"> </span><span class="org-comment">0</span><span class="org-whitespace-space"> </span><span class="org-comment-delimiter">*/</span>
<span class="org-whitespace-space">                </span>div<span class="org-whitespace-space"> </span>*=<span class="org-whitespace-space"> </span>10;
<span class="org-whitespace-space">                </span>++dbase;
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(k<span class="org-whitespace-space"> </span>==<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">                </span>c<span class="org-whitespace-space"> </span>-=<span class="org-whitespace-space"> </span>k0penalty;

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>c;
}

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">main</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">argc</span>,<span class="org-whitespace-space"> </span><span class="org-type">char</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">argv</span>[argc])
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">i</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">j</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">k</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">c</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">c2</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk2(12,<span class="org-whitespace-space"> </span>1);
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">ta</span>[]<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>{0,<span class="org-whitespace-space"> </span>5,<span class="org-whitespace-space"> </span>10,<span class="org-whitespace-space"> </span>48,<span class="org-whitespace-space"> </span>94,<span class="org-whitespace-space"> </span>100,<span class="org-whitespace-space"> </span>102,<span class="org-whitespace-space"> </span>108,<span class="org-whitespace-space"> </span>110,<span class="org-whitespace-space"> </span>111,<span class="org-whitespace-space"> </span>115};
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">ka</span>[]<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>{2,<span class="org-whitespace-space"> </span>0};

<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(c2<span class="org-whitespace-space"> </span>!=<span class="org-whitespace-space"> </span>5)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span>fprintf(stderr,<span class="org-whitespace-space"> </span><span class="org-string">"countk(12,</span><span class="org-whitespace-space"> </span><span class="org-string">1)</span><span class="org-whitespace-space"> </span><span class="org-string">expects</span><span class="org-whitespace-space"> </span><span class="org-string">5,</span><span class="org-whitespace-space"> </span><span class="org-string">calc</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">%d\n"</span>,<span class="org-whitespace-space"> </span>c2);
<span class="org-whitespace-space">                </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>1;
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(i<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;<span class="org-whitespace-space"> </span>i<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>100000;<span class="org-whitespace-space"> </span>++i)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(k<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;<span class="org-whitespace-space"> </span>k<span class="org-whitespace-space"> </span>&lt;=<span class="org-whitespace-space"> </span>9;<span class="org-whitespace-space"> </span>++k)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                        </span>c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk2(i,<span class="org-whitespace-space"> </span>k);
<span class="org-whitespace-space">                        </span>c2<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk2(i,<span class="org-whitespace-space"> </span>k);
<span class="org-whitespace-space">                        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(c<span class="org-whitespace-space"> </span>!=<span class="org-whitespace-space"> </span>c2)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                                </span>fprintf(stderr,
<span class="org-whitespace-space">                                        </span><span class="org-string">"error:</span><span class="org-whitespace-space"> </span><span class="org-string">n(%d)</span><span class="org-whitespace-space"> </span><span class="org-string">k(%d)</span><span class="org-whitespace-space"> </span><span class="org-string">c(%d)</span><span class="org-whitespace-space"> </span><span class="org-string">c2(%d)\n"</span>,
<span class="org-whitespace-space">                                        </span>i,<span class="org-whitespace-space"> </span>k,<span class="org-whitespace-space"> </span>c,<span class="org-whitespace-space"> </span>c2);
<span class="org-whitespace-space">                                </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>1;
<span class="org-whitespace-space">                        </span>}
<span class="org-whitespace-space">                </span>}
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span>c<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>countk2(224,<span class="org-whitespace-space"> </span>2);
<span class="org-whitespace-space">        </span>fprintf(stdout,<span class="org-whitespace-space"> </span><span class="org-string">"countk(224,</span><span class="org-whitespace-space"> </span><span class="org-string">2)</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">%d\n"</span>,<span class="org-whitespace-space"> </span>c);

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>0;
}
</pre>
</div>
<p>
countk(224, 2) is 73
countk(224, 2) is 73
</p>
</div>
</div>
</div>

<div id="outline-container-org8feaf64" class="outline-3">
<h3 id="org8feaf64"><span class="section-number-3">1.4</span> 4. Ugly Number II</h3>
<div class="outline-text-3" id="text-1-4">
</div>
<div id="outline-container-org7fe4263" class="outline-4">
<h4 id="org7fe4263"><span class="section-number-4">1.4.1</span> Description</h4>
<div class="outline-text-4" id="text-1-4-1">
<ul class="org-ul">
<li>Ugly number is a number that only have factors 2, 3 and 5.</li>
<li>Design an algorithm to find the nth ugly number. The first 10 ugly numbers are
1, 2, 3, 4, 5, 6, 8, 9, 10, 12&#x2026;</li>
<li>Note that 1 is typically treated as an ugly number.</li>
<li>Example:
If n=9, return 10.</li>

<li>Challenge:
O(n log n) or O(n) time.</li>
</ul>
</div>
</div>

<div id="outline-container-orgf863979" class="outline-4">
<h4 id="orgf863979"><span class="section-number-4">1.4.2</span> Answer</h4>
<div class="outline-text-4" id="text-1-4-2">
<div class="org-src-container">
<pre class="src src-C"><span class="org-preprocessor">#include</span><span class="org-whitespace-space"> </span><span class="org-string">&lt;stdio.h&gt;</span>
<span class="org-preprocessor">#include</span><span class="org-whitespace-space"> </span><span class="org-string">&lt;malloc.h&gt;</span>

<span class="org-type">unsigned</span><span class="org-whitespace-space"> </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-variable-name">dist</span><span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;

<span class="org-type">void</span><span class="org-whitespace-space"> </span><span class="org-function-name">distance</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">pf2</span>,<span class="org-whitespace-space"> </span><span class="org-type">int</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">pf3</span>,<span class="org-whitespace-space"> </span><span class="org-type">int</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">pf5</span>)
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">pmin</span>,<span class="org-whitespace-space"> </span>*<span class="org-variable-name">pmax</span>;
<span class="org-whitespace-space">        </span><span class="org-type">unsigned</span><span class="org-whitespace-space"> </span><span class="org-type">long</span><span class="org-whitespace-space"> </span><span class="org-variable-name">v</span>;

<span class="org-whitespace-space">        </span>pmin<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>pmax<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>pf2;

<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(pf2<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>pf3)
<span class="org-whitespace-space">                </span>pmax<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>pf3;
<span class="org-whitespace-space">        </span><span class="org-keyword">else</span>
<span class="org-whitespace-space">                </span>pmin<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>pf3;

<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(pmin<span class="org-whitespace-space"> </span>&gt;<span class="org-whitespace-space"> </span>pf5)
<span class="org-whitespace-space">                </span>pmin<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>pf5;
<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(pmax<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>pf5)
<span class="org-whitespace-space">                </span>pmax<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>pf5;

<span class="org-whitespace-space">        </span>v<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>(pmax<span class="org-whitespace-space"> </span>-<span class="org-whitespace-space"> </span>pmin)/4;
<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(v<span class="org-whitespace-space"> </span>&gt;<span class="org-whitespace-space"> </span>dist)
<span class="org-whitespace-space">                </span>dist<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>v;
}

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">nthUglyNumber</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">n</span>)
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">i</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">f</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">f2</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">f3</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">f5</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">ret</span>;
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">pf2</span>,<span class="org-whitespace-space"> </span>*<span class="org-variable-name">pf3</span>,<span class="org-whitespace-space"> </span>*<span class="org-variable-name">pf5</span>;
<span class="org-preprocessor">#define</span><span class="org-whitespace-space"> </span><span class="org-variable-name">SARR_N</span><span class="org-whitespace-tab">  </span>(1024*1024/4)
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span>*<span class="org-variable-name">arr</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">sarr</span>[SARR_N];<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">//</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">stack</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">&lt;</span><span class="org-whitespace-space"> </span><span class="org-comment">1MB</span>

<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(n<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>1)
<span class="org-whitespace-space">                </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>0;

<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(n<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>SARR_N)
<span class="org-whitespace-space">                </span>arr<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>sarr;
<span class="org-whitespace-space">        </span><span class="org-keyword">else</span><span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span>arr<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>malloc(<span class="org-keyword">sizeof</span>(*arr)*n);
<span class="org-whitespace-space">                </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(<span class="org-negation-char">!</span>arr)
<span class="org-whitespace-space">                        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>0;
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span>arr[0]<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>1;
<span class="org-whitespace-space">        </span>f2<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>2;
<span class="org-whitespace-space">        </span>f3<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>3;
<span class="org-whitespace-space">        </span>f5<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>5;
<span class="org-whitespace-space">        </span>pf2<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>pf3<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>pf5<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>arr;

<span class="org-whitespace-space">        </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(i<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>1;<span class="org-whitespace-space"> </span>i<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>n;<span class="org-whitespace-space"> </span>++i)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span>f<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>f2;
<span class="org-whitespace-space">                </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(f3<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>f)
<span class="org-whitespace-space">                        </span>f<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>f3;
<span class="org-whitespace-space">                </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(f5<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>f)
<span class="org-whitespace-space">                        </span>f<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>f5;

<span class="org-whitespace-space">                </span>arr[i]<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>f;
<span class="org-whitespace-space">                </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(f<span class="org-whitespace-space"> </span>==<span class="org-whitespace-space"> </span>f2)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                        </span>f2<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>2*(*++pf2);
<span class="org-whitespace-space">                </span>}
<span class="org-whitespace-space">                </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(f<span class="org-whitespace-space"> </span>==<span class="org-whitespace-space"> </span>f3)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                        </span>f3<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>3*(*++pf3);
<span class="org-whitespace-space">                </span>}
<span class="org-whitespace-space">                </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(f<span class="org-whitespace-space"> </span>==<span class="org-whitespace-space"> </span>f5)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                        </span>f5<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>5*(*++pf5);
<span class="org-whitespace-space">                </span>}

<span class="org-whitespace-space">                </span>distance(pf2,<span class="org-whitespace-space"> </span>pf3,<span class="org-whitespace-space"> </span>pf5);
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span>ret<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>arr[i-1];
<span class="org-whitespace-space">        </span><span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(arr<span class="org-whitespace-space"> </span>!=<span class="org-whitespace-space"> </span>sarr)
<span class="org-whitespace-space">                </span>free(arr);

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>ret;
}

<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-function-name">main</span>(<span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">argc</span>,<span class="org-whitespace-space"> </span><span class="org-type">char</span><span class="org-whitespace-space"> </span>**<span class="org-variable-name">argv</span>)
{
<span class="org-whitespace-space">        </span><span class="org-type">int</span><span class="org-whitespace-space"> </span><span class="org-variable-name">n</span>,<span class="org-whitespace-space"> </span><span class="org-variable-name">v</span>;
<span class="org-whitespace-space">        </span><span class="org-keyword">for</span><span class="org-whitespace-space"> </span>(n<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>0;<span class="org-whitespace-space"> </span>n<span class="org-whitespace-space"> </span>&lt;<span class="org-whitespace-space"> </span>80000;<span class="org-whitespace-space"> </span>++n)<span class="org-whitespace-space"> </span>{
<span class="org-whitespace-space">                </span>v<span class="org-whitespace-space"> </span>=<span class="org-whitespace-space"> </span>nthUglyNumber(n);
<span class="org-whitespace-space">                </span><span class="org-comment-delimiter">//</span><span class="org-comment">printf("UglyNumber(%d)=%d\n",</span><span class="org-whitespace-space"> </span><span class="org-comment">n,</span><span class="org-whitespace-space"> </span><span class="org-comment">v);</span>
<span class="org-whitespace-space">        </span>}

<span class="org-whitespace-space">        </span>printf(<span class="org-string">"dist</span><span class="org-whitespace-space"> </span><span class="org-string">=</span><span class="org-whitespace-space"> </span><span class="org-string">%lu\n"</span>,<span class="org-whitespace-space"> </span>dist);

<span class="org-whitespace-space">        </span><span class="org-keyword">return</span><span class="org-whitespace-space"> </span>0;
}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcf5a59f" class="outline-3">
<h3 id="orgcf5a59f"><span class="section-number-3">1.5</span> 86. Binary Search Tree Iterator</h3>
<div class="outline-text-3" id="text-1-5">
</div>
<div id="outline-container-orgdbb3b32" class="outline-4">
<h4 id="orgdbb3b32"><span class="section-number-4">1.5.1</span> Description</h4>
<div class="outline-text-4" id="text-1-5-1">
<ul class="org-ul">
<li>URL: <a href="https://www.lintcode.com/problem/binary-search-tree-iterator/description">https://www.lintcode.com/problem/binary-search-tree-iterator/description</a></li>

<li>Description</li>
</ul>

<p>
Design an iterator over a binary search tree with the following rules:
</p>

<p>
Elements are visited in ascending order (i.e. an in-order traversal)
next() and hasNext() queries run in O(1) time in average.
</p>

<p>
Have you met this question in a real interview?
</p>

<ul class="org-ul">
<li>Example</li>
</ul>

<p>
For the following binary search tree, in-order traversal by using iterator is [1, 6, 10, 11, 12]
</p>
<p class="verse">
&#xa0;&#xa0;&#xa0;10<br />
&#xa0;/    \<br />
1      11<br />
&#xa0;\       \<br />
&#xa0;&#xa0;6       12<br />
</p>

<ul class="org-ul">
<li>Challenge
<ul class="org-ul">
<li>Extra memory usage O(h), h is the height of the tree.</li>
<li>Super Star: Extra memory usage O(1)</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgd7acb72" class="outline-4">
<h4 id="orgd7acb72"><span class="section-number-4">1.5.2</span> Answer1: usage O(h) by stack</h4>
</div>
</div>
</div>
</div>
</body>
</html>
