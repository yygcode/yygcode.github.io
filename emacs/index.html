<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-CN">
<head>
<meta charset="utf-8" />
<title>Emacs Notes Emacs Configuration Org File</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="yanyg &lt;yygcode@gmail.com&gt; yonggang.yyg" />
<link rel="stylesheet" type="text/css" href="/themes/readtheorg/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="/themes/readtheorg/styles/readtheorg/css/readtheorg.css"/>
<script src="/themes/jquery/2.1.3/jquery.min.js"></script>
<script src="/themes/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="/themes/readtheorg/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="/themes/readtheorg/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../index.html"> UP </a>
 |
 <a accesskey="H" href="index.html"> HOME </a>
</div><div id="content">
<h1 class="title">Emacs Notes Emacs Configuration Org File</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org65d28f9">1. Introduction</a>
<ul>
<li><a href="#org985b9be">1.1. What is Emacs</a></li>
<li><a href="#orgbed7247">1.2. Emacs and VI</a></li>
<li><a href="#orga4820c1">1.3. Goals</a></li>
<li><a href="#orgb73bef6">1.4. Install</a>
<ul>
<li><a href="#org1cb925b">1.4.1. Binary Install</a></li>
<li><a href="#org172788d">1.4.2. Source Install</a></li>
</ul>
</li>
<li><a href="#modifier-key">1.5. Modifier Key</a></li>
<li><a href="#orgf8deca0">1.6. Config</a></li>
<li><a href="#orgfd23938">1.7. Start</a></li>
<li><a href="#org2ad4186">1.8. References</a></li>
</ul>
</li>
<li><a href="#org75ff9b6">2. Packagement</a>
<ul>
<li><a href="#org5c7c6f4">2.1. Package system</a></li>
<li><a href="#org986b3c4">2.2. org-babel</a></li>
<li><a href="#org724d3c0">2.3. Config</a></li>
<li><a href="#orgf29074d">2.4. References</a></li>
</ul>
</li>
<li><a href="#org174026b">3. Keybinding</a></li>
<li><a href="#orgf49d1cf">4. FAQ</a>
<ul>
<li><a href="#org2d44a1b">4.1. Show pressed key</a></li>
<li><a href="#orgc9f757b">4.2. GUI下无法输入中文</a></li>
<li><a href="#orgd1ce152">4.3. 启动daemon，terminal下拉起emacsclient，输入中文时光标跳跃，且会把左边框弄乱</a></li>
</ul>
</li>
<li><a href="#org93d5e83">5. My Config</a>
<ul>
<li><a href="#org1c267d4">5.1. github</a></li>
<li><a href="#orge1b6e59">5.2. init.el</a></li>
<li><a href="#orgbea9c6d">5.3. auxiliary</a></li>
<li><a href="#org6a92129">5.4. package</a></li>
<li><a href="#orgfc2dd26">5.5. config.org</a>
<ul>
<li><a href="#header">5.5.1. Header</a></li>
<li><a href="#org19a2c57">5.5.2. Profiler</a>
<ul>
<li><a href="#org8495a19">5.5.2.1. Wrapper function</a></li>
<li><a href="#org7bb9f5a">5.5.2.2. esup - startup profiler</a></li>
<li><a href="#orgc628d22">5.5.2.3. benchmark - profile execution time</a></li>
</ul>
</li>
<li><a href="#orgd5a8ec4">5.5.3. Auxiliary</a></li>
<li><a href="#orga833117">5.5.4. keybinds</a>
<ul>
<li><a href="#org9d34358">5.5.4.1. introduction</a></li>
<li><a href="#org3f30531">5.5.4.2. basic keybind</a></li>
<li><a href="#org4da29c1">5.5.4.3. browse code keybind</a></li>
<li><a href="#orge3f1594">5.5.4.4. command-frequencey analysis</a></li>
<li><a href="#orge48d563">5.5.4.5. which key - keybinds help</a></li>
</ul>
</li>
<li><a href="#orgfc43200">5.5.5. Editor</a></li>
<li><a href="#orgb20fb36">5.5.6. Display</a>
<ul>
<li><a href="#org5021142">5.5.6.1. behavior</a></li>
<li><a href="#org13c32e6">5.5.6.2. font</a></li>
<li><a href="#orgce63157">5.5.6.3. modeline</a></li>
<li><a href="#org2662f30">5.5.6.4. theme</a></li>
<li><a href="#org5463657">5.5.6.5. ui</a></li>
<li><a href="#org2120e05">5.5.6.6. window</a></li>
</ul>
</li>
<li><a href="#orgbc2ee89">5.5.7. Efficiency</a>
<ul>
<li><a href="#org74c8b24">5.5.7.1. abbrev</a></li>
<li><a href="#orgc7934ac">5.5.7.2. company</a></li>
<li><a href="#org2946eef">5.5.7.3. dictionary</a></li>
<li><a href="#org6cbf8da">5.5.7.4. eldoc - minor mode for lisp</a></li>
<li><a href="#orgf970383">5.5.7.5. expand-region</a></li>
<li><a href="#org85cef7d">5.5.7.6. helpful</a></li>
<li><a href="#org3630a5c">5.5.7.7. flycheck</a></li>
<li><a href="#org23dac28">5.5.7.8. highlight parenthesis</a></li>
<li><a href="#orgebe4108">5.5.7.9. highlight-symbol</a></li>
<li><a href="#org7da58a9">5.5.7.10. helm</a></li>
<li><a href="#orgd673ad7">5.5.7.11. hungry delete</a></li>
<li><a href="#org455ab92">5.5.7.12. iedit</a></li>
<li><a href="#orgda42e25">5.5.7.13. mouse</a></li>
<li><a href="#org1a3fbcf">5.5.7.14. smartparens</a></li>
<li><a href="#org3213a30">5.5.7.15. swiper</a></li>
<li><a href="#org79aa38a">5.5.7.16. undo tree</a></li>
<li><a href="#org58885f9">5.5.7.17. zop-to-char</a></li>
</ul>
</li>
<li><a href="#org6c7b281">5.5.8. Development</a>
<ul>
<li><a href="#orgc9a0287">5.5.8.1. prog</a></li>
<li><a href="#orgfdf4db9">5.5.8.2. asm</a></li>
<li><a href="#orgc93bf45">5.5.8.3. cmake</a></li>
<li><a href="#org811f480">5.5.8.4. cross-reference</a></li>
<li><a href="#orga8e48e4">5.5.8.5. c/c++</a></li>
<li><a href="#orgbc9824c">5.5.8.6. projectile</a></li>
<li><a href="#org72fd66a">5.5.8.7. sr-speedbar</a></li>
<li><a href="#org2b448b6">5.5.8.8. whitespace</a></li>
<li><a href="#orgee6b65f">5.5.8.9. yasnippet</a></li>
</ul>
</li>
<li><a href="#org9ceafd0">5.5.9. Orgmode</a>
<ul>
<li><a href="#org4311bd3">5.5.9.1. basic</a></li>
<li><a href="#orgf64c69d">5.5.9.2. pomodoro</a></li>
<li><a href="#orgedc7e14">5.5.9.3. publish</a></li>
</ul>
</li>
<li><a href="#org791ed85">5.5.10. Platform</a>
<ul>
<li><a href="#org4edaecb">5.5.10.1. windows</a></li>
<li><a href="#org401c516">5.5.10.2. mac</a></li>
<li><a href="#org63a9abd">5.5.10.3. linux</a></li>
</ul>
</li>
<li><a href="#org6380cdc">5.5.11. File mode</a>
<ul>
<li><a href="#org0a3de53">5.5.11.1. protobuf</a></li>
<li><a href="#org8e2d04d">5.5.11.2. log view</a></li>
</ul>
</li>
<li><a href="#org7763de6">5.5.12. Footer</a></li>
<li><a href="#orgf96e281">5.5.13. Appendix</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>
查看<a href="index-worg.html">worg</a>排版格式。
</p>

<p>
DATE: 2019-02-03
</p>

<div id="outline-container-org65d28f9" class="outline-2">
<h2 id="org65d28f9"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org985b9be" class="outline-3">
<h3 id="org985b9be"><span class="section-number-3">1.1</span> What is Emacs</h3>
<div class="outline-text-3" id="text-1-1">
<p>
<b>Emacs</b> (EDitor MACros, <i>ˈiːmæks</i>)是一个文本编辑器家族，具备可扩展特征。<a href="https://www.gnu.org/software/emacs/">
GNU Emacs</a>是使用最为广泛的Emacs实现，具备可扩展、可定制、自文档化、实时显示特点，
支持Linux、Windows、Mac平台。<a href="https://www.gnu.org/software/emacs/">GNU Emacs</a>主页的介绍是：
</p>
<div class="org-src-container">
<pre class="src src-text">An<span class="org-whitespace-space"> </span>extensible,<span class="org-whitespace-space"> </span>customizable,<span class="org-whitespace-space"> </span>free/libre<span class="org-whitespace-space"> </span>text<span class="org-whitespace-space"> </span>editor<span class="org-whitespace-space"> </span>&#8212;<span class="org-whitespace-space"> </span>and<span class="org-whitespace-space"> </span>more.

At<span class="org-whitespace-space"> </span>its<span class="org-whitespace-space"> </span>core<span class="org-whitespace-space"> </span>is<span class="org-whitespace-space"> </span>an<span class="org-whitespace-space"> </span>interpreter<span class="org-whitespace-space"> </span>for<span class="org-whitespace-space"> </span>Emacs<span class="org-whitespace-space"> </span>Lisp,<span class="org-whitespace-space"> </span>a<span class="org-whitespace-space"> </span>dialect<span class="org-whitespace-space"> </span>of<span class="org-whitespace-space"> </span>the
Lisp<span class="org-whitespace-space"> </span>programming<span class="org-whitespace-space"> </span>language<span class="org-whitespace-space"> </span>with<span class="org-whitespace-space"> </span>extensions<span class="org-whitespace-space"> </span>to<span class="org-whitespace-space"> </span>support<span class="org-whitespace-space"> </span>text<span class="org-whitespace-space"> </span>editing.
</pre>
</div>

<p>
Emacs在终端与X视窗(图形界面/Windows窗口)下都有良好的使用体验。对于经常在终端
工作的群体，有着更高的回报。
</p>
</div>
</div>

<div id="outline-container-orgbed7247" class="outline-3">
<h3 id="orgbed7247"><span class="section-number-3">1.2</span> Emacs and VI</h3>
<div class="outline-text-3" id="text-1-2">
<p>
20世纪70年代是编辑器的井喷期，1972年发布的Emacs与1976年发布的VI使用最为广泛。
Emacs与VI(VIM)都有较强的可定制性、趣味性，熟练掌握后可改善工作效率。然而，对比
其他编辑器，Emacs与VIM都有着更为陡峭的学习曲线与高昂的学习成本。
</p>

<p>
VI是Visual缩写，VIM是VI Improved。VI是<a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/vi.html">POSIX Standard</a>的一部分，几乎在所有的LINUX
发行版上都存在。<a href="https://www.vim.org/">VIM主页</a>对自己的描述是：
</p>
<blockquote>
<p>
Vim is a highly configurable text editor built to make creating and changing
any kind of text very efficient. It is included as "vi" with most UNIX systems
and with Apple OS X.
</p>

<p>
Vim is rock stable and is continuously being developed to become even better.
Among its features are:
</p>
<ul class="org-ul">
<li>persistent, multi-level undo tree</li>
<li>extensive plugin system</li>
<li>support for hundreds of programming languages and file formats</li>
<li>powerful search and replace</li>
<li>integrates with many tools</li>
</ul>
</blockquote>

<p>
Emacs与VIM有不同的设计理念:
</p>
<ul class="org-ul">
<li>基于Lisp解释器的有着无限的可扩展性，Emacs可以用来编辑文本、调试程序、
浏览网页、管理日程、收发邮件、阅读文档（info/man/PDF/EPUB）、播放音乐视频，
一切应有尽有；对于Emacser而言，Emacs是一个的操作系统，原本的操作系统是它的
启动程序。</li>
<li>VIM持续专注在成为更好的编辑器上，支持命令模式、编辑模式、拷贝模式，有非常
高效的输入模式。</li>
</ul>

<p>
Emacs对比VIM有三个劣势：
</p>
<ul class="org-ul">
<li>启动速度慢：一个配置好的Emacs可能要数秒钟才能拉起来，而VIM的启动时间基本
无感知；</li>
<li>VIM命令模式的高效输入：VIM的命令输入模式太高效了，梦想中的编辑器是VIM输入
与Emacs可扩展的集合；</li>
<li>普遍性：几乎所有Linux系统都默认安装VIM（至少安装VI）；</li>
</ul>

<p>
启动速度和VIM命令模式的高效输入比较好解决：
</p>
<ul class="org-ul">
<li>启动速度慢：Emacs支持Daemon模式，后台启动一个常驻服务，编辑时调用emacsclient
编辑文件，这样操作还能带来额外的优势：编辑过的文件一直在内存中，下次启动
emacsclient时，还可以接着做undo/redo操作；给emacsclient起个别名e，调用
<code>e filename</code> 高效启动，还可胜过vim；</li>
<li>VIM命令模式的高效输入：Emacs可以通过定义一套keymap模拟VIM的命令模式，我的配置
Browse模式(<a href="https://github.com/yygcode/.emacs.d/blob/master/lisp/y-browse.el">github y-browse.el</a>)激活map，和VIM命令模式的输入效果完全一致，例如，
输入 <code>f</code> 前移， <code>b</code> 后移， <code>n</code> 到下一行， <code>p</code> 到前一行；</li>
</ul>

<p>
普遍性是个无解难题。虽然可以用emacs远程编辑应付，但事实上很难处理多级跳板的
场景。EMACSer偶尔还是需要使用VI做些简单的修改。
</p>

<p>
相对EMACS而言，VIM在可扩展性方面的短板，基本无解。
</p>

<p>
我是在使用VIM 10年之后，因为<a href="https://orgmode.org/">Org mode</a>切换到Emacs的。对我而言，Emacs除了可扩展性
优势，更重要的是好玩：
</p>
<ul class="org-ul">
<li>在Emacs下写代码/提交；</li>
<li>用Lisp写各种花样的批处理任务；</li>
<li>用Emacs Orgmode<a href="https://ycode.org">写个人主页</a>并发布；</li>
<li>用Emacs <a href="https://orgmode.org/worg/org-gtd-etc.html">Orgmode GTD</a>维护TODO任务；</li>
<li>用Emacs看PDF；</li>
<li>随自己的心意定制Emacs的行为；</li>
<li>尝试用Emacs浏览网页、听音乐、收发邮件（因为不好用之后放弃了，但很好玩）；</li>
</ul>

<p>
在猿界，猿们称Emacs为神之编辑器，称VIM为编辑器之神。Emacs与VI之间的对抗称为
编辑器之战（参见<a href="https://en.wikipedia.org/wiki/Emacs">WIKI</a>、<a href="https://zh.wikipedia.org/wiki/Emacs">WIKI CN</a>）。
</p>
</div>
</div>

<div id="outline-container-orga4820c1" class="outline-3">
<h3 id="orga4820c1"><span class="section-number-3">1.3</span> Goals</h3>
<div class="outline-text-3" id="text-1-3">
<p>
对于我而言，对编辑器核心需求，按照重要性排序如下：
</p>
<ul class="org-ul">
<li>稳定：不会Crash退出，不会破坏文件，不会丢失文件内容；</li>
<li>快速：输入立即响应，不卡顿；</li>
<li>兼容：X视窗与终端操作兼容；</li>
<li>绑定：对常用操作绑定快捷键，文本内进行各种移动与编辑，同时，对越高频的操作，
赋予越方便的快捷键；</li>
<li>语法：支持多种编程语言语法识别与检查，并进行着色显示；</li>
<li>补齐：在输入少量前缀字符时，聪明的识别补齐，或者提供多个候选；</li>
<li>主题：根据主题（theme）进行显示颜色定制；</li>
</ul>

<p>
本系列文档（视频）展示我是怎样配置Emacs达成上述需求的。在Emacs下做成一件事情的
方法不止一种，欢迎读者留言给出更好的建议。：）
</p>
</div>
</div>

<div id="outline-container-orgb73bef6" class="outline-3">
<h3 id="orgb73bef6"><span class="section-number-3">1.4</span> Install</h3>
<div class="outline-text-3" id="text-1-4">
</div>
<div id="outline-container-org1cb925b" class="outline-4">
<h4 id="org1cb925b"><span class="section-number-4">1.4.1</span> Binary Install</h4>
<div class="outline-text-4" id="text-1-4-1">
<dl class="org-dl">
<dt>Mac</dt><dd><a href="https://emacsformacosx.com/">https://emacsformacosx.com/</a></dd>
<dt>Linux/Windows</dt><dd><a href="https://www.gnu.org/software/emacs/">https://www.gnu.org/software/emacs/</a></dd>
</dl>
</div>
</div>

<div id="outline-container-org172788d" class="outline-4">
<h4 id="org172788d"><span class="section-number-4">1.4.2</span> Source Install</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
Download source from git then compile:
</p>
<div class="org-src-container">
<pre class="src src-sh">~$<span class="org-whitespace-space"> </span>git<span class="org-whitespace-space"> </span>clone<span class="org-whitespace-space"> </span>git://git.savannah.gnu.org/emacs.git
~$<span class="org-whitespace-space"> </span>cd<span class="org-whitespace-space"> </span>emacs;<span class="org-whitespace-space"> </span>git<span class="org-whitespace-space"> </span>checkout<span class="org-whitespace-space"> </span>emacs-26.1.91
~$<span class="org-whitespace-space"> </span>./autogen.sh
~$<span class="org-whitespace-space"> </span>./configure<span class="org-whitespace-space"> </span>--without-pop<span class="org-whitespace-space"> </span>--with-mailutils
~$<span class="org-whitespace-space"> </span>make<span class="org-whitespace-space"> </span>-j<span class="org-whitespace-space"> </span>&amp;&amp;<span class="org-whitespace-space"> </span>sudo<span class="org-whitespace-space"> </span>make<span class="org-whitespace-space"> </span>install
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-modifier-key" class="outline-3">
<h3 id="modifier-key"><span class="section-number-3">1.5</span> Modifier Key</h3>
<div class="outline-text-3" id="text-modifier-key">
<p>
Emacs重度依赖各种修饰键(Modifier Key)的组合，因此被调侃Emacs是
<code>Esc, Meta, Alt, Ctrl, Shift/Super</code> 的首字母缩写<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>。
</p>

<p>
Meta与Alt是历史产物，当前的标准PC键盘中没有Meta，Emacs默认把Alt映射为Meta。
</p>

<p>
考虑终端与X视窗兼容性，基本不使用Shift, Super(Win), Hyper(Mac Command)
</p>
</div>
</div>

<div id="outline-container-orgf8deca0" class="outline-3">
<h3 id="orgf8deca0"><span class="section-number-3">1.6</span> Config</h3>
<div class="outline-text-3" id="text-1-6">
<p>
Emacs默认配置文件是 <code>$HOME/.emacs.d/init.el</code> ，启动时没有 <code>$HOME/.emacs.d/</code> 目录
则自动创建。配置文件随时间逐渐变多，有时会引入一些错误需要回滚，建议用git进行
版本管理。GitHub或GitLab都提供免费的托管服务，我当前使用的配置文件在Github上：
<a href="https://github.com/yygcode/.emacs.d">https://github.com/yygcode/.emacs.d</a>
</p>
</div>
</div>

<div id="outline-container-orgfd23938" class="outline-3">
<h3 id="orgfd23938"><span class="section-number-3">1.7</span> Start</h3>
<div class="outline-text-3" id="text-1-7">
<p>
终端执行 <code>emacs</code> 或者在启动菜单查找 <code>emacs</code> 启动，按下 <code>C-x C-c</code> 退出。
</p>

<p>
For Newbie:
</p>

<p>
启动Emacs后键入 <code>C-h t</code> 打开Emacs tutorial，仔细阅读，并按照文档内容提示进行
一些输入。重新键入 <code>C-h t</code> 恢复。如果Emacs提示如下信息，输入y：
</p>
<div class="org-src-container">
<pre class="src src-text">You<span class="org-whitespace-space"> </span>have<span class="org-whitespace-space"> </span>changed<span class="org-whitespace-space"> </span>the<span class="org-whitespace-space"> </span>Tutorial<span class="org-whitespace-space"> </span>buffer.<span class="org-whitespace-space">  </span>Revert<span class="org-whitespace-space"> </span>it?<span class="org-whitespace-space"> </span>(y<span class="org-whitespace-space"> </span>or<span class="org-whitespace-space"> </span>n)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2ad4186" class="outline-3">
<h3 id="org2ad4186"><span class="section-number-3">1.8</span> References</h3>
<div class="outline-text-3" id="text-1-8">
<dl class="org-dl">
<dt>GNU Emacs</dt><dd><a href="https://www.gnu.org/software/emacs/">https://www.gnu.org/software/emacs/</a></dd>
<dt>Emacs WIKI EN</dt><dd><a href="https://en.wikipedia.org/wiki/Emacs">https://en.wikipedia.org/wiki/Emacs</a></dd>
<dt>Emacs WIKI CN</dt><dd><a href="https://zh.wikipedia.org/wiki/Emacs">https://zh.wikipedia.org/wiki/Emacs</a></dd>
<dt>Editor War WIKI EN</dt><dd><a href="https://en.wikipedia.org/wiki/Editor_war">https://en.wikipedia.org/wiki/Editor_war</a></dd>
<dt>Editor War WIKI CN</dt><dd><a href="https://zh.wikipedia.org/wiki/%E7%BC%96%E8%BE%91%E5%99%A8%E4%B9%8B%E6%88%98">https://zh.wikipedia.org/wiki/%E7%BC%96%E8%BE%91%E5%99%A8%E4%B9%8B%E6%88%98</a></dd>
<dt>Keyboard Shortcuts</dt><dd><a href="http://ergoemacs.org/emacs/keyboard_shortcuts_examples.html">http://ergoemacs.org/emacs/keyboard_shortcuts_examples.html</a></dd>
<dt>This Emacs lesson</dt><dd><a href="https://github.com/yygcode/emacs-lesson.git">https://github.com/yygcode/emacs-lesson.git</a></dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-org75ff9b6" class="outline-2">
<h2 id="org75ff9b6"><span class="section-number-2">2</span> Packagement</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org5c7c6f4" class="outline-3">
<h3 id="org5c7c6f4"><span class="section-number-3">2.1</span> Package system</h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>加载包管理系统；</li>
<li>设置下载package的服务站点package-archives；
<ul class="org-ul">
<li>Melpa无法正常使用，设置Mirror站点或proxy；</li>
<li>有的站点不支持https，使用http协议；</li>
</ul></li>

<li>辅助package
<ul class="org-ul">
<li>install use-package
<ul class="org-ul">
<li>github: <a href="https://github.com/jwiegley/use-package">https://github.com/jwiegley/use-package</a></li>
<li>config and load package

<ul class="org-ul">
<li>install quelpa</li>
</ul></li>
<li>github: <a href="https://github.com/quelpa/quelpa">https://github.com/quelpa/quelpa</a></li>
<li>Build and install packages from source</li>
</ul></li>
<li>install quepla-use-package
<ul class="org-ul">
<li>github: <a href="https://github.com/quelpa/quelpa-use-package">https://github.com/quelpa/quelpa-use-package</a></li>
<li>Add keyword quelpa to use-package</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org986b3c4" class="outline-3">
<h3 id="org986b3c4"><span class="section-number-3">2.2</span> org-babel</h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>使用org-babel-load-file加载org文件中的lisp代码；</li>
<li>使用org mode literate programming(文学编程)配置emacs；</li>
</ul>
</div>
</div>

<div id="outline-container-org724d3c0" class="outline-3">
<h3 id="org724d3c0"><span class="section-number-3">2.3</span> Config</h3>
<div class="outline-text-3" id="text-2-3">
<p>
See <a href="https://github.com/yygcode/.emacs.d/blob/master/lisp/y-package.el">https://github.com/yygcode/.emacs.d/blob/master/lisp/y-package.el</a>.
相关环境变量：
</p>
<table>


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Env</th>
<th scope="col" class="org-left">Description</th>
<th scope="col" class="org-left">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">EMACS_NO_MIRROR</td>
<td class="org-left">不使用镜像站点；如果使用proxy，或不在GFW范围，设置为1</td>
<td class="org-left">export EMACS_NO_MIRROR=1</td>
</tr>

<tr>
<td class="org-left">EMACS_MIRROR_HTTP</td>
<td class="org-left">如果系统不支持HTTPS，设置为1</td>
<td class="org-left">export EMACS_MIRROR_HTTP=1</td>
</tr>

<tr>
<td class="org-left">http_proxy, https_proxy</td>
<td class="org-left">代理地址</td>
<td class="org-left">export https_proxy=<a href="http://127.0.0.1:8888">http://127.0.0.1:8888</a></td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgf29074d" class="outline-3">
<h3 id="orgf29074d"><span class="section-number-3">2.4</span> References</h3>
<div class="outline-text-3" id="text-2-4">
<dl class="org-dl">
<dt>use-package</dt><dd><a href="https://jwiegley.github.io/use-package/">https://jwiegley.github.io/use-package/</a></dd>
<dt>org mode</dt><dd><a href="https://orgmode.org/">https://orgmode.org/</a></dd>
<dt>Org Babel</dt><dd><a href="https://orgmode.org/worg/org-contrib/babel/">https://orgmode.org/worg/org-contrib/babel/</a></dd>
<dt>Package Management in Emacs: The Good, the Bad and the Ugly</dt><dd><a href="https://batsov.com/articles/2012/02/19/package-management-in-emacs-the-good-the-bad-and-the-ugly/">https://batsov.com/articles/2012/02/19/package-management-in-emacs-the-good-the-bad-and-the-ugly/</a></dd>
<dt>ergo: how to install Emacs package manually</dt><dd><a href="http://ergoemacs.org/emacs/emacs_installing_packages.html">http://ergoemacs.org/emacs/emacs_installing_packages.html</a></dd>
<dt>Emacs manual package</dt><dd><a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Packages.html#Packages">https://www.gnu.org/software/emacs/manual/html_node/emacs/Packages.html#Packages</a></dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-org174026b" class="outline-2">
<h2 id="org174026b"><span class="section-number-2">3</span> Keybinding</h2>
</div>

<div id="outline-container-orgf49d1cf" class="outline-2">
<h2 id="orgf49d1cf"><span class="section-number-2">4</span> FAQ</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org2d44a1b" class="outline-3">
<h3 id="org2d44a1b"><span class="section-number-3">4.1</span> Show pressed key</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>M-x: command-log-mode</li>
<li>M-x: clm/open-command-log-buffer</li>
</ul>
</div>
</div>

<div id="outline-container-orgc9f757b" class="outline-3">
<h3 id="orgc9f757b"><span class="section-number-3">4.2</span> GUI下无法输入中文</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>启动需要设置支持的term和LC_CTYPE;</li>
<li>TERM=xterm LC_CTYPE=zh_CN.UTF-8 emacs</li>
</ul>
</div>
</div>

<div id="outline-container-orgd1ce152" class="outline-3">
<h3 id="orgd1ce152"><span class="section-number-3">4.3</span> 启动daemon，terminal下拉起emacsclient，输入中文时光标跳跃，且会把左边框弄乱</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li>同上，是因为语言支持的原因</li>
<li>TERM=xterm LC_CTYPE=zh_CN.UTF-8 emacs &#x2013;daemon</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org93d5e83" class="outline-2">
<h2 id="org93d5e83"><span class="section-number-2">5</span> My Config</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org1c267d4" class="outline-3">
<h3 id="org1c267d4"><span class="section-number-3">5.1</span> github</h3>
<div class="outline-text-3" id="text-5-1">
<p>
<a href="https://github.com/yygcode/.emacs.d">https://github.com/yygcode/.emacs.d</a>
</p>
</div>
</div>

<div id="outline-container-orge1b6e59" class="outline-3">
<h3 id="orge1b6e59"><span class="section-number-3">5.2</span> init.el</h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">~/.emacs.d/init.el</span><span class="org-whitespace-space"> </span><span class="org-comment">---</span><span class="org-whitespace-space"> </span><span class="org-comment">Emacs</span><span class="org-whitespace-space"> </span><span class="org-comment">Initialization</span><span class="org-whitespace-space"> </span><span class="org-comment">Entry</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Copyright</span><span class="org-whitespace-space"> </span><span class="org-comment">(C)</span><span class="org-whitespace-space"> </span><span class="org-comment">2017-2020</span><span class="org-whitespace-space"> </span><span class="org-comment">yonggang.yyg<a href="mailto:yygcode%40gmail.com">&lt;yygcode@gmail.com&gt;</a></span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Author:</span><span class="org-whitespace-space"> </span><span class="org-comment">yonggang.yyg<a href="mailto:yygcode%40gmail.com">&lt;yygcode@gmail.com&gt;</a></span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Maintainer:</span><span class="org-whitespace-space"> </span><span class="org-comment">yonggang.yyg<a href="mailto:yygcode%40gmail.com">&lt;yygcode@gmail.com&gt;</a></span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Keyword:</span><span class="org-whitespace-space"> </span><span class="org-comment">Emacs</span><span class="org-whitespace-space"> </span><span class="org-comment">Initialization</span><span class="org-whitespace-space"> </span><span class="org-comment">Entry</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Homepage:</span><span class="org-whitespace-space"> </span><span class="org-comment">https://ycode.org;</span><span class="org-whitespace-space"> </span><span class="org-comment">http://ycode.org;</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">URL:</span><span class="org-whitespace-space"> </span><span class="org-comment">http://github.com/yygcode/.emacs.d</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">SPDX-License-Identifier:</span><span class="org-whitespace-space"> </span><span class="org-comment">GPL-2.0-or-later</span>

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Code:</span>

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/startup-begin-seconds</span><span class="org-whitespace-space"> </span>(float-time))

(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(version&lt;<span class="org-whitespace-space"> </span>emacs-version<span class="org-whitespace-space"> </span><span class="org-string">"26.3"</span>)
<span class="org-whitespace-space">  </span>(<span class="org-warning">warn</span><span class="org-whitespace-space"> </span><span class="org-string">"The</span><span class="org-whitespace-space"> </span><span class="org-string">config</span><span class="org-whitespace-space"> </span><span class="org-string">was</span><span class="org-whitespace-space"> </span><span class="org-string">not</span><span class="org-whitespace-space"> </span><span class="org-string">tested</span><span class="org-whitespace-space"> </span><span class="org-string">before</span><span class="org-whitespace-space"> </span><span class="org-string">emacs</span><span class="org-whitespace-space"> </span><span class="org-string">26.3"</span>))

(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>load-prefer-newer<span class="org-whitespace-space"> </span>t
<span class="org-whitespace-space">      </span>gc-cons-threshold<span class="org-whitespace-space"> </span>(*<span class="org-whitespace-space"> </span>128<span class="org-whitespace-space"> </span>1024<span class="org-whitespace-space"> </span>1024))

(prefer-coding-system<span class="org-whitespace-space"> </span>'utf-8-unix)
(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(string-equal<span class="org-whitespace-space"> </span>current-language-environment<span class="org-whitespace-space"> </span><span class="org-string">"Chinese-GBK"</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>default-process-coding-system<span class="org-whitespace-space"> </span>'(utf-8<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>chinese-gbk)))

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/lisp-directory</span>
<span class="org-whitespace-space">  </span>(expand-file-name<span class="org-whitespace-space"> </span><span class="org-string">"lisp"</span><span class="org-whitespace-space"> </span>user-emacs-directory)
<span class="org-whitespace-space">  </span><span class="org-doc">"Custom</span><span class="org-whitespace-space"> </span><span class="org-doc">LISP</span><span class="org-whitespace-space"> </span><span class="org-doc">file</span><span class="org-whitespace-space"> </span><span class="org-doc">directory."</span>)
(add-to-list<span class="org-whitespace-space"> </span>'load-path<span class="org-whitespace-space"> </span>y/lisp-directory)

(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-auxiliary</span>)
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-package</span>)

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/user-init-config</span>
<span class="org-whitespace-space">  </span>(expand-file-name<span class="org-whitespace-space"> </span><span class="org-string">"config.org"</span><span class="org-whitespace-space"> </span>user-emacs-directory)
<span class="org-whitespace-space">  </span><span class="org-doc">"File</span><span class="org-whitespace-space"> </span><span class="org-doc">name,</span><span class="org-whitespace-space"> </span><span class="org-doc">including</span><span class="org-whitespace-space"> </span><span class="org-doc">directory,</span><span class="org-whitespace-space"> </span><span class="org-doc">of</span><span class="org-whitespace-space"> </span><span class="org-doc">initialization</span><span class="org-whitespace-space"> </span><span class="org-doc">file</span><span class="org-whitespace-space"> </span><span class="org-doc">by</span><span class="org-whitespace-space"> </span><span class="org-doc">org-babel."</span>)

(y/make-directory<span class="org-whitespace-space"> </span>y/autofiles-directory)

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Proxy</span><span class="org-whitespace-space"> </span><span class="org-comment">environment</span><span class="org-whitespace-space"> </span><span class="org-comment">config.</span><span class="org-whitespace-space"> </span><span class="org-comment">e.g.:</span><span class="org-whitespace-space"> </span><span class="org-comment">https_proxy=https://127.0.0.1:8888</span>
(y/env-sync-partner<span class="org-whitespace-space"> </span><span class="org-string">"https_proxy"</span><span class="org-whitespace-space"> </span><span class="org-string">"http_proxy"</span>)
(y/add-no-proxy-sites<span class="org-whitespace-space"> </span><span class="org-string">"*.cn"</span>
<span class="org-whitespace-space">                      </span><span class="org-string">"*.aliyun.com"</span>
<span class="org-whitespace-space">                      </span><span class="org-string">"*.tmall.com"</span>
<span class="org-whitespace-space">                      </span><span class="org-string">"*.youku.com"</span>
<span class="org-whitespace-space">                      </span><span class="org-string">"*.jd.com"</span>
<span class="org-whitespace-space">                      </span><span class="org-string">"*.bing.com"</span>
<span class="org-whitespace-space">                      </span><span class="org-string">"*.baidu.com"</span>
<span class="org-whitespace-space">                      </span><span class="org-string">"*.csdn.net"</span>
<span class="org-whitespace-space">                      </span><span class="org-string">"*.qq.com"</span>)

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">prevent</span><span class="org-whitespace-space"> </span><span class="org-comment">emacs</span><span class="org-whitespace-space"> </span><span class="org-comment">mess</span><span class="org-whitespace-space"> </span><span class="org-comment">up</span><span class="org-whitespace-space"> </span><span class="org-comment">init.el.</span>
(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>custom-file<span class="org-whitespace-space"> </span>(concat<span class="org-whitespace-space"> </span>y/autofiles-directory<span class="org-whitespace-space"> </span><span class="org-string">"custom-auto.el"</span>))
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="custom">NOTE</span><span class="org-comment">:</span><span class="org-whitespace-space"> </span><span class="org-comment">All</span><span class="org-whitespace-space"> </span><span class="org-comment">config</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">maintained</span><span class="org-whitespace-space"> </span><span class="org-comment">manally.</span><span class="org-whitespace-space"> </span><span class="org-comment">If</span><span class="org-whitespace-space"> </span><span class="org-comment">you</span><span class="org-whitespace-space"> </span><span class="org-comment">want</span><span class="org-whitespace-space"> </span><span class="org-comment">some</span><span class="org-whitespace-space"> </span><span class="org-comment">temporary</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">configuration</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">take</span><span class="org-whitespace-space"> </span><span class="org-comment">effect</span><span class="org-whitespace-space"> </span><span class="org-comment">permanently,</span><span class="org-whitespace-space"> </span><span class="org-comment">open</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">below</span><span class="org-whitespace-space"> </span><span class="org-comment">comment:</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(load</span><span class="org-whitespace-space"> </span><span class="org-comment">custom-file</span><span class="org-whitespace-space"> </span><span class="org-comment">t)</span>

(byte-recompile-directory<span class="org-whitespace-space"> </span>y/lisp-directory<span class="org-whitespace-space"> </span>0)

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Emacs</span><span class="org-whitespace-space"> </span><span class="org-comment">deep</span><span class="org-whitespace-space"> </span><span class="org-comment">config</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">Org-mode</span><span class="org-whitespace-space"> </span><span class="org-comment">literate</span><span class="org-whitespace-space"> </span><span class="org-comment">programming</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">If</span><span class="org-whitespace-space"> </span><span class="org-comment">you</span><span class="org-whitespace-space"> </span><span class="org-comment">want</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">latest</span><span class="org-whitespace-space"> </span><span class="org-comment">org,</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">follows</span><span class="org-whitespace-space"> </span><span class="org-comment">config:</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">1.</span><span class="org-whitespace-space"> </span><span class="org-comment">Download</span><span class="org-whitespace-space"> </span><span class="org-comment">latest</span><span class="org-whitespace-space"> </span><span class="org-comment">package</span><span class="org-whitespace-space"> </span><span class="org-comment">or</span><span class="org-whitespace-space"> </span><span class="org-comment">clone</span><span class="org-whitespace-space"> </span><span class="org-comment">repo.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">    </span><span class="org-comment">URL:</span><span class="org-whitespace-space"> </span><span class="org-comment">http://orgmode.org/</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">    </span><span class="org-comment">REPO:</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">      </span><span class="org-comment">~$</span><span class="org-whitespace-space"> </span><span class="org-comment">git</span><span class="org-whitespace-space"> </span><span class="org-comment">clone</span><span class="org-whitespace-space"> </span><span class="org-comment">git://orgmode.org/org-mode.git</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">      </span><span class="org-comment">~$</span><span class="org-whitespace-space"> </span><span class="org-comment">make</span><span class="org-whitespace-space"> </span><span class="org-comment">autoloads</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">2.</span><span class="org-whitespace-space"> </span><span class="org-comment">add</span><span class="org-whitespace-space"> </span><span class="org-comment">load-path</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">    </span><span class="org-comment">(add-to-list</span><span class="org-whitespace-space"> </span><span class="org-comment">'load-path</span><span class="org-whitespace-space"> </span><span class="org-comment">"~/path/to/orgdir/lisp")</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">3.</span><span class="org-whitespace-space"> </span><span class="org-comment">If</span><span class="org-whitespace-space"> </span><span class="org-comment">you</span><span class="org-whitespace-space"> </span><span class="org-comment">want</span><span class="org-whitespace-space"> </span><span class="org-comment">contributed</span><span class="org-whitespace-space"> </span><span class="org-comment">libraries</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">    </span><span class="org-comment">(add-to-list</span><span class="org-whitespace-space"> </span><span class="org-comment">'load-path</span><span class="org-whitespace-space"> </span><span class="org-comment">"~/path/to/orgdir/contrib/lisp"</span><span class="org-whitespace-space"> </span><span class="org-comment">t)</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">See</span><span class="org-whitespace-space"> </span><span class="org-comment">homepage</span><span class="org-whitespace-space"> </span><span class="org-comment">http://orgmode.org/</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">more</span><span class="org-whitespace-space"> </span><span class="org-comment">details.</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">use-package</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">'package-installed-p'</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">check</span><span class="org-whitespace-space"> </span><span class="org-comment">package</span><span class="org-whitespace-space"> </span><span class="org-comment">installed</span><span class="org-whitespace-space"> </span><span class="org-comment">or</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">org</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">built-in</span><span class="org-whitespace-space"> </span><span class="org-comment">package,</span><span class="org-whitespace-space"> </span><span class="org-comment">so</span><span class="org-whitespace-space"> </span><span class="org-comment">use-package</span><span class="org-whitespace-space"> </span><span class="org-comment">would</span><span class="org-whitespace-space"> </span><span class="org-comment">ignore</span><span class="org-whitespace-space"> </span><span class="org-comment">org</span><span class="org-whitespace-space"> </span><span class="org-comment">package</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">but</span><span class="org-whitespace-space"> </span><span class="org-comment">org-plus-contrib</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">installed</span><span class="org-whitespace-space"> </span><span class="org-comment">default,</span><span class="org-whitespace-space"> </span><span class="org-comment">so</span><span class="org-whitespace-space"> </span><span class="org-comment">I</span><span class="org-whitespace-space"> </span><span class="org-comment">think</span><span class="org-whitespace-space"> </span><span class="org-comment">I</span><span class="org-whitespace-space"> </span><span class="org-comment">can</span><span class="org-whitespace-space"> </span><span class="org-comment">force</span><span class="org-whitespace-space"> </span><span class="org-comment">install</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">org</span><span class="org-whitespace-space"> </span><span class="org-comment">by</span><span class="org-whitespace-space"> </span><span class="org-comment">routine</span><span class="org-whitespace-space"> </span><span class="org-comment">package-install</span><span class="org-whitespace-space"> </span><span class="org-comment">but</span><span class="org-whitespace-space"> </span><span class="org-comment">failed.</span>
(y/packages-install<span class="org-whitespace-space"> </span>'org<span class="org-whitespace-space"> </span>'org-plus-contrib)
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">org</span>)
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">ob-tangle</span>)

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">env</span><span class="org-whitespace-space"> </span><span class="org-comment">@EMACS_Y_INTERNAL_ESUP_PROFILER</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">prevent</span><span class="org-whitespace-space"> </span><span class="org-comment">esub</span><span class="org-whitespace-space"> </span><span class="org-comment">reload</span><span class="org-whitespace-space"> </span><span class="org-comment">recursively.</span>
(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>(file-exists-p<span class="org-whitespace-space"> </span>y/user-init-config)
<span class="org-whitespace-space">           </span>(not<span class="org-whitespace-space"> </span>(string=<span class="org-whitespace-space"> </span>(getenv<span class="org-whitespace-space"> </span><span class="org-string">"EMACS_Y_INTERNAL_ESUP_PROFILER"</span>)<span class="org-whitespace-space"> </span><span class="org-string">"y/esup"</span>)))
<span class="org-whitespace-space">  </span>(<span class="org-keyword">let*</span><span class="org-whitespace-space"> </span>((config-el<span class="org-whitespace-space"> </span>(<span class="org-keyword">y/file-replace-extension</span><span class="org-whitespace-space"> </span>y/user-init-config<span class="org-whitespace-space"> </span><span class="org-string">"el"</span>)))
<span class="org-whitespace-space">    </span>(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(file-newer-than-file-p<span class="org-whitespace-space"> </span>y/user-init-config<span class="org-whitespace-space"> </span>config-el)
<span class="org-whitespace-space">      </span>(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">ob-tangle</span>)
<span class="org-whitespace-space">      </span>(org-babel-tangle-file<span class="org-whitespace-space"> </span>y/user-init-config<span class="org-whitespace-space"> </span>config-el))
<span class="org-whitespace-space">    </span>(byte-recompile-file<span class="org-whitespace-space"> </span>config-el<span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span>0<span class="org-whitespace-space"> </span>t)
<span class="org-whitespace-space">    </span>))

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/startup-end-seconds</span><span class="org-whitespace-space"> </span>(float-time))
(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/startup-duration-seconds</span><span class="org-whitespace-space"> </span>(-<span class="org-whitespace-space"> </span>y/startup-end-seconds
<span class="org-whitespace-space">                                        </span>y/startup-begin-seconds))
(message<span class="org-whitespace-space"> </span><span class="org-string">"==&gt;</span><span class="org-whitespace-space"> </span><span class="org-string">Emacs</span><span class="org-whitespace-space"> </span><span class="org-string">startup</span><span class="org-whitespace-space"> </span><span class="org-string">takes</span><span class="org-whitespace-space"> </span><span class="org-string">%.2f</span><span class="org-whitespace-space"> </span><span class="org-string">seconds."</span><span class="org-whitespace-space"> </span>y/startup-duration-seconds)

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">init.el</span><span class="org-whitespace-space"> </span><span class="org-comment">ends</span><span class="org-whitespace-space"> </span><span class="org-comment">here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbea9c6d" class="outline-3">
<h3 id="orgbea9c6d"><span class="section-number-3">5.3</span> auxiliary</h3>
<div class="outline-text-3" id="text-5-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">y-auxiliary.el</span><span class="org-whitespace-space"> </span><span class="org-comment">---</span><span class="org-whitespace-space"> </span><span class="org-comment">Misc</span><span class="org-whitespace-space"> </span><span class="org-comment">Auxiliary</span><span class="org-whitespace-space"> </span><span class="org-comment">Routines</span><span class="org-whitespace-space"> </span><span class="org-comment">-*-</span><span class="org-whitespace-space"> </span><span class="org-comment">lexical-binding:t</span><span class="org-whitespace-space"> </span><span class="org-comment">-*-</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Copyright</span><span class="org-whitespace-space"> </span><span class="org-comment">(C)</span><span class="org-whitespace-space"> </span><span class="org-comment">2018</span><span class="org-whitespace-space"> </span><span class="org-comment">yanyg<a href="mailto:yygcode%40gmail.com">&lt;yygcode@gmail.com&gt;</a></span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Author:</span><span class="org-whitespace-space"> </span><span class="org-comment">yonggang.yyg<a href="mailto:yygcode%40gmail.com">&lt;yygcode@gmail.com&gt;</a></span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Maintainer:</span><span class="org-whitespace-space"> </span><span class="org-comment">yonggang.yyg<a href="mailto:yygcode%40gmail.com">&lt;yygcode@gmail.com&gt;</a></span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Keyword:</span><span class="org-whitespace-space"> </span><span class="org-comment">Emacs</span><span class="org-whitespace-space"> </span><span class="org-comment">Enhanced</span><span class="org-whitespace-space"> </span><span class="org-comment">Macros</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">URL:</span><span class="org-whitespace-space"> </span><span class="org-comment">https://ycode.org</span>

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Common</span><span class="org-whitespace-space"> </span><span class="org-comment">Routines.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Do</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">external</span><span class="org-whitespace-space"> </span><span class="org-comment">package</span><span class="org-whitespace-space"> </span><span class="org-comment">(not</span><span class="org-whitespace-space"> </span><span class="org-comment">builtin)</span><span class="org-whitespace-space"> </span><span class="org-comment">functions</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">file.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Package</span><span class="org-whitespace-space"> </span><span class="org-comment">management</span><span class="org-whitespace-space"> </span><span class="org-comment">MAY</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">initialized</span><span class="org-whitespace-space"> </span><span class="org-comment">here.</span>

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Code:</span>

(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">ielm</span>)
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">derived</span>)

(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">eldoc</span>)
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">elisp-mode</span>)
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">lisp-mode</span>)
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">ielm</span>)
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">subr-x</span>)

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/autofiles-directory</span>
<span class="org-whitespace-space">  </span>(expand-file-name<span class="org-whitespace-space"> </span><span class="org-string">".autofiles/"</span><span class="org-whitespace-space"> </span>user-emacs-directory)
<span class="org-whitespace-space">  </span><span class="org-doc">"Directory</span><span class="org-whitespace-space"> </span><span class="org-doc">for</span><span class="org-whitespace-space"> </span><span class="org-doc">auto</span><span class="org-whitespace-space"> </span><span class="org-doc">generated</span><span class="org-whitespace-space"> </span><span class="org-doc">files</span><span class="org-whitespace-space"> </span><span class="org-doc">from</span><span class="org-whitespace-space"> </span><span class="org-doc">misc</span><span class="org-whitespace-space"> </span><span class="org-doc">features.</span>
<span class="org-doc">Such</span><span class="org-whitespace-space"> </span><span class="org-doc">as</span><span class="org-whitespace-space"> </span><span class="org-doc">auto-save,</span><span class="org-whitespace-space"> </span><span class="org-doc">bookmark,</span><span class="org-whitespace-space"> </span><span class="org-doc">undo-tree."</span>)

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/inc</span>(n)
<span class="org-whitespace-space">  </span><span class="org-doc">"Increment</span><span class="org-whitespace-space"> </span><span class="org-doc">N."</span>
<span class="org-whitespace-space">  </span>`(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>,n<span class="org-whitespace-space"> </span>(1+<span class="org-whitespace-space"> </span>,n)))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">language</span><span class="org-whitespace-space"> </span><span class="org-comment">enhancement</span>
(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/for</span>(initial<span class="org-whitespace-space"> </span>condition<span class="org-whitespace-space"> </span>change<span class="org-whitespace-space"> </span><span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>body)
<span class="org-whitespace-space">  </span><span class="org-doc">"Loop</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">condition</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">satisfied.</span>
<span class="org-doc">Execute</span><span class="org-whitespace-space"> </span><span class="org-doc">INITIAL,</span><span class="org-whitespace-space"> </span><span class="org-doc">then</span><span class="org-whitespace-space"> </span><span class="org-doc">check</span><span class="org-whitespace-space"> </span><span class="org-doc">CONDITION,</span><span class="org-whitespace-space"> </span><span class="org-doc">after</span><span class="org-whitespace-space"> </span><span class="org-doc">BODY</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">executed,</span><span class="org-whitespace-space"> </span><span class="org-doc">do</span><span class="org-whitespace-space"> </span><span class="org-doc">CHANGE,</span>
<span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">then</span><span class="org-whitespace-space"> </span><span class="org-doc">check</span><span class="org-whitespace-space"> </span><span class="org-doc">CONDITION</span><span class="org-whitespace-space"> </span><span class="org-doc">again."</span>
<span class="org-whitespace-space">  </span>`(<span class="org-keyword">let</span><span class="org-whitespace-space"> </span>,initial
<span class="org-whitespace-space">     </span>(<span class="org-keyword">while</span><span class="org-whitespace-space"> </span>,condition
<span class="org-whitespace-space">       </span>,@body
<span class="org-whitespace-space">       </span>,change)))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/count-loop</span>(var<span class="org-whitespace-space"> </span>from<span class="org-whitespace-space"> </span>to<span class="org-whitespace-space"> </span><span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>inc<span class="org-whitespace-space"> </span><span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>body)
<span class="org-whitespace-space">  </span><span class="org-doc">"Loop</span><span class="org-whitespace-space"> </span><span class="org-doc">from</span><span class="org-whitespace-space"> </span><span class="org-doc">FROM</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">TO,</span><span class="org-whitespace-space"> </span><span class="org-doc">execute</span><span class="org-whitespace-space"> </span><span class="org-doc">BODY</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">INC</span><span class="org-whitespace-space"> </span><span class="org-doc">VAR</span><span class="org-whitespace-space"> </span><span class="org-doc">each</span><span class="org-whitespace-space"> </span><span class="org-doc">time."</span>
<span class="org-whitespace-space">  </span>`(<span class="org-keyword">y/for</span><span class="org-whitespace-space"> </span>((,var<span class="org-whitespace-space"> </span>,from))<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">initial</span>
<span class="org-whitespace-space">          </span>(&lt;<span class="org-whitespace-space"> </span>,var<span class="org-whitespace-space"> </span>,to)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">condition</span>
<span class="org-whitespace-space">          </span>(,(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>inc<span class="org-whitespace-space"> </span>'y/inc)<span class="org-whitespace-space"> </span>,var)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">change</span>
<span class="org-whitespace-space">          </span>,@body))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">integer/math</span>
(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/nzerop</span>(arg)
<span class="org-whitespace-space">  </span><span class="org-doc">"Check</span><span class="org-whitespace-space"> </span><span class="org-doc">whether</span><span class="org-whitespace-space"> </span><span class="org-doc">ARG</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">zero</span><span class="org-whitespace-space"> </span><span class="org-doc">number.</span>
<span class="org-doc">Returns</span><span class="org-whitespace-space"> </span><span class="org-doc">t</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">zero</span><span class="org-whitespace-space"> </span><span class="org-doc">number,</span><span class="org-whitespace-space"> </span><span class="org-doc">otherwise</span><span class="org-whitespace-space"> </span><span class="org-doc">return</span><span class="org-whitespace-space"> </span><span class="org-doc">nil"</span>
<span class="org-whitespace-space">  </span>`(not<span class="org-whitespace-space"> </span>(zerop<span class="org-whitespace-space"> </span>,arg)))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/delete</span>(elt<span class="org-whitespace-space"> </span>seq)
<span class="org-whitespace-space">  </span><span class="org-doc">"Delete</span><span class="org-whitespace-space"> </span><span class="org-doc">ELT</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">SEQ,</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">restore</span><span class="org-whitespace-space"> </span><span class="org-doc">the</span><span class="org-whitespace-space"> </span><span class="org-doc">result</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">SEQ.</span>
<span class="org-doc">Use</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">delete</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">remove</span><span class="org-whitespace-space"> </span><span class="org-doc">from</span><span class="org-whitespace-space"> </span><span class="org-doc">SEQ."</span>
<span class="org-whitespace-space">  </span>`(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>,seq<span class="org-whitespace-space"> </span>(delete<span class="org-whitespace-space"> </span>,elt<span class="org-whitespace-space"> </span>,seq)))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/first-non-nil</span>(<span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>args)
<span class="org-whitespace-space">  </span><span class="org-doc">"Return</span><span class="org-whitespace-space"> </span><span class="org-doc">first</span><span class="org-whitespace-space"> </span><span class="org-doc">non</span><span class="org-whitespace-space"> </span><span class="org-doc">nil</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">ARGS."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">catch</span><span class="org-whitespace-space"> </span>'<span class="org-constant">final</span>
<span class="org-whitespace-space">    </span>(<span class="org-keyword">dolist</span><span class="org-whitespace-space"> </span>(l<span class="org-whitespace-space"> </span>args)
<span class="org-whitespace-space">      </span>(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>l
<span class="org-whitespace-space">        </span>(<span class="org-keyword">throw</span><span class="org-whitespace-space"> </span>'<span class="org-constant">final</span><span class="org-whitespace-space"> </span>l)))))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/slash-to-dash</span>(str<span class="org-whitespace-space"> </span><span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>prefix)
<span class="org-whitespace-space">  </span><span class="org-doc">"Replace</span><span class="org-whitespace-space"> </span><span class="org-doc">\"/\"</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">\"-\"</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">string</span><span class="org-whitespace-space"> </span><span class="org-doc">STR.</span>
<span class="org-doc">Keep</span><span class="org-whitespace-space"> </span><span class="org-doc">the</span><span class="org-whitespace-space"> </span><span class="org-doc">\"/\"</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">PREFIX."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>prefix<span class="org-whitespace-space"> </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>prefix<span class="org-whitespace-space"> </span><span class="org-string">""</span>))
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>str<span class="org-whitespace-space"> </span>(string-remove-prefix<span class="org-whitespace-space"> </span>prefix<span class="org-whitespace-space"> </span>str))
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>str<span class="org-whitespace-space"> </span>(replace-regexp-in-string<span class="org-whitespace-space"> </span><span class="org-string">"/"</span><span class="org-whitespace-space"> </span><span class="org-string">"-"</span><span class="org-whitespace-space"> </span>str))
<span class="org-whitespace-space">  </span>(concat<span class="org-whitespace-space"> </span>prefix<span class="org-whitespace-space"> </span>str))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/make-directory</span>(dir)
<span class="org-whitespace-space">  </span><span class="org-doc">"Make</span><span class="org-whitespace-space"> </span><span class="org-doc">directory</span><span class="org-whitespace-space"> </span><span class="org-doc">DIR</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">not</span><span class="org-whitespace-space"> </span><span class="org-doc">exist.</span>
<span class="org-doc">Return</span><span class="org-whitespace-space"> </span><span class="org-doc">t</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">success,</span><span class="org-whitespace-space"> </span><span class="org-doc">otherwise</span><span class="org-whitespace-space"> </span><span class="org-doc">return</span><span class="org-whitespace-space"> </span><span class="org-doc">nil."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>(file-exists-p<span class="org-whitespace-space"> </span>dir)
<span class="org-whitespace-space">      </span>(make-directory<span class="org-whitespace-space"> </span>dir<span class="org-whitespace-space"> </span>t))
<span class="org-whitespace-space">  </span>(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>(file-directory-p<span class="org-whitespace-space"> </span>dir)
<span class="org-whitespace-space">      </span>(<span class="org-warning">warn</span><span class="org-whitespace-space"> </span><span class="org-string">"Directory</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">'</span><span class="org-whitespace-space"> </span><span class="org-string">exists</span><span class="org-whitespace-space"> </span><span class="org-string">but</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">not</span><span class="org-whitespace-space"> </span><span class="org-string">a</span><span class="org-whitespace-space"> </span><span class="org-string">directory"</span><span class="org-whitespace-space"> </span>dir)))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/file-replace-extension</span>(filename<span class="org-whitespace-space"> </span>extension)
<span class="org-whitespace-space">  </span><span class="org-doc">"Replace</span><span class="org-whitespace-space"> </span><span class="org-doc">FILENAME</span><span class="org-whitespace-space"> </span><span class="org-doc">suffix(extension)</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">EXTENSION."</span>
<span class="org-whitespace-space">  </span>`(concat<span class="org-whitespace-space"> </span>(file-name-sans-extension<span class="org-whitespace-space"> </span>,filename)<span class="org-whitespace-space"> </span><span class="org-string">"."</span><span class="org-whitespace-space"> </span>,extension))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/define-find-file-function</span>(filename)
<span class="org-whitespace-space">  </span><span class="org-doc">"Define</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">function</span><span class="org-whitespace-space"> </span><span class="org-doc">Y/FIND-FILE--FILENAME</span><span class="org-whitespace-space"> </span><span class="org-doc">which</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">used</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">open</span><span class="org-whitespace-space"> </span><span class="org-doc">FILENAME."</span>
<span class="org-whitespace-space">  </span>`(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span>,(intern<span class="org-whitespace-space"> </span>(format<span class="org-whitespace-space"> </span><span class="org-string">"y/find-file--%s"</span><span class="org-whitespace-space"> </span>filename))<span class="org-whitespace-space"> </span>()
<span class="org-whitespace-space">     </span>,(format<span class="org-whitespace-space"> </span><span class="org-string">"Call</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">find-file</span></span><span class="org-string">'</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">'."</span><span class="org-whitespace-space"> </span>filename)
<span class="org-whitespace-space">     </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">     </span>(find-file<span class="org-whitespace-space"> </span>,filename)))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/define-find-file-function-and-bind</span>(filename<span class="org-whitespace-space"> </span>map<span class="org-whitespace-space"> </span>keyseq)
<span class="org-whitespace-space">  </span><span class="org-doc">"Define</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">find-file</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">FILENAME</span><span class="org-whitespace-space"> </span><span class="org-doc">function</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">bind</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">KEYSEQ</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">MAP.</span>
<span class="org-doc">Use</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">global-map</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">MAP</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">nil."</span>
<span class="org-whitespace-space">  </span>`(define-key
<span class="org-whitespace-space">     </span>(<span class="org-keyword">y/first-non-nil</span><span class="org-whitespace-space"> </span>,map<span class="org-whitespace-space"> </span>global-map)<span class="org-whitespace-space"> </span>,(kbd<span class="org-whitespace-space"> </span>keyseq)
<span class="org-whitespace-space">     </span>(<span class="org-keyword">y/define-find-file-function</span><span class="org-whitespace-space"> </span>,filename)))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/define-switch-to-buffer-function</span>(buffername<span class="org-whitespace-space"> </span><span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>body)
<span class="org-whitespace-space">  </span><span class="org-doc">"Define</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">function</span><span class="org-whitespace-space"> </span><span class="org-doc">Y/SWITCH-TO--BUFFERNAME</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">switch</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">BUFFERNAME.</span>
<span class="org-doc">Eval</span><span class="org-whitespace-space"> </span><span class="org-doc">BODY</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">create</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">new</span><span class="org-whitespace-space"> </span><span class="org-doc">buffer</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">BODY</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">non</span><span class="org-whitespace-space"> </span><span class="org-doc">nil."</span>
<span class="org-whitespace-space">  </span>`(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span>,(intern<span class="org-whitespace-space"> </span>(format<span class="org-whitespace-space"> </span><span class="org-string">"y/switch-to--%s"</span><span class="org-whitespace-space"> </span>buffername))<span class="org-whitespace-space"> </span>()
<span class="org-whitespace-space">     </span>,(format<span class="org-whitespace-space"> </span><span class="org-string">"Call</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">switch-to-buffer</span></span><span class="org-string">'</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">'.\nEval</span><span class="org-whitespace-space"> </span><span class="org-string">%s"</span><span class="org-whitespace-space"> </span>buffername
<span class="org-whitespace-space">              </span>body)
<span class="org-whitespace-space">     </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">     </span>(<span class="org-keyword">let</span><span class="org-whitespace-space"> </span>((newcreate<span class="org-whitespace-space"> </span>(not<span class="org-whitespace-space"> </span>(get-buffer<span class="org-whitespace-space"> </span>,buffername))))
<span class="org-whitespace-space">      </span>(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>(switch-to-buffer<span class="org-whitespace-space"> </span>,buffername)<span class="org-whitespace-space"> </span>newcreate)
<span class="org-whitespace-space">        </span>,@body))))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/define-switch-to-buffer-function-and-bind</span>
<span class="org-whitespace-space">    </span>(buffername<span class="org-whitespace-space"> </span>map<span class="org-whitespace-space"> </span>keyseq<span class="org-whitespace-space"> </span><span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>body)
<span class="org-whitespace-space">  </span><span class="org-doc">"Define</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">switch</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">BUFFERNAME</span><span class="org-whitespace-space"> </span><span class="org-doc">function</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">bind</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">KEYSEQ</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">MAP.</span>
<span class="org-doc">Use</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">global-map</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">MAP</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">nil.</span><span class="org-whitespace-space">  </span><span class="org-doc">Eval</span><span class="org-whitespace-space"> </span><span class="org-doc">BODY</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">non</span><span class="org-whitespace-space"> </span><span class="org-doc">nil."</span>
<span class="org-whitespace-space">  </span>`(define-key
<span class="org-whitespace-space">     </span>(<span class="org-keyword">y/first-non-nil</span><span class="org-whitespace-space"> </span>,map<span class="org-whitespace-space"> </span>global-map)<span class="org-whitespace-space"> </span>,(kbd<span class="org-whitespace-space"> </span>keyseq)
<span class="org-whitespace-space">     </span>(<span class="org-keyword">y/define-switch-to-buffer-function</span><span class="org-whitespace-space"> </span>,buffername<span class="org-whitespace-space"> </span>,@body)))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/define-kill-buffer-function</span>(buffername)
<span class="org-whitespace-space">  </span><span class="org-doc">"Define</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">function</span><span class="org-whitespace-space"> </span><span class="org-doc">Y/KILL-BUFFER--BUFFERNAME</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">kill</span><span class="org-whitespace-space"> </span><span class="org-doc">BUFFERNAME."</span>
<span class="org-whitespace-space">  </span>`(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span>,(intern<span class="org-whitespace-space"> </span>(format<span class="org-whitespace-space"> </span><span class="org-string">"y/switch-to--%s"</span><span class="org-whitespace-space"> </span>buffername))<span class="org-whitespace-space"> </span>()
<span class="org-whitespace-space">     </span>,(format<span class="org-whitespace-space"> </span><span class="org-string">"Call</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">kill-buffer</span></span><span class="org-string">'</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">'."</span><span class="org-whitespace-space"> </span>buffername)
<span class="org-whitespace-space">     </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">     </span>(<span class="org-keyword">save-excursion</span>
<span class="org-whitespace-space">       </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>(switch-to-buffer<span class="org-whitespace-space"> </span>,buffername)
<span class="org-whitespace-space">            </span>(kill-buffer)))))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/define-kill-buffer-function-and-bind</span>(buffername<span class="org-whitespace-space"> </span>map<span class="org-whitespace-space"> </span>keyseq)
<span class="org-whitespace-space">  </span><span class="org-doc">"Define</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">kill-buffer</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">BUFFERNAME</span><span class="org-whitespace-space"> </span><span class="org-doc">function</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">bind</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">KEYSEQ</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">MAP.</span>
<span class="org-doc">Use</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">global-map</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">MAP</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">nil."</span>
<span class="org-whitespace-space">  </span>`(define-key
<span class="org-whitespace-space">     </span>(<span class="org-keyword">y/first-non-nil</span><span class="org-whitespace-space"> </span>,map<span class="org-whitespace-space"> </span>global-map)<span class="org-whitespace-space"> </span>,(kbd<span class="org-whitespace-space"> </span>keyseq)
<span class="org-whitespace-space">     </span>(<span class="org-keyword">y/define-kill-buffer-function</span><span class="org-whitespace-space"> </span>,buffername)))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/define-function</span>(func<span class="org-whitespace-space"> </span>doc<span class="org-whitespace-space"> </span><span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>body)
<span class="org-whitespace-space">  </span><span class="org-doc">"Define</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">function</span><span class="org-whitespace-space"> </span><span class="org-doc">FUNC</span><span class="org-whitespace-space"> </span><span class="org-doc">with</span><span class="org-whitespace-space"> </span><span class="org-doc">docstring</span><span class="org-whitespace-space"> </span><span class="org-doc">DOC</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">body</span><span class="org-whitespace-space"> </span><span class="org-doc">BODY."</span>
<span class="org-whitespace-space">  </span>`(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span>,func<span class="org-whitespace-space"> </span>()
<span class="org-whitespace-space">     </span>,doc
<span class="org-whitespace-space">     </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">     </span>,@body))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/define-function-and-bind</span>(func<span class="org-whitespace-space"> </span>doc<span class="org-whitespace-space"> </span>map<span class="org-whitespace-space"> </span>keyseq<span class="org-whitespace-space"> </span><span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>body)
<span class="org-whitespace-space">  </span><span class="org-doc">"Define</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">function</span><span class="org-whitespace-space"> </span><span class="org-doc">FUNC</span><span class="org-whitespace-space"> </span><span class="org-doc">with</span><span class="org-whitespace-space"> </span><span class="org-doc">DOC</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">BODY,</span><span class="org-whitespace-space"> </span><span class="org-doc">then</span><span class="org-whitespace-space"> </span><span class="org-doc">bind</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">KEYSEQ</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">MAP."</span>
<span class="org-whitespace-space">    </span>`(define-key
<span class="org-whitespace-space">       </span>(<span class="org-keyword">y/first-non-nil</span><span class="org-whitespace-space"> </span>,map<span class="org-whitespace-space"> </span>global-map)<span class="org-whitespace-space"> </span>,(kbd<span class="org-whitespace-space"> </span>keyseq)
<span class="org-whitespace-space">       </span>(<span class="org-keyword">y/define-function</span><span class="org-whitespace-space"> </span>,func<span class="org-whitespace-space"> </span>,doc<span class="org-whitespace-space"> </span>,@body)))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/define-lambda-bind</span>(map<span class="org-whitespace-space"> </span>keyseq<span class="org-whitespace-space"> </span><span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>body)
<span class="org-whitespace-space">  </span><span class="org-doc">"Bind</span><span class="org-whitespace-space"> </span><span class="org-doc">KEYSEQ</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">MAP,</span><span class="org-whitespace-space"> </span><span class="org-doc">use</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">global-map</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">MAP</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">nil.</span><span class="org-whitespace-space">  </span><span class="org-doc">BODY</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">lambda</span><span class="org-whitespace-space"> </span><span class="org-doc">body."</span>
<span class="org-whitespace-space">  </span>`(define-key
<span class="org-whitespace-space">     </span>(<span class="org-keyword">y/first-non-nil</span><span class="org-whitespace-space"> </span>,map<span class="org-whitespace-space"> </span>global-map)<span class="org-whitespace-space"> </span>,(kbd<span class="org-whitespace-space"> </span>keyseq)
<span class="org-whitespace-space">     </span>#'(lambda()(<span class="org-keyword">interactive</span>)<span class="org-whitespace-space"> </span>,@body)))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/append-to-list</span>(listdest<span class="org-whitespace-space"> </span>listsrc<span class="org-whitespace-space"> </span><span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>append<span class="org-whitespace-space"> </span>compare-fn)
<span class="org-whitespace-space">  </span><span class="org-doc">"Add</span><span class="org-whitespace-space"> </span><span class="org-doc">each</span><span class="org-whitespace-space"> </span><span class="org-doc">member</span><span class="org-whitespace-space"> </span><span class="org-doc">of</span><span class="org-whitespace-space"> </span><span class="org-doc">LISTSRC</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">LISTDEST.</span>
<span class="org-doc">Call</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">add-to-list</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">for</span><span class="org-whitespace-space"> </span><span class="org-doc">each</span><span class="org-whitespace-space"> </span><span class="org-doc">member</span><span class="org-whitespace-space"> </span><span class="org-doc">of</span><span class="org-whitespace-space"> </span><span class="org-doc">LISTSRC.</span><span class="org-whitespace-space">  </span><span class="org-doc">APPEND</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">COMPARE-FN</span>
<span class="org-doc">transfer</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">add-to-list</span></span><span class="org-doc">'."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">dolist</span><span class="org-whitespace-space"> </span>(m<span class="org-whitespace-space"> </span>listsrc)
<span class="org-whitespace-space">    </span>(add-to-list<span class="org-whitespace-space"> </span>listdest<span class="org-whitespace-space"> </span>m<span class="org-whitespace-space"> </span>append<span class="org-whitespace-space"> </span>compare-fn)))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/delete-word</span><span class="org-whitespace-space"> </span>(arg)
<span class="org-whitespace-space">  </span><span class="org-doc">"Delete</span><span class="org-whitespace-space"> </span><span class="org-doc">characters</span><span class="org-whitespace-space"> </span><span class="org-doc">forward</span><span class="org-whitespace-space"> </span><span class="org-doc">until</span><span class="org-whitespace-space"> </span><span class="org-doc">encountering</span><span class="org-whitespace-space"> </span><span class="org-doc">the</span><span class="org-whitespace-space"> </span><span class="org-doc">end</span><span class="org-whitespace-space"> </span><span class="org-doc">of</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">word.</span>
<span class="org-doc">With</span><span class="org-whitespace-space"> </span><span class="org-doc">argument</span><span class="org-whitespace-space"> </span><span class="org-doc">ARG,</span><span class="org-whitespace-space"> </span><span class="org-doc">do</span><span class="org-whitespace-space"> </span><span class="org-doc">this</span><span class="org-whitespace-space"> </span><span class="org-doc">that</span><span class="org-whitespace-space"> </span><span class="org-doc">many</span><span class="org-whitespace-space"> </span><span class="org-doc">times."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span><span class="org-whitespace-space"> </span><span class="org-string">"p"</span>)
<span class="org-whitespace-space">  </span>(delete-region<span class="org-whitespace-space"> </span>(point)<span class="org-whitespace-space"> </span>(<span class="org-keyword">progn</span><span class="org-whitespace-space"> </span>(forward-word<span class="org-whitespace-space"> </span>arg)<span class="org-whitespace-space"> </span>(point))))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/backward-delete-word</span><span class="org-whitespace-space"> </span>(arg)
<span class="org-whitespace-space">  </span><span class="org-doc">"Delete</span><span class="org-whitespace-space"> </span><span class="org-doc">characters</span><span class="org-whitespace-space"> </span><span class="org-doc">backward</span><span class="org-whitespace-space"> </span><span class="org-doc">until</span><span class="org-whitespace-space"> </span><span class="org-doc">encountering</span><span class="org-whitespace-space"> </span><span class="org-doc">the</span><span class="org-whitespace-space"> </span><span class="org-doc">beginning</span><span class="org-whitespace-space"> </span><span class="org-doc">of</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">word.</span>
<span class="org-doc">With</span><span class="org-whitespace-space"> </span><span class="org-doc">argument</span><span class="org-whitespace-space"> </span><span class="org-doc">ARG,</span><span class="org-whitespace-space"> </span><span class="org-doc">do</span><span class="org-whitespace-space"> </span><span class="org-doc">this</span><span class="org-whitespace-space"> </span><span class="org-doc">that</span><span class="org-whitespace-space"> </span><span class="org-doc">many</span><span class="org-whitespace-space"> </span><span class="org-doc">times."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span><span class="org-whitespace-space"> </span><span class="org-string">"p"</span>)
<span class="org-whitespace-space">  </span>(y/delete-word<span class="org-whitespace-space"> </span>(-<span class="org-whitespace-space"> </span>arg)))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/comment-or-uncomment</span>()
<span class="org-whitespace-space">  </span><span class="org-doc">"Call</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">comment-or-uncomment-region</span></span><span class="org-doc">'.</span>
<span class="org-doc">Use</span><span class="org-whitespace-space"> </span><span class="org-doc">current</span><span class="org-whitespace-space"> </span><span class="org-doc">line</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">no</span><span class="org-whitespace-space"> </span><span class="org-doc">active</span><span class="org-whitespace-space"> </span><span class="org-doc">region."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(use-region-p)
<span class="org-whitespace-space">      </span>(comment-or-uncomment-region<span class="org-whitespace-space"> </span>(region-beginning)<span class="org-whitespace-space"> </span>(region-end))
<span class="org-whitespace-space">    </span>(comment-or-uncomment-region<span class="org-whitespace-space"> </span>(line-beginning-position)
<span class="org-whitespace-space">                                 </span>(line-end-position))))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">lisp</span><span class="org-whitespace-space"> </span><span class="org-comment">mode</span>
(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/lisp-modes</span>
<span class="org-whitespace-space">  </span>'(emacs-lisp-mode<span class="org-whitespace-space"> </span>lisp-mode<span class="org-whitespace-space"> </span>ielm-mode<span class="org-whitespace-space"> </span>lisp-interaction-mode)
<span class="org-whitespace-space">  </span><span class="org-doc">"Major</span><span class="org-whitespace-space"> </span><span class="org-doc">modes</span><span class="org-whitespace-space"> </span><span class="org-doc">relate</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">LISP."</span>)

(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/lisp-modes-hook</span><span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">  </span><span class="org-doc">"Hook</span><span class="org-whitespace-space"> </span><span class="org-doc">for</span><span class="org-whitespace-space"> </span><span class="org-doc">all</span><span class="org-whitespace-space"> </span><span class="org-doc">LISP</span><span class="org-whitespace-space"> </span><span class="org-doc">mode."</span>)

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/lisp-modes--hook-function</span>()
<span class="org-whitespace-space">  </span><span class="org-doc">"Run</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">y/lisp-mode-hook</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">for</span><span class="org-whitespace-space"> </span><span class="org-doc">all</span><span class="org-whitespace-space"> </span><span class="org-doc">LISP</span><span class="org-whitespace-space"> </span><span class="org-doc">mode."</span>
<span class="org-whitespace-space">  </span>(run-hooks<span class="org-whitespace-space"> </span>'y/lisp-modes-hook))

(<span class="org-keyword">dolist</span><span class="org-whitespace-space"> </span>(hook<span class="org-whitespace-space"> </span>(mapcar<span class="org-whitespace-space"> </span>#'derived-mode-hook-name<span class="org-whitespace-space"> </span>y/lisp-modes))
<span class="org-whitespace-space">  </span>(add-hook<span class="org-whitespace-space"> </span>hook<span class="org-whitespace-space"> </span>'y/lisp-modes--hook-function))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/define-lisp-modes-foreach</span>(func)
<span class="org-whitespace-space">  </span><span class="org-doc">"Execute</span><span class="org-whitespace-space"> </span><span class="org-doc">FUNC</span><span class="org-whitespace-space"> </span><span class="org-doc">with</span><span class="org-whitespace-space"> </span><span class="org-doc">argument</span><span class="org-whitespace-space"> </span><span class="org-doc">mode</span><span class="org-whitespace-space"> </span><span class="org-doc">for</span><span class="org-whitespace-space"> </span><span class="org-doc">each</span><span class="org-whitespace-space"> </span><span class="org-doc">LISP</span><span class="org-whitespace-space"> </span><span class="org-doc">mode."</span>
<span class="org-whitespace-space">  </span>`(<span class="org-keyword">dolist</span><span class="org-whitespace-space"> </span>(mode<span class="org-whitespace-space"> </span>y/lisp-modes)
<span class="org-whitespace-space">     </span>(funcall<span class="org-whitespace-space"> </span>,func<span class="org-whitespace-space"> </span>mode)))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/define-set-key-function</span>(setfuncname<span class="org-whitespace-space"> </span>unsetfuncname<span class="org-whitespace-space"> </span>map)
<span class="org-whitespace-space">  </span><span class="org-doc">"Define</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">pair</span><span class="org-whitespace-space"> </span><span class="org-doc">functions</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">define-key</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">MAP.</span>
<span class="org-doc">SETFUNCNAME</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">set</span><span class="org-whitespace-space"> </span><span class="org-doc">key,</span><span class="org-whitespace-space"> </span><span class="org-doc">UNSETFUNCNAME</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">remove</span><span class="org-whitespace-space"> </span><span class="org-doc">key."</span>
<span class="org-whitespace-space">     </span>`(list
<span class="org-whitespace-space">    </span>(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span>,setfuncname<span class="org-whitespace-space"> </span>(key<span class="org-whitespace-space"> </span>command)
<span class="org-whitespace-space">      </span>,(format<span class="org-whitespace-space"> </span><span class="org-string">"Give</span><span class="org-whitespace-space"> </span><span class="org-string">KEY</span><span class="org-whitespace-space"> </span><span class="org-string">a</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">'</span><span class="org-whitespace-space"> </span><span class="org-string">binding</span><span class="org-whitespace-space"> </span><span class="org-string">as</span><span class="org-whitespace-space"> </span><span class="org-string">COMMAND.</span>
<span class="org-string">Like</span><span class="org-whitespace-space"> </span><span class="org-string">as</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">global-set-key</span></span><span class="org-string">'</span><span class="org-whitespace-space"> </span><span class="org-string">but</span><span class="org-whitespace-space"> </span><span class="org-string">use</span><span class="org-whitespace-space"> </span><span class="org-string">map</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">'."</span><span class="org-whitespace-space"> </span>map<span class="org-whitespace-space"> </span>map)
<span class="org-whitespace-space">      </span>(<span class="org-keyword">interactive</span>
<span class="org-whitespace-space">       </span>(<span class="org-keyword">let*</span><span class="org-whitespace-space"> </span>((menu-prompting<span class="org-whitespace-space"> </span>nil)
<span class="org-whitespace-space">              </span>(key<span class="org-whitespace-space"> </span>(read-key-sequence<span class="org-whitespace-space"> </span>(format<span class="org-whitespace-space"> </span><span class="org-string">"Set</span><span class="org-whitespace-space"> </span><span class="org-string">key</span><span class="org-whitespace-space"> </span><span class="org-string">in</span><span class="org-whitespace-space"> </span><span class="org-string">%s:</span><span class="org-whitespace-space"> </span><span class="org-string">"</span><span class="org-whitespace-space"> </span>,map))))
<span class="org-whitespace-space">         </span>(list<span class="org-whitespace-space"> </span>key
<span class="org-whitespace-space">               </span>(read-command<span class="org-whitespace-space"> </span>(format<span class="org-whitespace-space"> </span><span class="org-string">"Set</span><span class="org-whitespace-space"> </span><span class="org-string">key</span><span class="org-whitespace-space"> </span><span class="org-string">%s</span><span class="org-whitespace-space"> </span><span class="org-string">to</span><span class="org-whitespace-space"> </span><span class="org-string">command:</span><span class="org-whitespace-space"> </span><span class="org-string">"</span>
<span class="org-whitespace-space">                                     </span>(key-description<span class="org-whitespace-space"> </span>key))))))
<span class="org-whitespace-space">      </span>(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>(vectorp<span class="org-whitespace-space"> </span>key)<span class="org-whitespace-space"> </span>(stringp<span class="org-whitespace-space"> </span>key)
<span class="org-whitespace-space">          </span>(<span class="org-warning">signal</span><span class="org-whitespace-space"> </span>'wrong-type-argument<span class="org-whitespace-space"> </span>(list<span class="org-whitespace-space"> </span>'arrayp<span class="org-whitespace-space"> </span>key)))
<span class="org-whitespace-space">      </span>(define-key<span class="org-whitespace-space"> </span>,map<span class="org-whitespace-space"> </span>key<span class="org-whitespace-space"> </span>command))

<span class="org-whitespace-space">    </span>(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span>,unsetfuncname<span class="org-whitespace-space"> </span>(key)
<span class="org-whitespace-space">      </span>,(format<span class="org-whitespace-space"> </span><span class="org-string">"Remov</span><span class="org-whitespace-space"> </span><span class="org-string">KEY</span><span class="org-whitespace-space"> </span><span class="org-string">binding</span><span class="org-whitespace-space"> </span><span class="org-string">from</span><span class="org-whitespace-space"> </span><span class="org-string">keymap</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">'.</span>
<span class="org-string">Like</span><span class="org-whitespace-space"> </span><span class="org-string">as</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">global-unset-key</span></span><span class="org-string">'</span><span class="org-whitespace-space"> </span><span class="org-string">but</span><span class="org-whitespace-space"> </span><span class="org-string">use</span><span class="org-whitespace-space"> </span><span class="org-string">map</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">'."</span><span class="org-whitespace-space"> </span>map<span class="org-whitespace-space"> </span>map)
<span class="org-whitespace-space">      </span>(<span class="org-keyword">interactive</span><span class="org-whitespace-space"> </span>,(format<span class="org-whitespace-space"> </span><span class="org-string">"kUnset</span><span class="org-whitespace-space"> </span><span class="org-string">key</span><span class="org-whitespace-space"> </span><span class="org-string">from</span><span class="org-whitespace-space"> </span><span class="org-string">%s:</span><span class="org-whitespace-space"> </span><span class="org-string">"</span><span class="org-whitespace-space"> </span>map))
<span class="org-whitespace-space">      </span>(,setfuncname<span class="org-whitespace-space"> </span>key<span class="org-whitespace-space"> </span>nil))))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(defmacro</span><span class="org-whitespace-space"> </span><span class="org-comment">y/define-set-key-function(setfuncname</span><span class="org-whitespace-space"> </span><span class="org-comment">unsetfuncname</span><span class="org-whitespace-space"> </span><span class="org-comment">map)</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">   </span><span class="org-comment">"Define</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">pair</span><span class="org-whitespace-space"> </span><span class="org-comment">functions</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">define-key</span></span><span class="org-comment">'</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">MAP.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">SETFUNCNAME</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">set</span><span class="org-whitespace-space"> </span><span class="org-comment">key,</span><span class="org-whitespace-space"> </span><span class="org-comment">UNSETFUNCNAME</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">remove</span><span class="org-whitespace-space"> </span><span class="org-comment">key."</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">   </span><span class="org-comment">`(list</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">     </span><span class="org-comment">(defun</span><span class="org-whitespace-space"> </span><span class="org-comment">,setfuncname</span><span class="org-whitespace-space"> </span><span class="org-comment">(key</span><span class="org-whitespace-space"> </span><span class="org-comment">command)</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">       </span><span class="org-comment">,(format</span><span class="org-whitespace-space"> </span><span class="org-comment">"Give</span><span class="org-whitespace-space"> </span><span class="org-comment">KEY</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">%s</span></span><span class="org-comment">'</span><span class="org-whitespace-space"> </span><span class="org-comment">binding</span><span class="org-whitespace-space"> </span><span class="org-comment">as</span><span class="org-whitespace-space"> </span><span class="org-comment">COMMAND.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Like</span><span class="org-whitespace-space"> </span><span class="org-comment">as</span><span class="org-whitespace-space"> </span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">global-set-key</span></span><span class="org-comment">'</span><span class="org-whitespace-space"> </span><span class="org-comment">but</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">map</span><span class="org-whitespace-space"> </span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">%s</span></span><span class="org-comment">'."</span><span class="org-whitespace-space"> </span><span class="org-comment">map</span><span class="org-whitespace-space"> </span><span class="org-comment">map)</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">       </span><span class="org-comment">(interactive</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">        </span><span class="org-comment">(let*</span><span class="org-whitespace-space"> </span><span class="org-comment">((menu-prompting</span><span class="org-whitespace-space"> </span><span class="org-comment">nil)</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">               </span><span class="org-comment">(key</span><span class="org-whitespace-space"> </span><span class="org-comment">(read-key-sequence</span><span class="org-whitespace-space"> </span><span class="org-comment">(format</span><span class="org-whitespace-space"> </span><span class="org-comment">"Set</span><span class="org-whitespace-space"> </span><span class="org-comment">key</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">%s:</span><span class="org-whitespace-space"> </span><span class="org-comment">"</span><span class="org-whitespace-space"> </span><span class="org-comment">,map))))</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">          </span><span class="org-comment">(list</span><span class="org-whitespace-space"> </span><span class="org-comment">key</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">                </span><span class="org-comment">(read-command</span><span class="org-whitespace-space"> </span><span class="org-comment">(format</span><span class="org-whitespace-space"> </span><span class="org-comment">"Set</span><span class="org-whitespace-space"> </span><span class="org-comment">key</span><span class="org-whitespace-space"> </span><span class="org-comment">%s</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">command:</span><span class="org-whitespace-space"> </span><span class="org-comment">"</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">                                      </span><span class="org-comment">(key-description</span><span class="org-whitespace-space"> </span><span class="org-comment">key))))))</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">       </span><span class="org-comment">(or</span><span class="org-whitespace-space"> </span><span class="org-comment">(vectorp</span><span class="org-whitespace-space"> </span><span class="org-comment">key)</span><span class="org-whitespace-space"> </span><span class="org-comment">(stringp</span><span class="org-whitespace-space"> </span><span class="org-comment">key)</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">           </span><span class="org-comment">(signal</span><span class="org-whitespace-space"> </span><span class="org-comment">'wrong-type-argument</span><span class="org-whitespace-space"> </span><span class="org-comment">(list</span><span class="org-whitespace-space"> </span><span class="org-comment">'arrayp</span><span class="org-whitespace-space"> </span><span class="org-comment">key)))</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">       </span><span class="org-comment">(define-key</span><span class="org-whitespace-space"> </span><span class="org-comment">,map</span><span class="org-whitespace-space"> </span><span class="org-comment">key</span><span class="org-whitespace-space"> </span><span class="org-comment">command))</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">     </span><span class="org-comment">(defun</span><span class="org-whitespace-space"> </span><span class="org-comment">,unsetfuncname</span><span class="org-whitespace-space"> </span><span class="org-comment">(key)</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">       </span><span class="org-comment">,(format</span><span class="org-whitespace-space"> </span><span class="org-comment">"Remov</span><span class="org-whitespace-space"> </span><span class="org-comment">KEY</span><span class="org-whitespace-space"> </span><span class="org-comment">binding</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">keymap</span><span class="org-whitespace-space"> </span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">%s</span></span><span class="org-comment">'.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Like</span><span class="org-whitespace-space"> </span><span class="org-comment">as</span><span class="org-whitespace-space"> </span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">global-unset-key</span></span><span class="org-comment">'</span><span class="org-whitespace-space"> </span><span class="org-comment">but</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">map</span><span class="org-whitespace-space"> </span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">%s</span></span><span class="org-comment">'."</span><span class="org-whitespace-space"> </span><span class="org-comment">map</span><span class="org-whitespace-space"> </span><span class="org-comment">map)</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">       </span><span class="org-comment">(interactive</span><span class="org-whitespace-space"> </span><span class="org-comment">,(format</span><span class="org-whitespace-space"> </span><span class="org-comment">"kUnset</span><span class="org-whitespace-space"> </span><span class="org-comment">key</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">%s:</span><span class="org-whitespace-space"> </span><span class="org-comment">"</span><span class="org-whitespace-space"> </span><span class="org-comment">map))</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">       </span><span class="org-comment">(,setfuncname</span><span class="org-whitespace-space"> </span><span class="org-comment">key</span><span class="org-whitespace-space"> </span><span class="org-comment">nil))))</span>

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/add-after-init-or-make-frame-hook</span>(func)
<span class="org-whitespace-space">  </span><span class="org-doc">"Add</span><span class="org-whitespace-space"> </span><span class="org-doc">FUNC</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">after-init</span><span class="org-whitespace-space"> </span><span class="org-doc">or</span><span class="org-whitespace-space"> </span><span class="org-doc">after-make-frame</span><span class="org-whitespace-space"> </span><span class="org-doc">hook</span><span class="org-whitespace-space"> </span><span class="org-doc">depends</span><span class="org-whitespace-space"> </span><span class="org-doc">on</span><span class="org-whitespace-space"> </span><span class="org-doc">daemon</span><span class="org-whitespace-space"> </span><span class="org-doc">mode."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(daemonp)
<span class="org-whitespace-space">      </span>(add-hook<span class="org-whitespace-space"> </span>'after-make-frame-functions<span class="org-whitespace-space"> </span>func)
<span class="org-whitespace-space">    </span>(add-hook<span class="org-whitespace-space"> </span>'after-init-hook<span class="org-whitespace-space"> </span>func)))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/date</span>(<span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>insert)
<span class="org-whitespace-space">  </span><span class="org-doc">"Show</span><span class="org-whitespace-space"> </span><span class="org-doc">Today</span><span class="org-whitespace-space"> </span><span class="org-doc">Date</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">echo</span><span class="org-whitespace-space"> </span><span class="org-doc">area.</span><span class="org-whitespace-space">  </span><span class="org-doc">Insert</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">current</span><span class="org-whitespace-space"> </span><span class="org-doc">buffer</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">INSERT."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span><span class="org-whitespace-space"> </span><span class="org-string">"P"</span>)
<span class="org-whitespace-space">  </span>(message<span class="org-whitespace-space"> </span>(format-time-string<span class="org-whitespace-space"> </span><span class="org-string">"%Y-%m-%d"</span>))
<span class="org-whitespace-space">  </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>insert
<span class="org-whitespace-space">       </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>buffer-read-only
<span class="org-whitespace-space">           </span>(<span class="org-warning">error</span><span class="org-whitespace-space"> </span><span class="org-string">"Could</span><span class="org-whitespace-space"> </span><span class="org-string">not</span><span class="org-whitespace-space"> </span><span class="org-string">insert</span><span class="org-whitespace-space"> </span><span class="org-string">to</span><span class="org-whitespace-space"> </span><span class="org-string">read-only</span><span class="org-whitespace-space"> </span><span class="org-string">buffer"</span>)
<span class="org-whitespace-space">         </span>(insert<span class="org-whitespace-space"> </span>(format-time-string<span class="org-whitespace-space"> </span><span class="org-string">"%Y-%m-%d"</span>)))))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">source:</span><span class="org-whitespace-space"> </span><span class="org-comment">http://steve.yegge.googlepages.com/my-dot-emacs-file</span>
(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/rename-file-and-buffer</span><span class="org-whitespace-space"> </span>(new-name)
<span class="org-whitespace-space">  </span><span class="org-doc">"Renames</span><span class="org-whitespace-space"> </span><span class="org-doc">both</span><span class="org-whitespace-space"> </span><span class="org-doc">current</span><span class="org-whitespace-space"> </span><span class="org-doc">buffer</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">file</span><span class="org-whitespace-space"> </span><span class="org-doc">it's</span><span class="org-whitespace-space"> </span><span class="org-doc">visiting</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">NEW-NAME."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span><span class="org-whitespace-space"> </span><span class="org-string">"sNew</span><span class="org-whitespace-space"> </span><span class="org-string">name:</span><span class="org-whitespace-space"> </span><span class="org-string">"</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">let</span><span class="org-whitespace-space"> </span>((name<span class="org-whitespace-space"> </span>(buffer-name))
<span class="org-whitespace-space">        </span>(filename<span class="org-whitespace-space"> </span>(buffer-file-name)))
<span class="org-whitespace-space">    </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(not<span class="org-whitespace-space"> </span>filename)
<span class="org-whitespace-space">        </span>(message<span class="org-whitespace-space"> </span><span class="org-string">"Buffer</span><span class="org-whitespace-space"> </span><span class="org-string">'%s'</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">not</span><span class="org-whitespace-space"> </span><span class="org-string">visiting</span><span class="org-whitespace-space"> </span><span class="org-string">a</span><span class="org-whitespace-space"> </span><span class="org-string">file!"</span><span class="org-whitespace-space"> </span>name)
<span class="org-whitespace-space">      </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(get-buffer<span class="org-whitespace-space"> </span>new-name)
<span class="org-whitespace-space">          </span>(message<span class="org-whitespace-space"> </span><span class="org-string">"A</span><span class="org-whitespace-space"> </span><span class="org-string">buffer</span><span class="org-whitespace-space"> </span><span class="org-string">named</span><span class="org-whitespace-space"> </span><span class="org-string">'%s'</span><span class="org-whitespace-space"> </span><span class="org-string">already</span><span class="org-whitespace-space"> </span><span class="org-string">exists!"</span><span class="org-whitespace-space"> </span>new-name)
<span class="org-whitespace-space">        </span>(<span class="org-keyword">progn</span>
<span class="org-whitespace-space">          </span>(rename-file<span class="org-whitespace-space"> </span>filename<span class="org-whitespace-space"> </span>new-name<span class="org-whitespace-space"> </span>1)
<span class="org-whitespace-space">          </span>(rename-buffer<span class="org-whitespace-space"> </span>new-name)
<span class="org-whitespace-space">          </span>(set-visited-file-name<span class="org-whitespace-space"> </span>new-name)
<span class="org-whitespace-space">          </span>(set-buffer-modified-p<span class="org-whitespace-space"> </span>nil))))))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">source:</span><span class="org-whitespace-space"> </span><span class="org-comment">https://emacs.stackexchange.com/a/24461</span>
(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/revert-all-file-buffers</span>()
<span class="org-whitespace-space">  </span><span class="org-doc">"Refresh</span><span class="org-whitespace-space"> </span><span class="org-doc">all</span><span class="org-whitespace-space"> </span><span class="org-doc">open</span><span class="org-whitespace-space"> </span><span class="org-doc">file</span><span class="org-whitespace-space"> </span><span class="org-doc">buffers</span><span class="org-whitespace-space"> </span><span class="org-doc">without</span><span class="org-whitespace-space"> </span><span class="org-doc">confirmation.</span>
<span class="org-doc">Buffers</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">modified</span><span class="org-whitespace-space"> </span><span class="org-doc">(not</span><span class="org-whitespace-space"> </span><span class="org-doc">yet</span><span class="org-whitespace-space"> </span><span class="org-doc">saved)</span><span class="org-whitespace-space"> </span><span class="org-doc">state</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">Emacs</span><span class="org-whitespace-space"> </span><span class="org-doc">will</span><span class="org-whitespace-space"> </span><span class="org-doc">not</span><span class="org-whitespace-space"> </span><span class="org-doc">be</span><span class="org-whitespace-space"> </span><span class="org-doc">reverted.</span>
<span class="org-doc">They</span><span class="org-whitespace-space"> </span><span class="org-doc">will</span><span class="org-whitespace-space"> </span><span class="org-doc">be</span><span class="org-whitespace-space"> </span><span class="org-doc">reverted</span><span class="org-whitespace-space"> </span><span class="org-doc">though</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">they</span><span class="org-whitespace-space"> </span><span class="org-doc">were</span><span class="org-whitespace-space"> </span><span class="org-doc">modified</span><span class="org-whitespace-space"> </span><span class="org-doc">outside</span><span class="org-whitespace-space"> </span><span class="org-doc">Emacs.</span>
<span class="org-doc">Buffers</span><span class="org-whitespace-space"> </span><span class="org-doc">visiting</span><span class="org-whitespace-space"> </span><span class="org-doc">files</span><span class="org-whitespace-space"> </span><span class="org-doc">which</span><span class="org-whitespace-space"> </span><span class="org-doc">do</span><span class="org-whitespace-space"> </span><span class="org-doc">not</span><span class="org-whitespace-space"> </span><span class="org-doc">exist</span><span class="org-whitespace-space"> </span><span class="org-doc">any</span><span class="org-whitespace-space"> </span><span class="org-doc">more</span><span class="org-whitespace-space"> </span><span class="org-doc">or</span><span class="org-whitespace-space"> </span><span class="org-doc">are</span><span class="org-whitespace-space"> </span><span class="org-doc">no</span><span class="org-whitespace-space"> </span><span class="org-doc">longer</span><span class="org-whitespace-space"> </span><span class="org-doc">readable</span>
<span class="org-doc">will</span><span class="org-whitespace-space"> </span><span class="org-doc">be</span><span class="org-whitespace-space"> </span><span class="org-doc">killed."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">dolist</span><span class="org-whitespace-space"> </span>(buf<span class="org-whitespace-space"> </span>(buffer-list))
<span class="org-whitespace-space">    </span>(<span class="org-keyword">let</span><span class="org-whitespace-space"> </span>((filename<span class="org-whitespace-space"> </span>(buffer-file-name<span class="org-whitespace-space"> </span>buf)))
<span class="org-whitespace-space">      </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Revert</span><span class="org-whitespace-space"> </span><span class="org-comment">only</span><span class="org-whitespace-space"> </span><span class="org-comment">buffers</span><span class="org-whitespace-space"> </span><span class="org-comment">containing</span><span class="org-whitespace-space"> </span><span class="org-comment">files,</span><span class="org-whitespace-space"> </span><span class="org-comment">which</span><span class="org-whitespace-space"> </span><span class="org-comment">are</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">modified;</span>
<span class="org-whitespace-space">      </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">do</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">try</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">revert</span><span class="org-whitespace-space"> </span><span class="org-comment">non-file</span><span class="org-whitespace-space"> </span><span class="org-comment">buffers</span><span class="org-whitespace-space"> </span><span class="org-comment">like</span><span class="org-whitespace-space"> </span><span class="org-comment">*Messages*.</span>
<span class="org-whitespace-space">      </span>(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>filename
<span class="org-whitespace-space">                 </span>(not<span class="org-whitespace-space"> </span>(buffer-modified-p<span class="org-whitespace-space"> </span>buf)))
<span class="org-whitespace-space">        </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(file-readable-p<span class="org-whitespace-space"> </span>filename)
<span class="org-whitespace-space">            </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">If</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">file</span><span class="org-whitespace-space"> </span><span class="org-comment">exists</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">readable,</span><span class="org-whitespace-space"> </span><span class="org-comment">revert</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">buffer.</span>
<span class="org-whitespace-space">            </span>(<span class="org-keyword">with-current-buffer</span><span class="org-whitespace-space"> </span>buf
<span class="org-whitespace-space">              </span>(revert-buffer<span class="org-whitespace-space"> </span><span class="org-builtin">:ignore-auto</span><span class="org-whitespace-space"> </span><span class="org-builtin">:noconfirm</span><span class="org-whitespace-space"> </span><span class="org-builtin">:preserve-modes</span>))
<span class="org-whitespace-space">          </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Otherwise,</span><span class="org-whitespace-space"> </span><span class="org-comment">kill</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">buffer.</span>
<span class="org-whitespace-space">          </span>(<span class="org-keyword">let</span><span class="org-whitespace-space"> </span>(kill-buffer-query-functions)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">No</span><span class="org-whitespace-space"> </span><span class="org-comment">query</span><span class="org-whitespace-space"> </span><span class="org-comment">done</span><span class="org-whitespace-space"> </span><span class="org-comment">when</span><span class="org-whitespace-space"> </span><span class="org-comment">killing</span><span class="org-whitespace-space"> </span><span class="org-comment">buffer</span>
<span class="org-whitespace-space">            </span>(kill-buffer<span class="org-whitespace-space"> </span>buf)
<span class="org-whitespace-space">            </span>(message<span class="org-whitespace-space"> </span><span class="org-string">"Killed</span><span class="org-whitespace-space"> </span><span class="org-string">non-existing/unreadable</span><span class="org-whitespace-space"> </span><span class="org-string">file</span><span class="org-whitespace-space"> </span><span class="org-string">buffer:</span><span class="org-whitespace-space"> </span><span class="org-string">%s"</span><span class="org-whitespace-space"> </span>filename))<span class="org-whitespace-line">))))</span>
<span class="org-whitespace-space">  </span>(message<span class="org-whitespace-space"> </span><span class="org-string">"Finished</span><span class="org-whitespace-space"> </span><span class="org-string">reverting</span><span class="org-whitespace-space"> </span><span class="org-string">buffers</span><span class="org-whitespace-space"> </span><span class="org-string">containing</span><span class="org-whitespace-space"> </span><span class="org-string">unmodified</span><span class="org-whitespace-space"> </span><span class="org-string">files."</span>))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/view-lossage-timer</span>()
<span class="org-whitespace-space">  </span><span class="org-doc">"Show</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">view-lossage</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">periodically."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/--view-lossage-timer</span><span class="org-whitespace-space"> </span>nil)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>y/--view-lossage-timer
<span class="org-whitespace-space">      </span>(<span class="org-keyword">progn</span>
<span class="org-whitespace-space">        </span>(cancel-timer<span class="org-whitespace-space"> </span>y/--view-lossage-timer)
<span class="org-whitespace-space">        </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/--view-lossage-timer<span class="org-whitespace-space"> </span>nil))
<span class="org-whitespace-space">    </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/--view-lossage-timer<span class="org-whitespace-space"> </span>(run-at-time<span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span>.5<span class="org-whitespace-space"> </span>#'view-lossage))))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">env</span><span class="org-whitespace-space"> </span><span class="org-comment">process</span>
(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/env-set</span>(env<span class="org-whitespace-space"> </span>val<span class="org-whitespace-space"> </span><span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>force)
<span class="org-whitespace-space">  </span><span class="org-doc">"Set</span><span class="org-whitespace-space"> </span><span class="org-doc">enviroment</span><span class="org-whitespace-space"> </span><span class="org-doc">ENV</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">VAL</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">ENV</span><span class="org-whitespace-space"> </span><span class="org-doc">unset</span><span class="org-whitespace-space"> </span><span class="org-doc">or</span><span class="org-whitespace-space"> </span><span class="org-doc">FORCE</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">t."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>(not<span class="org-whitespace-space"> </span>(getenv<span class="org-whitespace-space"> </span>env))<span class="org-whitespace-space"> </span>force)
<span class="org-whitespace-space">    </span>(setenv<span class="org-whitespace-space"> </span>env<span class="org-whitespace-space"> </span>val)))
(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/env-sync-partner</span>(env1<span class="org-whitespace-space"> </span>env2)
<span class="org-whitespace-space">  </span><span class="org-doc">"Sync</span><span class="org-whitespace-space"> </span><span class="org-doc">enviroment</span><span class="org-whitespace-space"> </span><span class="org-doc">ENV1/ENV2</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">another</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">one</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">nil</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">another</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">non-nil."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>(getenv<span class="org-whitespace-space"> </span>env1)<span class="org-whitespace-space"> </span>(y/env-set<span class="org-whitespace-space"> </span>env1<span class="org-whitespace-space"> </span>(getenv<span class="org-whitespace-space"> </span>env2)))
<span class="org-whitespace-space">  </span>(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>(getenv<span class="org-whitespace-space"> </span>env2)<span class="org-whitespace-space"> </span>(y/env-set<span class="org-whitespace-space"> </span>env2<span class="org-whitespace-space"> </span>(getenv<span class="org-whitespace-space"> </span>env1))))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/add-no-proxy-sites</span>(<span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>sites)
<span class="org-whitespace-space">  </span><span class="org-doc">"Add</span><span class="org-whitespace-space"> </span><span class="org-doc">SITES</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">environment</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">no_proxy</span></span><span class="org-doc">'."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">let*</span><span class="org-whitespace-space"> </span>((no-proxy-sites
<span class="org-whitespace-space">          </span>(<span class="org-keyword">let</span><span class="org-whitespace-space"> </span>((env<span class="org-whitespace-space"> </span>(getenv<span class="org-whitespace-space"> </span><span class="org-string">"no_proxy"</span>)))
<span class="org-whitespace-space">            </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>env<span class="org-whitespace-space"> </span>(split-string<span class="org-whitespace-space"> </span>env<span class="org-whitespace-space"> </span><span class="org-string">","</span>))))
<span class="org-whitespace-space">         </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">dummy</span><span class="org-whitespace-space"> </span><span class="org-comment">var</span><span class="org-whitespace-space"> </span><span class="org-comment">only</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">eliminating</span><span class="org-whitespace-space"> </span><span class="org-comment">free</span><span class="org-whitespace-space"> </span><span class="org-comment">variable</span><span class="org-whitespace-space"> </span><span class="org-comment">warning.</span>
<span class="org-whitespace-space">         </span>add-sites)
<span class="org-whitespace-space">    </span>(<span class="org-keyword">cl-labels</span>
<span class="org-whitespace-space">        </span>((add-sites<span class="org-whitespace-space"> </span>(sites)
<span class="org-whitespace-space">          </span>(<span class="org-keyword">dolist</span><span class="org-whitespace-space"> </span>(s<span class="org-whitespace-space"> </span>sites)
<span class="org-whitespace-space">            </span>(<span class="org-keyword">pcase</span><span class="org-whitespace-space"> </span>s
<span class="org-whitespace-space">              </span>('nil<span class="org-whitespace-space"> </span>t)
<span class="org-whitespace-space">              </span>((pred<span class="org-whitespace-space"> </span>stringp)
<span class="org-whitespace-space">               </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>(&gt;<span class="org-whitespace-space"> </span>(length<span class="org-whitespace-space"> </span>s)<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">                    </span>(add-to-list<span class="org-whitespace-space"> </span>'no-proxy-sites<span class="org-whitespace-space"> </span>s<span class="org-whitespace-space"> </span>t)))
<span class="org-whitespace-space">              </span>((pred<span class="org-whitespace-space"> </span>listp)
<span class="org-whitespace-space">               </span>(funcall<span class="org-whitespace-space"> </span>add-sites<span class="org-whitespace-space"> </span>(car<span class="org-whitespace-space"> </span>s))
<span class="org-whitespace-space">               </span>(funcall<span class="org-whitespace-space"> </span>add-sites<span class="org-whitespace-space"> </span>(cdr<span class="org-whitespace-space"> </span>s)))
<span class="org-whitespace-space">              </span>(_<span class="org-whitespace-space"> </span>(<span class="org-warning">warn</span><span class="org-whitespace-space"> </span><span class="org-string">"Unknown</span><span class="org-whitespace-space"> </span><span class="org-string">type(%s)</span><span class="org-whitespace-space"> </span><span class="org-string">object:</span><span class="org-whitespace-space"> </span><span class="org-string">%S"</span><span class="org-whitespace-space"> </span>(type-of<span class="org-whitespace-space"> </span>s)<span class="org-whitespace-space"> </span>s))))
<span class="org-whitespace-space">          </span>no-proxy-sites))
<span class="org-whitespace-space">      </span>(add-sites<span class="org-whitespace-space"> </span>sites))
<span class="org-whitespace-space">    </span>(y/env-set<span class="org-whitespace-space"> </span><span class="org-string">"no_proxy"</span><span class="org-whitespace-space"> </span>(mapconcat<span class="org-whitespace-space"> </span>'identity<span class="org-whitespace-space"> </span>no-proxy-sites<span class="org-whitespace-space"> </span><span class="org-string">","</span>)<span class="org-whitespace-space"> </span>t)))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/string-from-file</span>(filename)
<span class="org-whitespace-space">  </span><span class="org-doc">"Return</span><span class="org-whitespace-space"> </span><span class="org-doc">FILENAME</span><span class="org-whitespace-space"> </span><span class="org-doc">content</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">string."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">let</span><span class="org-whitespace-space"> </span>((s<span class="org-whitespace-space"> </span>nil))
<span class="org-whitespace-space">    </span>(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>(stringp<span class="org-whitespace-space"> </span>filename)
<span class="org-whitespace-space">               </span>(file-readable-p<span class="org-whitespace-space"> </span>filename)
<span class="org-whitespace-space">               </span>(file-regular-p<span class="org-whitespace-space"> </span>filename))
<span class="org-whitespace-space">      </span>(<span class="org-keyword">with-temp-buffer</span>
<span class="org-whitespace-space">        </span>(insert-file-contents<span class="org-whitespace-space"> </span>filename)
<span class="org-whitespace-space">        </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>s<span class="org-whitespace-space"> </span>(buffer-string))))
<span class="org-whitespace-space">    </span>s))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/string-from-file-safe</span>(filename)
<span class="org-whitespace-space">  </span><span class="org-doc">"Return</span><span class="org-whitespace-space"> </span><span class="org-doc">FILENAME</span><span class="org-whitespace-space"> </span><span class="org-doc">contents</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">file</span><span class="org-whitespace-space"> </span><span class="org-doc">readable.</span>
<span class="org-doc">Otherwise</span><span class="org-whitespace-space"> </span><span class="org-doc">return</span><span class="org-whitespace-space"> </span><span class="org-doc">\"\""</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>filename<span class="org-whitespace-space"> </span>(stringp<span class="org-whitespace-space"> </span>filename)<span class="org-whitespace-space"> </span>(file-readable-p<span class="org-whitespace-space"> </span>filename))
<span class="org-whitespace-space">      </span>(y/string-from-file<span class="org-whitespace-space"> </span>filename)
<span class="org-whitespace-space">    </span><span class="org-string">""</span>))

(<span class="org-keyword">provide</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-auxiliary</span>)

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">y-auxiliary.el</span><span class="org-whitespace-space"> </span><span class="org-comment">ends</span><span class="org-whitespace-space"> </span><span class="org-comment">here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6a92129" class="outline-3">
<h3 id="org6a92129"><span class="section-number-3">5.4</span> package</h3>
<div class="outline-text-3" id="text-5-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">y-package.el</span><span class="org-whitespace-space"> </span><span class="org-comment">---</span><span class="org-whitespace-space"> </span><span class="org-comment">Package</span><span class="org-whitespace-space"> </span><span class="org-comment">management</span><span class="org-whitespace-space">  </span><span class="org-comment">-*-</span><span class="org-whitespace-space"> </span><span class="org-comment">lexical-binding:t</span><span class="org-whitespace-space"> </span><span class="org-comment">-*-</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Copyright</span><span class="org-whitespace-space"> </span><span class="org-comment">(C)</span><span class="org-whitespace-space"> </span><span class="org-comment">2017-2020</span><span class="org-whitespace-space"> </span><span class="org-comment">yonggang.yyg<a href="mailto:yygcode%40gmail.com">&lt;yygcode@gmail.com&gt;</a></span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Author:</span><span class="org-whitespace-space"> </span><span class="org-comment">yonggang.yyg<a href="mailto:yygcode%40gmail.com">&lt;yygcode@gmail.com&gt;</a></span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Maintainer:</span><span class="org-whitespace-space"> </span><span class="org-comment">yonggang.yyg<a href="mailto:yygcode%40gmail.com">&lt;yygcode@gmail.com&gt;</a></span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Keyword:</span><span class="org-whitespace-space"> </span><span class="org-comment">Emacs</span><span class="org-whitespace-space"> </span><span class="org-comment">Behavior</span><span class="org-whitespace-space"> </span><span class="org-comment">Autosave</span><span class="org-whitespace-space"> </span><span class="org-comment">Backup</span><span class="org-whitespace-space"> </span><span class="org-comment">Bookmark</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Homepage:</span><span class="org-whitespace-space"> </span><span class="org-comment">https://ycode.org</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">URL:</span><span class="org-whitespace-space"> </span><span class="org-comment">http://github.com/yygcode/.emacs.d</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">SPDX-License-Identifier:</span><span class="org-whitespace-space"> </span><span class="org-comment">GPL-2.0-or-later</span>

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Package</span><span class="org-whitespace-space"> </span><span class="org-comment">management.</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Enviroment</span><span class="org-whitespace-space"> </span><span class="org-comment">Variable</span><span class="org-whitespace-space"> </span><span class="org-comment">Description</span>
<span class="org-comment-delimiter">;;</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">EMACS_NO_MIRROR:</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">   </span><span class="org-comment">Set</span><span class="org-whitespace-space"> </span><span class="org-comment">env</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">1</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">disable</span><span class="org-whitespace-space"> </span><span class="org-comment">package-archives</span><span class="org-whitespace-space"> </span><span class="org-comment">mirror,</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">install</span><span class="org-whitespace-space"> </span><span class="org-comment">packages</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">   </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">official</span><span class="org-whitespace-space"> </span><span class="org-comment">sites.</span><span class="org-whitespace-space">  </span><span class="org-comment">The</span><span class="org-whitespace-space"> </span><span class="org-comment">config</span><span class="org-whitespace-space"> </span><span class="org-comment">uses</span><span class="org-whitespace-space"> </span><span class="org-comment">tsinghua</span><span class="org-whitespace-space"> </span><span class="org-comment">mirror</span><span class="org-whitespace-space"> </span><span class="org-comment">by</span><span class="org-whitespace-space"> </span><span class="org-comment">default</span><span class="org-whitespace-space"> </span><span class="org-comment">because</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">   </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">official</span><span class="org-whitespace-space"> </span><span class="org-comment">melpa</span><span class="org-whitespace-space"> </span><span class="org-comment">sites</span><span class="org-whitespace-space"> </span><span class="org-comment">are</span><span class="org-whitespace-space"> </span><span class="org-comment">blocked</span><span class="org-whitespace-space"> </span><span class="org-comment">by</span><span class="org-whitespace-space"> </span><span class="org-comment">GFW.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">   </span><span class="org-comment">e.g.:</span><span class="org-whitespace-space"> </span><span class="org-comment">export</span><span class="org-whitespace-space"> </span><span class="org-comment">EMACS_NO_MIRROR=1</span>
<span class="org-comment-delimiter">;;</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">EMACS_MIRROR_HTTP</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">   </span><span class="org-comment">Set</span><span class="org-whitespace-space"> </span><span class="org-comment">env</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">1</span><span class="org-whitespace-space"> </span><span class="org-comment">install</span><span class="org-whitespace-space"> </span><span class="org-comment">packages</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">mirror</span><span class="org-whitespace-space"> </span><span class="org-comment">site</span><span class="org-whitespace-space"> </span><span class="org-comment">by</span><span class="org-whitespace-space"> </span><span class="org-comment">http</span><span class="org-whitespace-space"> </span><span class="org-comment">protocol.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">   </span><span class="org-comment">Do</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">set</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">env</span><span class="org-whitespace-space"> </span><span class="org-comment">unless</span><span class="org-whitespace-space"> </span><span class="org-comment">your</span><span class="org-whitespace-space"> </span><span class="org-comment">system</span><span class="org-whitespace-space"> </span><span class="org-comment">does</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">support</span><span class="org-whitespace-space"> </span><span class="org-comment">SSL/TLS(https).</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">   </span><span class="org-comment">e.g.:</span><span class="org-whitespace-space"> </span><span class="org-comment">export</span><span class="org-whitespace-space"> </span><span class="org-comment">EMACS_MIRROR_HTTP=1</span>
<span class="org-comment-delimiter">;;</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">If</span><span class="org-whitespace-space"> </span><span class="org-comment">both</span><span class="org-whitespace-space"> </span><span class="org-comment">env</span><span class="org-whitespace-space"> </span><span class="org-comment">EMACS_NO_MIRROR</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">EMACS_MIRROR_HTTP</span><span class="org-whitespace-space"> </span><span class="org-comment">are</span><span class="org-whitespace-space"> </span><span class="org-comment">set,</span><span class="org-whitespace-space"> </span><span class="org-comment">EMACS_NO_MIRROR</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">will</span><span class="org-whitespace-space"> </span><span class="org-comment">override</span><span class="org-whitespace-space"> </span><span class="org-comment">EMACS_MIRROR_HTTP.</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">http_proxy,</span><span class="org-whitespace-space"> </span><span class="org-comment">https_proxy</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">   </span><span class="org-comment">Proxy</span><span class="org-whitespace-space"> </span><span class="org-comment">environment.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">   </span><span class="org-comment">e.g.:</span><span class="org-whitespace-space"> </span><span class="org-comment">export</span><span class="org-whitespace-space"> </span><span class="org-comment">https_proxy=http://127.0.0.1:8888</span>

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Code:</span>

(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">package</span>)

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/package-archives-melpa</span>
<span class="org-whitespace-space">  </span>'((<span class="org-string">"melpa-stable"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"https://stable.melpa.org/packages/"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"melpa"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"https://melpa.org/packages/"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"gnu"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"https://elpa.gnu.org/packages/"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"org"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"http://orgmode.org/elpa/"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"marmalade"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"https://marmalade-repo.org/packages/"</span>))
<span class="org-whitespace-space">  </span><span class="org-doc">"MELPA</span><span class="org-whitespace-space"> </span><span class="org-doc">package</span><span class="org-whitespace-space"> </span><span class="org-doc">source</span><span class="org-whitespace-space"> </span><span class="org-doc">from</span><span class="org-whitespace-space"> </span><span class="org-doc">official</span><span class="org-whitespace-space"> </span><span class="org-doc">site."</span>)
(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/package-archives-mirror</span>
<span class="org-whitespace-space">  </span>'((<span class="org-string">"melpa-stable"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"https://mirrors.tuna.tsinghua.edu.cn/elpa/melpa-stable/"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"melpa"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"https://mirrors.tuna.tsinghua.edu.cn/elpa/melpa/"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"gnu"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"https://mirrors.tuna.tsinghua.edu.cn/elpa/gnu/"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"org"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"https://mirrors.tuna.tsinghua.edu.cn/elpa/org/"</span>))
<span class="org-whitespace-space">  </span><span class="org-doc">"Mirror</span><span class="org-whitespace-space"> </span><span class="org-doc">package</span><span class="org-whitespace-space"> </span><span class="org-doc">source</span><span class="org-whitespace-space"> </span><span class="org-doc">from</span><span class="org-whitespace-space"> </span><span class="org-doc">tsinghua."</span>)
(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/package-archives-mirror-http</span>
<span class="org-whitespace-space">  </span>'((<span class="org-string">"melpa-stable"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"http://mirrors.tuna.tsinghua.edu.cn/elpa/melpa-stable/"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"melpa"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"http://mirrors.tuna.tsinghua.edu.cn/elpa/melpa/"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"gnu"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"http://mirrors.tuna.tsinghua.edu.cn/elpa/gnu/"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"org"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span><span class="org-string">"http://mirrors.tuna.tsinghua.edu.cn/elpa/org/"</span>))
<span class="org-whitespace-space">  </span><span class="org-doc">"Mirror</span><span class="org-whitespace-space"> </span><span class="org-doc">package</span><span class="org-whitespace-space"> </span><span class="org-doc">source</span><span class="org-whitespace-space"> </span><span class="org-doc">using</span><span class="org-whitespace-space"> </span><span class="org-doc">http</span><span class="org-whitespace-space"> </span><span class="org-doc">protocol</span><span class="org-whitespace-space"> </span><span class="org-doc">from</span><span class="org-whitespace-space"> </span><span class="org-doc">tsinghua."</span>)

(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>package-archives
<span class="org-whitespace-space">      </span>(<span class="org-keyword">cond</span><span class="org-whitespace-space"> </span>((equal<span class="org-whitespace-space"> </span>(getenv<span class="org-whitespace-space"> </span><span class="org-string">"EMACS_NO_MIRROR"</span>)<span class="org-whitespace-space"> </span><span class="org-string">"1"</span>)<span class="org-whitespace-space"> </span>y/package-archives-melpa)
<span class="org-whitespace-space">            </span>((equal<span class="org-whitespace-space"> </span>(getenv<span class="org-whitespace-space"> </span><span class="org-string">"EMACS_MIRROR_HTTP"</span>)<span class="org-whitespace-space"> </span><span class="org-string">"1"</span>)
<span class="org-whitespace-space">             </span>y/package-archives-mirror-http)
<span class="org-whitespace-space">            </span>(t<span class="org-whitespace-space"> </span>y/package-archives-mirror)))

(package-initialize)

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Downloads</span><span class="org-whitespace-space"> </span><span class="org-comment">archive</span><span class="org-whitespace-space"> </span><span class="org-comment">contents</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">exists</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">startup</span><span class="org-whitespace-space"> </span><span class="org-comment">performance.</span><span class="org-whitespace-space"> </span><span class="org-comment">But</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">old</span><span class="org-whitespace-space"> </span><span class="org-comment">archive</span><span class="org-whitespace-space"> </span><span class="org-comment">contents</span><span class="org-whitespace-space"> </span><span class="org-comment">may</span><span class="org-whitespace-space"> </span><span class="org-comment">cause</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">package</span><span class="org-whitespace-space"> </span><span class="org-comment">install</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">fail,</span><span class="org-whitespace-space"> </span><span class="org-comment">then</span><span class="org-whitespace-space"> </span><span class="org-comment">try</span><span class="org-whitespace-space"> </span><span class="org-comment">execute</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">function</span><span class="org-whitespace-space"> </span><span class="org-comment">package-refresh-contents</span><span class="org-whitespace-space"> </span><span class="org-comment">manually.</span>
(<span class="org-keyword">unless</span><span class="org-whitespace-space"> </span>package-archive-contents<span class="org-whitespace-space"> </span>(package-refresh-contents))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">use-package</span><span class="org-whitespace-space"> </span><span class="org-comment">simplifies</span><span class="org-whitespace-space"> </span><span class="org-comment">emacs</span><span class="org-whitespace-space"> </span><span class="org-comment">packages</span><span class="org-whitespace-space"> </span><span class="org-comment">install</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">config.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">GitHub:</span><span class="org-whitespace-space"> </span><span class="org-comment">https://github.com/jwiegley/use-package</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">HomePage:</span><span class="org-whitespace-space"> </span><span class="org-comment">https://jwiegley.github.io/use-package/</span>
(<span class="org-keyword">unless</span><span class="org-whitespace-space"> </span>(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>(package-installed-p<span class="org-whitespace-space"> </span>'use-package)
<span class="org-whitespace-space">            </span>(package-install<span class="org-whitespace-space"> </span>'use-package))
<span class="org-whitespace-space">  </span>(<span class="org-warning">error</span><span class="org-whitespace-space"> </span><span class="org-string">"Install</span><span class="org-whitespace-space"> </span><span class="org-string">use-package</span><span class="org-whitespace-space"> </span><span class="org-string">failed"</span>))
(<span class="org-keyword">eval-and-compile</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">use-package</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>use-package-always-ensure<span class="org-whitespace-space"> </span>t
<span class="org-whitespace-space">        </span>use-package-always-pin<span class="org-whitespace-space"> </span><span class="org-string">"melpa-stable"</span>
<span class="org-whitespace-space">        </span>use-package-always-defer<span class="org-whitespace-space"> </span>t))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">quelpa</span><span class="org-whitespace-space"> </span><span class="org-comment">-</span><span class="org-whitespace-space"> </span><span class="org-comment">Install</span><span class="org-whitespace-space"> </span><span class="org-comment">Emacs</span><span class="org-whitespace-space"> </span><span class="org-comment">Lisp</span><span class="org-whitespace-space"> </span><span class="org-comment">packages</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">source</span><span class="org-whitespace-space"> </span><span class="org-comment">code.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">https://github.com/quelpa/quelpa</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">disable</span><span class="org-whitespace-space"> </span><span class="org-comment">auto-upgrade</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">startup</span><span class="org-whitespace-space"> </span><span class="org-comment">performance</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">call</span><span class="org-whitespace-space"> </span><span class="org-comment">y/upgrade-quelpa</span><span class="org-whitespace-space"> </span><span class="org-comment">manually</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">necessary</span>
(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">quelpa</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:pin</span><span class="org-whitespace-space"> </span>melpa
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>quelpa-checkout-melpa-p<span class="org-whitespace-space"> </span>t
<span class="org-whitespace-space">        </span>quelpa-self-upgrade-p<span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">        </span>quelpa-update-melpa-p<span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">        </span>quelpa-stable-p<span class="org-whitespace-space"> </span>t))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Provide</span><span class="org-whitespace-space"> </span><span class="org-comment">quelpa</span><span class="org-whitespace-space"> </span><span class="org-comment">option</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">use-package</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">https://github.com/quelpa/quelpa-use-package</span>
(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">quelpa-use-package</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:pin</span><span class="org-whitespace-space"> </span>melpa
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">quelpa-use-package</span>)
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">I</span><span class="org-whitespace-space"> </span><span class="org-comment">set</span><span class="org-whitespace-space"> </span><span class="org-comment">use-package-always-ensure,</span><span class="org-whitespace-space"> </span><span class="org-comment">so</span><span class="org-whitespace-space"> </span><span class="org-comment">need</span><span class="org-whitespace-space"> </span><span class="org-comment">advice</span><span class="org-whitespace-space"> </span><span class="org-comment">here</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">https://github.com/quelpa/quelpa-use-package#overriding-use-package-always-</span><span class="org-comment"><span class="org-whitespace-line">ensure</span></span>
<span class="org-whitespace-space">  </span>(quelpa-use-package-activate-advice))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/package-quelpa-upgrade</span>()
<span class="org-whitespace-space">  </span><span class="org-doc">"Upgrade</span><span class="org-whitespace-space"> </span><span class="org-doc">quelpa</span><span class="org-whitespace-space"> </span><span class="org-doc">package."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">unless</span><span class="org-whitespace-space"> </span>(package-installed-p<span class="org-whitespace-space"> </span>'quelpa)<span class="org-whitespace-space"> </span>(package-install<span class="org-whitespace-space"> </span>'quelpa))
<span class="org-whitespace-space">  </span>(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">quelpa</span>)
<span class="org-whitespace-space">  </span>(quelpa-self-upgrade)
<span class="org-whitespace-space">  </span>(quelpa-upgrade)
<span class="org-whitespace-space">  </span>(quelpa-checkout-melpa)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">with-temp-buffer</span>
<span class="org-whitespace-space">    </span>(url-insert-file-contents
<span class="org-whitespace-space">     </span><span class="org-string">"https://raw.github.com/quelpa/quelpa/master/bootstrap.el"</span>)
<span class="org-whitespace-space">    </span>(eval-buffer)))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/package-install</span>(pkg<span class="org-whitespace-space"> </span><span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>dont-select)
<span class="org-whitespace-space">  </span><span class="org-doc">"Execute</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">package-install</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">PKG</span><span class="org-whitespace-space"> </span><span class="custom">DONT</span><span class="org-doc">-SELECT</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">install</span><span class="org-whitespace-space"> </span><span class="org-doc">package.</span>
<span class="org-doc">Auto</span><span class="org-whitespace-space"> </span><span class="org-doc">execute</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">package-refresh-contents</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">then</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">package-install</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">failed."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(package-installed-p<span class="org-whitespace-space"> </span>pkg)
<span class="org-whitespace-space">      </span>t
<span class="org-whitespace-space">    </span>(<span class="org-keyword">condition-case</span><span class="org-whitespace-space"> </span>err
<span class="org-whitespace-space">        </span>(package-install<span class="org-whitespace-space"> </span>pkg<span class="org-whitespace-space"> </span>dont-select)
<span class="org-whitespace-space">      </span>(<span class="org-warning">error</span>
<span class="org-whitespace-space">       </span>(message<span class="org-whitespace-space"> </span><span class="org-string">"Install</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">'</span><span class="org-whitespace-space"> </span><span class="org-string">failed(err:%s),</span><span class="org-whitespace-space"> </span><span class="org-string">try</span><span class="org-whitespace-space"> </span><span class="org-string">refresh</span><span class="org-whitespace-space"> </span><span class="org-string">archive</span><span class="org-whitespace-space"> </span><span class="org-string">contents"</span>
<span class="org-whitespace-space">                </span>pkg<span class="org-whitespace-space"> </span>err)
<span class="org-whitespace-space">       </span>(package-refresh-contents)
<span class="org-whitespace-space">       </span>(package-install<span class="org-whitespace-space"> </span>pkg<span class="org-whitespace-space"> </span>dont-select)))))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/packages-install</span>(<span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>pkgs)
<span class="org-whitespace-space">  </span><span class="org-doc">"Install</span><span class="org-whitespace-space"> </span><span class="org-doc">PKGS</span><span class="org-whitespace-space"> </span><span class="org-doc">one</span><span class="org-whitespace-space"> </span><span class="org-doc">by</span><span class="org-whitespace-space"> </span><span class="org-doc">one.</span><span class="org-whitespace-space">  </span><span class="org-doc">See</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">y/package-install</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">for</span><span class="org-whitespace-space"> </span><span class="org-doc">more</span><span class="org-whitespace-space"> </span><span class="org-doc">details."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">let</span><span class="org-whitespace-space"> </span>((ret<span class="org-whitespace-space"> </span>t))
<span class="org-whitespace-space">    </span>(<span class="org-keyword">dolist</span><span class="org-whitespace-space"> </span>(pkg<span class="org-whitespace-space"> </span>pkgs)
<span class="org-whitespace-space">      </span>(<span class="org-keyword">unless</span><span class="org-whitespace-space"> </span>(y/package-install<span class="org-whitespace-space"> </span>pkg)
<span class="org-whitespace-space">        </span>(<span class="org-warning">warn</span><span class="org-whitespace-space"> </span><span class="org-string">"Install</span><span class="org-whitespace-space"> </span><span class="org-string">package</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">'</span><span class="org-whitespace-space"> </span><span class="org-string">failed"</span><span class="org-whitespace-space"> </span>pkg)
<span class="org-whitespace-space">        </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>ret<span class="org-whitespace-space"> </span>nil)))
<span class="org-whitespace-space">    </span>ret))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/packages-require</span>(<span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>pkgs)
<span class="org-whitespace-space">  </span><span class="org-doc">"Require</span><span class="org-whitespace-space"> </span><span class="org-doc">PKGS</span><span class="org-whitespace-space"> </span><span class="org-doc">one</span><span class="org-whitespace-space"> </span><span class="org-doc">by</span><span class="org-whitespace-space"> </span><span class="org-doc">one.</span><span class="org-whitespace-space">  </span><span class="org-doc">See</span><span class="org-whitespace-space"> </span><span class="org-doc">`</span><span class="org-doc"><span class="org-constant">require</span></span><span class="org-doc">'</span><span class="org-whitespace-space"> </span><span class="org-doc">for</span><span class="org-whitespace-space"> </span><span class="org-doc">more</span><span class="org-whitespace-space"> </span><span class="org-doc">details."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">let</span><span class="org-whitespace-space"> </span>((ret<span class="org-whitespace-space"> </span>t))
<span class="org-whitespace-space">    </span>(<span class="org-keyword">dolist</span><span class="org-whitespace-space"> </span>(pkg<span class="org-whitespace-space"> </span>pkgs)
<span class="org-whitespace-space">      </span>(<span class="org-keyword">unless</span><span class="org-whitespace-space"> </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>(package-installed-p<span class="org-whitespace-space"> </span>pkg)<span class="org-whitespace-space"> </span>(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span><span class="org-constant">pkg</span><span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span>t))
<span class="org-whitespace-space">        </span>(<span class="org-warning">warn</span><span class="org-whitespace-space"> </span><span class="org-string">"Require</span><span class="org-whitespace-space"> </span><span class="org-string">`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">'</span><span class="org-whitespace-space"> </span><span class="org-string">failed."</span><span class="org-whitespace-space"> </span>pkg)
<span class="org-whitespace-space">        </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>ret<span class="org-whitespace-space"> </span>nil)))
<span class="org-whitespace-space">    </span>ret))

(<span class="org-keyword">defmacro</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/packages-install-and-require</span>(<span class="org-type">&amp;rest</span><span class="org-whitespace-space"> </span>pkgs)
<span class="org-whitespace-space">  </span><span class="org-doc">"Install</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">require</span><span class="org-whitespace-space"> </span><span class="org-doc">PKGS</span><span class="org-whitespace-space"> </span><span class="org-doc">one</span><span class="org-whitespace-space"> </span><span class="org-doc">by</span><span class="org-whitespace-space"> </span><span class="org-doc">one."</span>
<span class="org-whitespace-space">  </span>`(<span class="org-keyword">unless</span><span class="org-whitespace-space"> </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>(y/packages-install<span class="org-whitespace-space"> </span>,pkgs)
<span class="org-whitespace-space">               </span>(y/packages-require<span class="org-whitespace-space"> </span>,pkgs))
<span class="org-whitespace-space">    </span>(<span class="org-warning">warn</span><span class="org-whitespace-space"> </span><span class="org-string">"Packages(%s)</span><span class="org-whitespace-space"> </span><span class="org-string">install</span><span class="org-whitespace-space"> </span><span class="org-string">or</span><span class="org-whitespace-space"> </span><span class="org-string">require</span><span class="org-whitespace-space"> </span><span class="org-string">failed."</span><span class="org-whitespace-space"> </span>,pkgs)
<span class="org-whitespace-space">    </span>nil)
<span class="org-whitespace-space">  </span>t)

(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">diminish</span>)

(<span class="org-keyword">provide</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-package</span>)

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">y-package.el</span><span class="org-whitespace-space"> </span><span class="org-comment">ends</span><span class="org-whitespace-space"> </span><span class="org-comment">here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc2dd26" class="outline-3">
<h3 id="orgfc2dd26"><span class="section-number-3">5.5</span> config.org</h3>
<div class="outline-text-3" id="text-5-5">
</div>

<div id="outline-container-header" class="outline-4">
<h4 id="header"><span class="section-number-4">5.5.1</span> Header</h4>
<div class="outline-text-4" id="text-header">
<p>
This section has no actual effect, you can remove this section safely. It's just
used to generate some format code snippets to help auto-generated file config.el
satisfing the elisp file format requirement. Refer to follow links:
</p>
<ul class="org-ul">
<li>CheckDoc: <a href="http://cedet.sourceforge.net/checkdoc.shtml">http://cedet.sourceforge.net/checkdoc.shtml</a></li>
<li>EmacsWiKi: <a href="https://www.emacswiki.org/emacs/ElispAreaConventions">https://www.emacswiki.org/emacs/ElispAreaConventions</a></li>
<li>Manual Simple Packages:</li>
</ul>
<p>
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Simple-Packages.html">https://www.gnu.org/software/emacs/manual/html_node/elisp/Simple-Packages.html</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">~/.emacs.d/config.el</span><span class="org-whitespace-space"> </span><span class="org-comment">---</span><span class="org-whitespace-space"> </span><span class="org-comment">Emacs</span><span class="org-whitespace-space"> </span><span class="org-comment">Configuration</span><span class="org-whitespace-space"> </span><span class="org-comment">File</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Copyright</span><span class="org-whitespace-space"> </span><span class="org-comment">(C)</span><span class="org-whitespace-space"> </span><span class="org-comment">2017-2020</span><span class="org-whitespace-space"> </span><span class="org-comment">yanyg&lt;yygcode@gmail.com,</span><span class="org-whitespace-space"> </span><span class="org-comment">cppgp@qq.com&gt;</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Author:</span><span class="org-whitespace-space"> </span><span class="org-comment">yonggang.yyg<a href="mailto:yygcode%40gmail.com">&lt;yygcode@gmail.com&gt;</a></span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Maintainer:</span><span class="org-whitespace-space"> </span><span class="org-comment">yonggang.yyg<a href="mailto:yygcode%40gmail.com">&lt;yygcode@gmail.com&gt;</a></span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Keyword:</span><span class="org-whitespace-space"> </span><span class="org-comment">Emacs</span><span class="org-whitespace-space"> </span><span class="org-comment">Customize</span><span class="org-whitespace-space"> </span><span class="org-comment">Org</span><span class="org-whitespace-space"> </span><span class="org-comment">Literate</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Homepage:</span><span class="org-whitespace-space"> </span><span class="org-comment">https://ycode.org;</span><span class="org-whitespace-space"> </span><span class="org-comment">http://ycode.org</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">URL:</span><span class="org-whitespace-space"> </span><span class="org-comment">http://github.com/yygcode/.emacs.d</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">This</span><span class="org-whitespace-space"> </span><span class="org-comment">program</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">free</span><span class="org-whitespace-space"> </span><span class="org-comment">software;</span><span class="org-whitespace-space"> </span><span class="org-comment">you</span><span class="org-whitespace-space"> </span><span class="org-comment">can</span><span class="org-whitespace-space"> </span><span class="org-comment">redistribute</span><span class="org-whitespace-space"> </span><span class="org-comment">it</span><span class="org-whitespace-space"> </span><span class="org-comment">and/or</span><span class="org-whitespace-space"> </span><span class="org-comment">modify</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">it</span><span class="org-whitespace-space"> </span><span class="org-comment">under</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">terms</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">GNU</span><span class="org-whitespace-space"> </span><span class="org-comment">General</span><span class="org-whitespace-space"> </span><span class="org-comment">Public</span><span class="org-whitespace-space"> </span><span class="org-comment">License</span><span class="org-whitespace-space"> </span><span class="org-comment">as</span><span class="org-whitespace-space"> </span><span class="org-comment">published</span><span class="org-whitespace-space"> </span><span class="org-comment">by</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">Free</span><span class="org-whitespace-space"> </span><span class="org-comment">Software</span><span class="org-whitespace-space"> </span><span class="org-comment">Foundation;</span><span class="org-whitespace-space"> </span><span class="org-comment">either</span><span class="org-whitespace-space"> </span><span class="org-comment">version</span><span class="org-whitespace-space"> </span><span class="org-comment">2</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">License,</span><span class="org-whitespace-space"> </span><span class="org-comment">or</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(at</span><span class="org-whitespace-space"> </span><span class="org-comment">your</span><span class="org-whitespace-space"> </span><span class="org-comment">option)</span><span class="org-whitespace-space"> </span><span class="org-comment">any</span><span class="org-whitespace-space"> </span><span class="org-comment">later</span><span class="org-whitespace-space"> </span><span class="org-comment">version.</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">This</span><span class="org-whitespace-space"> </span><span class="org-comment">program</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">distributed</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">hope</span><span class="org-whitespace-space"> </span><span class="org-comment">that</span><span class="org-whitespace-space"> </span><span class="org-comment">it</span><span class="org-whitespace-space"> </span><span class="org-comment">will</span><span class="org-whitespace-space"> </span><span class="org-comment">be</span><span class="org-whitespace-space"> </span><span class="org-comment">useful,</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">but</span><span class="org-whitespace-space"> </span><span class="org-comment">WITHOUT</span><span class="org-whitespace-space"> </span><span class="org-comment">ANY</span><span class="org-whitespace-space"> </span><span class="org-comment">WARRANTY;</span><span class="org-whitespace-space"> </span><span class="org-comment">without</span><span class="org-whitespace-space"> </span><span class="org-comment">even</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">implied</span><span class="org-whitespace-space"> </span><span class="org-comment">warranty</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">MERCHANTABILITY</span><span class="org-whitespace-space"> </span><span class="org-comment">or</span><span class="org-whitespace-space"> </span><span class="org-comment">FITNESS</span><span class="org-whitespace-space"> </span><span class="org-comment">FOR</span><span class="org-whitespace-space"> </span><span class="org-comment">A</span><span class="org-whitespace-space"> </span><span class="org-comment">PARTICULAR</span><span class="org-whitespace-space"> </span><span class="org-comment">PURPOSE.</span><span class="org-whitespace-space">  </span><span class="org-comment">See</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">GNU</span><span class="org-whitespace-space"> </span><span class="org-comment">General</span><span class="org-whitespace-space"> </span><span class="org-comment">Public</span><span class="org-whitespace-space"> </span><span class="org-comment">License</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">more</span><span class="org-whitespace-space"> </span><span class="org-comment">details.</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">You</span><span class="org-whitespace-space"> </span><span class="org-comment">should</span><span class="org-whitespace-space"> </span><span class="org-comment">have</span><span class="org-whitespace-space"> </span><span class="org-comment">received</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">copy</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">GNU</span><span class="org-whitespace-space"> </span><span class="org-comment">General</span><span class="org-whitespace-space"> </span><span class="org-comment">Public</span><span class="org-whitespace-space"> </span><span class="org-comment">License</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">along</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">program;</span><span class="org-whitespace-space"> </span><span class="org-comment">see</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">file</span><span class="org-whitespace-space"> </span><span class="org-comment">COPYING,</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">see</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment"><a href="http://www.gnu.org/licenses/">&lt;http://www.gnu.org/licenses/&gt;</a>.</span>

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Commentary:</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">This</span><span class="org-whitespace-space"> </span><span class="org-comment">file</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">auto-generated</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">org-babel.</span><span class="org-whitespace-space">  </span><span class="org-comment">The</span><span class="org-whitespace-space"> </span><span class="org-comment">source</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">config.org.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">DO</span><span class="org-whitespace-space"> </span><span class="org-comment">NOT</span><span class="org-whitespace-space"> </span><span class="org-comment">modify</span><span class="org-whitespace-space"> </span><span class="org-comment">this</span><span class="org-whitespace-space"> </span><span class="org-comment">file(~/.emacs.d/config.el)</span><span class="org-whitespace-space"> </span><span class="org-comment">directly.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Please</span><span class="org-whitespace-space"> </span><span class="org-comment">modify</span><span class="org-whitespace-space"> </span><span class="org-comment">source</span><span class="org-whitespace-space"> </span><span class="org-comment">file</span><span class="org-whitespace-space"> </span><span class="org-comment">~/.emacs.d/config.org.</span>

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Code:</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">package</span><span class="org-whitespace-space"> </span><span class="org-comment">management</span>
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-package</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org19a2c57" class="outline-4">
<h4 id="org19a2c57"><span class="section-number-4">5.5.2</span> Profiler</h4>
<div class="outline-text-4" id="text-5-5-2">
</div>
<div id="outline-container-org8495a19" class="outline-5">
<h5 id="org8495a19"><span class="section-number-5">5.5.2.1</span> Wrapper function</h5>
<div class="outline-text-5" id="text-5-5-2-1">
<table>


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">y/profile-esup</td>
<td class="org-left">Show esup startup profiler</td>
</tr>

<tr>
<td class="org-left">y/profile-tabulated</td>
<td class="org-left">Show benchmark result in a sorted table</td>
</tr>

<tr>
<td class="org-left">y/profile-tree</td>
<td class="org-left">Show benchmark result in a call-tree</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org7bb9f5a" class="outline-5">
<h5 id="org7bb9f5a"><span class="section-number-5">5.5.2.2</span> esup - startup profiler</h5>
<div class="outline-text-5" id="text-5-5-2-2">
<p>
<a href="init.el">init.el</a> only set package archive and org, then use org-babel load config.org
to complete the rest(vast majority, main part) configurations. <a href="https://github.com/jschaf/esup">Esup</a> provides
<code>esup-child-profile-require-level</code> deep to profile require statement, but it
can not deep to profile org-babel file. I write wrapper function <code>y/esup</code> to
analyze config.org time proportion.
</p>

<ul class="org-ul">
<li>Esup GitHub: <a href="https://github.com/jschaf/esup">https://github.com/jschaf/esup</a></li>
<li>Emacs Manual Profiling:
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Profiling.html">https://www.gnu.org/software/emacs/manual/html_node/elisp/Profiling.html</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">When</span><span class="org-whitespace-space"> </span><span class="org-comment">call</span><span class="org-whitespace-space"> </span><span class="org-comment">esup</span><span class="org-whitespace-space"> </span><span class="org-comment">function,</span><span class="org-whitespace-space"> </span><span class="org-comment">esup</span><span class="org-whitespace-space"> </span><span class="org-comment">would</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">new</span><span class="org-whitespace-space"> </span><span class="org-comment">emacs</span><span class="org-whitespace-space"> </span><span class="org-comment">process</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">option</span><span class="org-whitespace-space"> </span><span class="org-comment">-L/-l</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">load</span><span class="org-whitespace-space"> </span><span class="org-comment">esup,</span><span class="org-whitespace-space"> </span><span class="org-comment">but</span><span class="org-whitespace-space"> </span><span class="org-comment">until</span><span class="org-whitespace-space"> </span><span class="org-comment">now</span><span class="org-whitespace-space"> </span><span class="org-comment">init.el</span><span class="org-whitespace-space"> </span><span class="org-comment">does</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">loaded,</span><span class="org-whitespace-space"> </span><span class="org-comment">so</span><span class="org-whitespace-space"> </span><span class="org-comment">we</span><span class="org-whitespace-space"> </span><span class="org-comment">need</span><span class="org-whitespace-space"> </span><span class="org-comment">load</span><span class="org-whitespace-space"> </span><span class="org-comment">init.el</span><span class="org-whitespace-space"> </span><span class="org-comment">first.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Load</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">esup.</span>
(<span class="org-keyword">unless</span><span class="org-whitespace-space"> </span>(boundp<span class="org-whitespace-space"> </span>'y/user-init-config)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">let</span><span class="org-whitespace-space"> </span>((file<span class="org-whitespace-space"> </span>(expand-file-name<span class="org-whitespace-space"> </span><span class="org-string">"init.el"</span><span class="org-whitespace-space"> </span>user-emacs-directory)))
<span class="org-whitespace-space">    </span>(message<span class="org-whitespace-space"> </span><span class="org-string">"y/esup:</span><span class="org-whitespace-space"> </span><span class="org-string">Esup</span><span class="org-whitespace-space"> </span><span class="org-string">profiling,</span><span class="org-whitespace-space"> </span><span class="org-string">load</span><span class="org-whitespace-space"> </span><span class="org-string">%s</span><span class="org-whitespace-space"> </span><span class="org-string">now"</span><span class="org-whitespace-space"> </span>file)
<span class="org-whitespace-space">    </span>(load-file<span class="org-whitespace-space"> </span>file)))

(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">esup</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">:quelpa</span><span class="org-whitespace-space"> </span><span class="org-comment">(esup</span><span class="org-whitespace-space"> </span><span class="org-comment">:fetcher</span><span class="org-whitespace-space"> </span><span class="org-comment">github</span><span class="org-whitespace-space"> </span><span class="org-comment">:repo</span><span class="org-whitespace-space"> </span><span class="org-comment">"jschaf/esup"</span><span class="org-whitespace-space"> </span><span class="org-comment">:stable</span><span class="org-whitespace-space"> </span><span class="org-comment">nil)</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:pin</span><span class="org-whitespace-space"> </span>melpa
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Current</span><span class="org-whitespace-space"> </span><span class="org-comment">version</span><span class="org-whitespace-space"> </span><span class="org-comment">only</span><span class="org-whitespace-space"> </span><span class="org-comment">support</span><span class="org-whitespace-space"> </span><span class="org-comment">1,</span><span class="org-whitespace-space"> </span><span class="org-comment">see</span><span class="org-whitespace-space"> </span><span class="org-comment">bug</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">https://github.com/jschaf/esup/issues/53</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>esup-depth<span class="org-whitespace-space"> </span>1)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>esup-user-init-file
<span class="org-whitespace-space">        </span>(<span class="org-keyword">y/file-replace-extension</span><span class="org-whitespace-space"> </span>y/user-init-config<span class="org-whitespace-space"> </span><span class="org-string">"el"</span>)))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/esup-advice-before</span>(<span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>init-file)
<span class="org-whitespace-space">  </span><span class="org-doc">"Set</span><span class="org-whitespace-space"> </span><span class="org-doc">env</span><span class="org-whitespace-space"> </span><span class="org-doc">EMACS_Y_INTERNAL_ESUP_PROFILER."</span>
<span class="org-whitespace-space">  </span>(setenv<span class="org-whitespace-space"> </span><span class="org-string">"EMACS_Y_INTERNAL_ESUP_PROFILER"</span><span class="org-whitespace-space"> </span><span class="org-string">"y/esup"</span>))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/esup-advice-after</span>(<span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>init-file)
<span class="org-whitespace-space">  </span><span class="org-doc">"Clear</span><span class="org-whitespace-space"> </span><span class="org-doc">env</span><span class="org-whitespace-space"> </span><span class="org-doc">EMACS_Y_INTERNAL_ESUP_PROFILER."</span>
<span class="org-whitespace-space">  </span>(setenv<span class="org-whitespace-space"> </span><span class="org-string">"EMACS_Y_INTERNAL_ESUP_PROFILER"</span><span class="org-whitespace-space"> </span>nil)
<span class="org-whitespace-space">  </span>t)
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">set</span><span class="org-whitespace-space"> </span><span class="org-comment">env</span><span class="org-whitespace-space"> </span><span class="org-comment">before</span><span class="org-whitespace-space"> </span><span class="org-comment">esup,</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">clear</span><span class="org-whitespace-space"> </span><span class="org-comment">env</span><span class="org-whitespace-space"> </span><span class="org-comment">after</span><span class="org-whitespace-space"> </span><span class="org-comment">esup</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">because</span><span class="org-whitespace-space"> </span><span class="org-comment">we</span><span class="org-whitespace-space"> </span><span class="org-comment">esup</span><span class="org-whitespace-space"> </span><span class="org-comment">config.el</span><span class="org-whitespace-space"> </span><span class="org-comment">but</span><span class="org-whitespace-space"> </span><span class="org-comment">we</span><span class="org-whitespace-space"> </span><span class="org-comment">need</span><span class="org-whitespace-space"> </span><span class="org-comment">load</span><span class="org-whitespace-space"> </span><span class="org-comment">init.el</span><span class="org-whitespace-space"> </span><span class="org-comment">too.</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">          </span><span class="org-comment">(add-function</span><span class="org-whitespace-space"> </span><span class="org-comment">:override</span><span class="org-whitespace-space"> </span><span class="org-comment">completing-read-function</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">                        </span><span class="org-comment">#'helm--completing-read-default)</span>
(advice-add<span class="org-whitespace-space"> </span>'esup<span class="org-whitespace-space"> </span><span class="org-builtin">:before</span><span class="org-whitespace-space"> </span>#'y/esup-advice-before)
(advice-add<span class="org-whitespace-space"> </span>'esup<span class="org-whitespace-space"> </span><span class="org-builtin">:after</span><span class="org-whitespace-space"> </span>#'y/esup-advice-after)

(<span class="org-keyword">defalias</span><span class="org-whitespace-space"> </span>'<span class="org-function-name">y/profile-esup</span><span class="org-whitespace-space"> </span>'esup
<span class="org-whitespace-space">  </span><span class="org-doc">"Profiling</span><span class="org-whitespace-space"> </span><span class="org-doc">emacs</span><span class="org-whitespace-space"> </span><span class="org-doc">startup</span><span class="org-whitespace-space"> </span><span class="org-doc">time."</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc628d22" class="outline-5">
<h5 id="orgc628d22"><span class="section-number-5">5.5.2.3</span> benchmark - profile execution time</h5>
<div class="outline-text-5" id="text-5-5-2-3">
<p>
<b>Notice</b> Import benchmark-init after package esup for esup enhancement.
</p>
<ul class="org-ul">
<li>GitHub: <a href="https://github.com/dholm/benchmark-init-el">https://github.com/dholm/benchmark-init-el</a></li>
<li>Execute function in emacs to query result
<ul class="org-ul">
<li>benchmark-init/show-durations-tree</li>
<li>benchmark-init/show-durations-tabulated</li>
</ul></li>
<li>Default disable data collection after init. Execute to enable or disbale:
<ul class="org-ul">
<li>benchmark-init/activate</li>
<li>benchmark-init/deactivate</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">benchmark-init</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">complains</span><span class="org-whitespace-space"> </span><span class="org-comment">error</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">'void</span><span class="org-whitespace-space"> </span><span class="org-comment">function</span><span class="org-whitespace-space"> </span><span class="org-comment">benchmark-init/activate'</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">when</span><span class="org-whitespace-space"> </span><span class="org-comment">first</span><span class="org-whitespace-space"> </span><span class="org-comment">run</span><span class="org-whitespace-space"> </span><span class="org-comment">just</span><span class="org-whitespace-space"> </span><span class="org-comment">after</span><span class="org-whitespace-space"> </span><span class="org-comment">install,</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">init.</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:defer</span><span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">  </span><span class="org-builtin">:config</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">benchmark-init</span>)
<span class="org-whitespace-space">  </span>(benchmark-init/activate)
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">To</span><span class="org-whitespace-space"> </span><span class="org-comment">disable</span><span class="org-whitespace-space"> </span><span class="org-comment">collection</span><span class="org-whitespace-space"> </span><span class="org-comment">of</span><span class="org-whitespace-space"> </span><span class="org-comment">benchmark</span><span class="org-whitespace-space"> </span><span class="org-comment">data</span><span class="org-whitespace-space"> </span><span class="org-comment">after</span><span class="org-whitespace-space"> </span><span class="org-comment">init</span><span class="org-whitespace-space"> </span><span class="org-comment">is</span><span class="org-whitespace-space"> </span><span class="org-comment">done.</span>
<span class="org-whitespace-space">  </span>(after-init<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>benchmark-init/deactivate))

(<span class="org-keyword">defalias</span><span class="org-whitespace-space"> </span>'<span class="org-function-name">y/profile-tabulated</span><span class="org-whitespace-space"> </span>'benchmark-init/show-durations-tabulated
<span class="org-whitespace-space">  </span><span class="org-doc">"Profiling</span><span class="org-whitespace-space"> </span><span class="org-doc">emacs</span><span class="org-whitespace-space"> </span><span class="org-doc">startup</span><span class="org-whitespace-space"> </span><span class="org-doc">time.</span><span class="org-whitespace-space"> </span><span class="org-doc">Show</span><span class="org-whitespace-space"> </span><span class="org-doc">result</span><span class="org-whitespace-space"> </span><span class="org-doc">as</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">table."</span>)
(<span class="org-keyword">defalias</span><span class="org-whitespace-space"> </span>'<span class="org-function-name">y/profile-tree</span><span class="org-whitespace-space"> </span>'benchmark-init/show-durations-tree
<span class="org-whitespace-space">  </span><span class="org-doc">"Profiling</span><span class="org-whitespace-space"> </span><span class="org-doc">emacs</span><span class="org-whitespace-space"> </span><span class="org-doc">startup</span><span class="org-whitespace-space"> </span><span class="org-doc">time.</span><span class="org-whitespace-space"> </span><span class="org-doc">Show</span><span class="org-whitespace-space"> </span><span class="org-doc">result</span><span class="org-whitespace-space"> </span><span class="org-doc">as</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span><span class="org-whitespace-space"> </span><span class="org-doc">tree."</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd5a8ec4" class="outline-4">
<h4 id="orgd5a8ec4"><span class="section-number-4">5.5.3</span> Auxiliary</h4>
<div class="outline-text-4" id="text-5-5-3">
<p>
Misc helper routines.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-auxiliary</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga833117" class="outline-4">
<h4 id="orga833117"><span class="section-number-4">5.5.4</span> keybinds</h4>
<div class="outline-text-4" id="text-5-5-4">
</div>
<div id="outline-container-org9d34358" class="outline-5">
<h5 id="org9d34358"><span class="section-number-5">5.5.4.1</span> introduction</h5>
<div class="outline-text-5" id="text-5-5-4-1">
</div>
<ol class="org-ol">
<li><a id="orgd358b58"></a>principle<br />
<div class="outline-text-6" id="text-5-5-4-1-1">
<ul class="org-ul">
<li>compat both in terminal and X windows</li>
<li>High frequency operation gives a shorter key sequence</li>
<li>Use default keybind if possible</li>
</ul>
</div>
</li>
</ol>
</div>

<div id="outline-container-org3f30531" class="outline-5">
<h5 id="org3f30531"><span class="section-number-5">5.5.4.2</span> basic keybind</h5>
<div class="outline-text-5" id="text-5-5-4-2">
<p>
Turn off minor mode y/keymap-global-mode if you don't like.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-keymap</span>)
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-browse</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4da29c1" class="outline-5">
<h5 id="org4da29c1"><span class="section-number-5">5.5.4.3</span> browse code keybind</h5>
</div>

<div id="outline-container-orge3f1594" class="outline-5">
<h5 id="orge3f1594"><span class="section-number-5">5.5.4.4</span> command-frequencey analysis</h5>
<div class="outline-text-5" id="text-5-5-4-4">
<p>
See Ergo stastics: <a href="http://ergoemacs.org/emacs/command-frequency.html">http://ergoemacs.org/emacs/command-frequency.html</a>.
</p>

<p>
keyfreq and command-log-mode are helpful packages:
</p>
<ul class="org-ul">
<li>keyfreq: <a href="https://github.com/dacap/keyfreq">https://github.com/dacap/keyfreq</a>
<ul class="org-ul">
<li><code>M-x keyfreq-show</code></li>
</ul></li>

<li>command-log-mode: <a href="https://github.com/lewang/command-log-mode">https://github.com/lewang/command-log-mode</a>
<ul class="org-ul">
<li><code>M-x global-command-log-mode</code></li>
<li><code>M-x clm/toggle-command-log-buffer</code></li>
</ul></li>
</ul>

<p>
<code>open-dribble-file</code> is used to record all user input. <code>view-lossage</code> is used to
display last few input keystrokes and the command run.
</p>

<p>
<code>view-lossage</code> does not update when user input, write a wrapper to update
contents dynamically.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">keyfreq</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>keyfreq-file<span class="org-whitespace-space"> </span>(concat<span class="org-whitespace-space"> </span>y/autofiles-directory
<span class="org-whitespace-space">                             </span><span class="org-string">".emacs.keyfreq"</span>)
<span class="org-whitespace-space">        </span>keyfreq-file-lock<span class="org-whitespace-space"> </span>(concat<span class="org-whitespace-space"> </span>y/autofiles-directory
<span class="org-whitespace-space">                                  </span><span class="org-string">".emacs.keyfreq.lock"</span>))
<span class="org-whitespace-space">  </span>(keyfreq-mode<span class="org-whitespace-space"> </span>1)
<span class="org-whitespace-space">  </span>(keyfreq-autosave-mode<span class="org-whitespace-space"> </span>1))
(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">command-log-mode</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:pin</span><span class="org-whitespace-space"> </span>melpa
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">workaround</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">global-command-log-mode</span>
<span class="org-whitespace-space">  </span>(command-log-mode<span class="org-whitespace-space"> </span>-1)
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Log</span><span class="org-whitespace-space"> </span><span class="org-comment">all</span><span class="org-whitespace-space"> </span><span class="org-comment">keystroke</span><span class="org-whitespace-space"> </span><span class="org-comment">except</span><span class="org-whitespace-space"> </span><span class="org-comment">self-insert-command</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>clm/log-command-exceptions*<span class="org-whitespace-space"> </span>'(nil<span class="org-whitespace-space"> </span>self-insert-command)))

(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/view-lossage--state</span><span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span><span class="org-doc">"View</span><span class="org-whitespace-space"> </span><span class="org-doc">lossage</span><span class="org-whitespace-space"> </span><span class="org-doc">state."</span>)
(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/toggle-view-lossage</span>()
<span class="org-whitespace-space">  </span><span class="org-doc">"Toggle</span><span class="org-whitespace-space"> </span><span class="org-doc">auto</span><span class="org-whitespace-space"> </span><span class="org-doc">update</span><span class="org-whitespace-space"> </span><span class="org-doc">view-lossage."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>y/view-lossage--state
<span class="org-whitespace-space">      </span>(remove-hook<span class="org-whitespace-space"> </span>'pre-command-hook<span class="org-whitespace-space"> </span>#'view-lossage)
<span class="org-whitespace-space">    </span>(add-hook<span class="org-whitespace-space"> </span>'pre-command-hook<span class="org-whitespace-space"> </span>#'view-lossage))
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/view-lossage--state<span class="org-whitespace-space"> </span>(not<span class="org-whitespace-space"> </span>y/view-lossage--state)))
(define-key
<span class="org-whitespace-space">  </span>y/keymap-mode-map<span class="org-whitespace-space"> </span>(kbd<span class="org-whitespace-space"> </span><span class="org-string">"C-x</span><span class="org-whitespace-space"> </span><span class="org-string">C-x</span><span class="org-whitespace-space"> </span><span class="org-string">l"</span>)
<span class="org-whitespace-space">  </span>#'y/toggle-view-lossage)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge48d563" class="outline-5">
<h5 id="orge48d563"><span class="section-number-5">5.5.4.5</span> which key - keybinds help</h5>
<div class="outline-text-5" id="text-5-5-4-5">
<p>
<code>which-key</code> is a minor mode for Emacs that displays the key bindings following
your currently entered incomplete command (a prefix) in a popup. For example,
after enabling the minor mode if you enter C-x and wait for the default of 1
second the minibuffer will expand with all of the available key bindings that
follow C-x (or as many as space allows given your settings). Github url is:
<a href="https://github.com/justbur/emacs-which-key">https://github.com/justbur/emacs-which-key</a>
</p>

<p>
<code>describe-bindings</code> are used to list all defined keys.
<code>describe-prefix-bindings</code> Describe the bindings of the prefix used to reach
this command.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">which-key</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Do</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">auto</span><span class="org-whitespace-space"> </span><span class="org-comment">start,</span><span class="org-whitespace-space"> </span><span class="org-comment">I</span><span class="org-whitespace-space"> </span><span class="org-comment">almost</span><span class="org-whitespace-space"> </span><span class="org-comment">don't</span><span class="org-whitespace-space"> </span><span class="org-comment">need</span><span class="org-whitespace-space"> </span><span class="org-comment">it</span>
<span class="org-whitespace-space">  </span>(which-key-mode<span class="org-whitespace-space"> </span>-1)
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(which-key-setup-side-window-right)</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>which-key-use-C-h-commands<span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">        </span>which-key-idle-delay<span class="org-whitespace-space"> </span>2.0
<span class="org-whitespace-space">        </span>which-key-popup-type<span class="org-whitespace-space"> </span>'minibuffer)
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>(<span class="org-builtin">:map</span><span class="org-whitespace-space"> </span>which-key-mode-map
<span class="org-whitespace-space">        </span>(<span class="org-string">"C-x</span><span class="org-whitespace-space"> </span><span class="org-string">h"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>which-key-C-h-dispatch)
<span class="org-whitespace-space">        </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">M-h"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>which-key-C-h-dispatch)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfc43200" class="outline-4">
<h4 id="orgfc43200"><span class="section-number-4">5.5.5</span> Editor</h4>
<div class="outline-text-4" id="text-5-5-5">
<p>
Editor behaviors.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-editor</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb20fb36" class="outline-4">
<h4 id="orgb20fb36"><span class="section-number-4">5.5.6</span> Display</h4>
<div class="outline-text-4" id="text-5-5-6">
</div>
<div id="outline-container-org5021142" class="outline-5">
<h5 id="org5021142"><span class="section-number-5">5.5.6.1</span> behavior</h5>
<div class="outline-text-5" id="text-5-5-6-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">display-line-numbers</span>)
(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/line-numbers--face</span>(<span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>theme-unused<span class="org-whitespace-space">  </span>no-confirm-unused
<span class="org-whitespace-space">                                      </span>no-enable-unused)
<span class="org-whitespace-space">  </span><span class="org-doc">"Line</span><span class="org-whitespace-space"> </span><span class="org-doc">numbers</span><span class="org-whitespace-space"> </span><span class="org-doc">config."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>display-line-numbers-grow-only<span class="org-whitespace-space"> </span>t)
<span class="org-whitespace-space">  </span>(set-face-attribute<span class="org-whitespace-space"> </span>'line-number<span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">                      </span><span class="org-builtin">:inherit</span><span class="org-whitespace-space"> </span>'linum
<span class="org-whitespace-space">                      </span><span class="org-builtin">:height</span><span class="org-whitespace-space"> </span>110
<span class="org-whitespace-space">                      </span><span class="org-builtin">:weight</span><span class="org-whitespace-space"> </span>'normal
<span class="org-whitespace-space">                      </span><span class="org-builtin">:slant</span><span class="org-whitespace-space"> </span>'italic)
<span class="org-whitespace-space">  </span>(set-face-attribute<span class="org-whitespace-space"> </span>'line-number-current-line<span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">                      </span><span class="org-builtin">:inherit</span><span class="org-whitespace-space"> </span>'line-number
<span class="org-whitespace-space">                      </span><span class="org-builtin">:foreground</span><span class="org-whitespace-space"> </span><span class="org-string">"#FF7F00"</span>
<span class="org-whitespace-space">                      </span><span class="org-builtin">:background</span><span class="org-whitespace-space"> </span><span class="org-string">"#1A1A1A"</span>))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">advice</span><span class="org-whitespace-space"> </span><span class="org-comment">after</span><span class="org-whitespace-space"> </span><span class="org-comment">load-theme</span><span class="org-whitespace-space"> </span><span class="org-comment">because</span><span class="org-whitespace-space"> </span><span class="org-comment">theme</span><span class="org-whitespace-space"> </span><span class="org-comment">will</span><span class="org-whitespace-space"> </span><span class="org-comment">reset</span><span class="org-whitespace-space"> </span><span class="org-comment">it</span>
(advice-add<span class="org-whitespace-space"> </span>'load-theme<span class="org-whitespace-space"> </span><span class="org-builtin">:after</span><span class="org-whitespace-space"> </span>#'y/line-numbers--face)
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">run</span><span class="org-whitespace-space"> </span><span class="org-comment">directly</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">no</span><span class="org-whitespace-space"> </span><span class="org-comment">load-theme</span><span class="org-whitespace-space"> </span><span class="org-comment">explicitly</span>
(y/line-numbers--face)

(add-hook<span class="org-whitespace-space"> </span>'after-change-major-mode-hook<span class="org-whitespace-space"> </span>#'display-line-numbers-mode)

</pre>
</div>
</div>
</div>

<div id="outline-container-org13c32e6" class="outline-5">
<h5 id="org13c32e6"><span class="section-number-5">5.5.6.2</span> font</h5>
<div class="outline-text-5" id="text-5-5-6-2">
<p>
elisp Chapter 39 section 39.12 describes more technology about faces. Read it
for more details:
</p>
<dl class="org-dl">
<dt>39.12.9 Font Selection</dt><dd><a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Font-Selection.html#Font-Selection">https://www.gnu.org/software/emacs/manual/html_node/elisp/Font-Selection.html#Font-Selection</a></dd>
<dt>39.12.11 Fontsets</dt><dd><a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Fontsets.html#Fontsets">https://www.gnu.org/software/emacs/manual/html_node/elisp/Fontsets.html#Fontsets</a></dd>
<dt>39.12.12 Low-Level Font Representation</dt><dd><a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Low_002dLevel-Font.html#Low_002dLevel-Font">https://www.gnu.org/software/emacs/manual/html_node/elisp/Low_002dLevel-Font.html#Low_002dLevel-Font</a></dd>
</dl>

<p>
Font depends on specific platform (Linux/Mac/Windows). Here according to
different platform to set beautiful/properly font as much as possible.
</p>

<dl class="org-dl">
<dt>Monospace: Code always use monospace font. See wiki</dt><dd><a href="https://en.wikipedia.org/wiki/List_of_monospaced_typefaces">https://en.wikipedia.org/wiki/List_of_monospaced_typefaces</a></dd>
</dl>

<p>
Set different font for different major mode. See
<a href="https://emacs.stackexchange.com/a/3044">https://emacs.stackexchange.com/a/3044</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/font-mono-size-x</span><span class="org-whitespace-space"> </span>15
<span class="org-whitespace-space">  </span><span class="org-doc">"Monospace</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">size</span><span class="org-whitespace-space"> </span><span class="org-doc">under</span><span class="org-whitespace-space"> </span><span class="org-doc">graphic."</span>)

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/font-mono-size-c</span><span class="org-whitespace-space"> </span>15
<span class="org-whitespace-space">  </span><span class="org-doc">"Monospace</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">size</span><span class="org-whitespace-space"> </span><span class="org-doc">under</span><span class="org-whitespace-space"> </span><span class="org-doc">console."</span>)

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="custom">FIXME</span><span class="org-comment">:</span><span class="org-whitespace-space"> </span><span class="org-comment">support</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">different</span><span class="org-whitespace-space"> </span><span class="org-comment">frame</span><span class="org-whitespace-space"> </span><span class="org-comment">by</span><span class="org-whitespace-space"> </span><span class="org-comment">make-variable-frame-local</span>
(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/font-cjk-name</span><span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span><span class="org-doc">"Fill</span><span class="org-whitespace-space"> </span><span class="org-doc">when</span><span class="org-whitespace-space"> </span><span class="org-doc">set</span><span class="org-whitespace-space"> </span><span class="org-doc">for</span><span class="org-whitespace-space"> </span><span class="org-doc">CJK</span><span class="org-whitespace-space"> </span><span class="org-doc">fonts."</span>)
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(make-variable-frame-local</span><span class="org-whitespace-space"> </span><span class="org-comment">'y/font-cjk-name)</span>
(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">cjk-charsets</span><span class="org-whitespace-space"> </span>'(kana<span class="org-whitespace-space"> </span>han<span class="org-whitespace-space"> </span>symbol<span class="org-whitespace-space"> </span>cjk-misc<span class="org-whitespace-space"> </span>bopomofo))

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/font-mono-name-list-default</span>
<span class="org-whitespace-space">  </span>`((<span class="org-string">"Source</span><span class="org-whitespace-space"> </span><span class="org-string">Code</span><span class="org-whitespace-space"> </span><span class="org-string">Variable"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-mono-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"Source</span><span class="org-whitespace-space"> </span><span class="org-string">Code</span><span class="org-whitespace-space"> </span><span class="org-string">Pro"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-mono-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"PragmataPro"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-mono-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"ProFont"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-mono-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"Lucida</span><span class="org-whitespace-space"> </span><span class="org-string">Sans"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-mono-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"Courier</span><span class="org-whitespace-space"> </span><span class="org-string">New"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-mono-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"Consolas"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-mono-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"DejaVu</span><span class="org-whitespace-space"> </span><span class="org-string">Sans</span><span class="org-whitespace-space"> </span><span class="org-string">Mono"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-mono-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"FreeMono"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-mono-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"Liberation</span><span class="org-whitespace-space"> </span><span class="org-string">Mono"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-mono-size-x))
<span class="org-whitespace-space">  </span><span class="org-doc">"Monospace</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">name</span><span class="org-whitespace-space"> </span><span class="org-doc">assoc</span><span class="org-whitespace-space"> </span><span class="org-doc">default</span><span class="org-whitespace-space"> </span><span class="org-doc">value."</span>)

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/font-monocjk-size-x</span><span class="org-whitespace-space"> </span>15
<span class="org-whitespace-space">  </span><span class="org-doc">"MonospaceCJK</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">size</span><span class="org-whitespace-space"> </span><span class="org-doc">under</span><span class="org-whitespace-space"> </span><span class="org-doc">graphic."</span>)

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/font-monocjk-size-c</span><span class="org-whitespace-space"> </span>15
<span class="org-whitespace-space">  </span><span class="org-doc">"MonospaceCJK</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">size</span><span class="org-whitespace-space"> </span><span class="org-doc">under</span><span class="org-whitespace-space"> </span><span class="org-doc">console."</span>)

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/font-monocjk-name-list-default</span>
<span class="org-whitespace-space">  </span>`((<span class="org-string">"YouYuan"</span><span class="org-whitespace-space">             </span>.<span class="org-whitespace-space"> </span>,y/font-monocjk-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"Microsoft</span><span class="org-whitespace-space"> </span><span class="org-string">YaHei</span><span class="org-whitespace-space"> </span><span class="org-string">UI"</span><span class="org-whitespace-space">  </span>.<span class="org-whitespace-space"> </span>,y/font-monocjk-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"Microsoft</span><span class="org-whitespace-space"> </span><span class="org-string">YaHei"</span><span class="org-whitespace-space">     </span>.<span class="org-whitespace-space"> </span>,y/font-monocjk-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"FangSong"</span><span class="org-whitespace-space">            </span>.<span class="org-whitespace-space"> </span>,y/font-monocjk-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"SimSun"</span><span class="org-whitespace-space">              </span>.<span class="org-whitespace-space"> </span>,y/font-monocjk-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"AR</span><span class="org-whitespace-space"> </span><span class="org-string">PL</span><span class="org-whitespace-space"> </span><span class="org-string">SungtiL</span><span class="org-whitespace-space"> </span><span class="org-string">GB"</span><span class="org-whitespace-space">    </span>.<span class="org-whitespace-space"> </span>,y/font-monocjk-size-x)
<span class="org-whitespace-space">    </span>(<span class="org-string">"AR</span><span class="org-whitespace-space"> </span><span class="org-string">PL</span><span class="org-whitespace-space"> </span><span class="org-string">Mingti2L</span><span class="org-whitespace-space"> </span><span class="org-string">Big5"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-monocjk-size-x))
<span class="org-whitespace-space">  </span><span class="org-doc">"MonospaceCJK</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">name</span><span class="org-whitespace-space"> </span><span class="org-doc">assoc</span><span class="org-whitespace-space"> </span><span class="org-doc">default</span><span class="org-whitespace-space"> </span><span class="org-doc">value."</span>)

(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/font-mono-name-list-x</span><span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">  </span><span class="org-doc">"Monospace</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">candidates</span><span class="org-whitespace-space"> </span><span class="org-doc">under</span><span class="org-whitespace-space"> </span><span class="org-doc">graphic.</span>
<span class="org-doc">Format</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">((name</span><span class="org-whitespace-space"> </span><span class="org-doc">.</span><span class="org-whitespace-space"> </span><span class="org-doc">size)</span><span class="org-whitespace-space"> </span><span class="org-doc">...)."</span>)
(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/font-mono-name-list-c</span><span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">  </span><span class="org-doc">"Monospace</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">candidates</span><span class="org-whitespace-space"> </span><span class="org-doc">under</span><span class="org-whitespace-space"> </span><span class="org-doc">console.</span>
<span class="org-doc">Format</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">((name</span><span class="org-whitespace-space"> </span><span class="org-doc">.</span><span class="org-whitespace-space"> </span><span class="org-doc">size)</span><span class="org-whitespace-space"> </span><span class="org-doc">...)."</span>)

(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/font-monocjk-name-list-x</span><span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">  </span><span class="org-doc">"MonospaceCJK</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">candidates</span><span class="org-whitespace-space"> </span><span class="org-doc">under</span><span class="org-whitespace-space"> </span><span class="org-doc">graphic.</span>
<span class="org-doc">Format</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">((name</span><span class="org-whitespace-space"> </span><span class="org-doc">.</span><span class="org-whitespace-space"> </span><span class="org-doc">size)</span><span class="org-whitespace-space"> </span><span class="org-doc">...)."</span>)
(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/font-monocjk-name-list-c</span><span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">  </span><span class="org-doc">"MonospaceCJK</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">candidates</span><span class="org-whitespace-space"> </span><span class="org-doc">under</span><span class="org-whitespace-space"> </span><span class="org-doc">console.</span>
<span class="org-doc">Format</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">((name</span><span class="org-whitespace-space"> </span><span class="org-doc">.</span><span class="org-whitespace-space"> </span><span class="org-doc">size)</span><span class="org-whitespace-space"> </span><span class="org-doc">...)."</span>)

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Customize</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">name</span><span class="org-whitespace-space"> </span><span class="org-comment">list</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">satisfy</span><span class="org-whitespace-space"> </span><span class="org-comment">your</span><span class="org-whitespace-space"> </span><span class="org-comment">taste.</span>
(<span class="org-keyword">cond</span><span class="org-whitespace-space"> </span>((string=<span class="org-whitespace-space"> </span>system-type<span class="org-whitespace-space"> </span><span class="org-string">"gnu/linux"</span>)<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Linux</span>
<span class="org-whitespace-space">       </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/font-mono-name-list-x<span class="org-whitespace-space"> </span>y/font-mono-name-list-default
<span class="org-whitespace-space">             </span>y/font-mono-name-list-c<span class="org-whitespace-space"> </span>y/font-mono-name-list-default)
<span class="org-whitespace-space">       </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/font-monocjk-name-list-x<span class="org-whitespace-space"> </span>y/font-monocjk-name-list-default
<span class="org-whitespace-space">             </span>y/font-monocjk-name-list-c<span class="org-whitespace-space"> </span>y/font-monocjk-name-list-default))
<span class="org-whitespace-space">      </span>((string=<span class="org-whitespace-space"> </span>system-type<span class="org-whitespace-space"> </span><span class="org-string">"darwin"</span>)<span class="org-whitespace-space">     </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Mac</span><span class="org-whitespace-space"> </span><span class="org-comment">prepend</span><span class="org-whitespace-space"> </span><span class="org-comment">?</span>
<span class="org-whitespace-space">       </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/font-mono-name-list-x
<span class="org-whitespace-space">             </span>(cons<span class="org-whitespace-space"> </span>`(<span class="org-string">"Apple</span><span class="org-whitespace-space"> </span><span class="org-string">Color</span><span class="org-whitespace-space"> </span><span class="org-string">Emoji"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>,y/font-mono-size-x)
<span class="org-whitespace-space">                   </span>y/font-mono-name-list-default))
<span class="org-whitespace-space">       </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/font-mono-name-list-c<span class="org-whitespace-space"> </span>y/font-mono-name-list-x)
<span class="org-whitespace-space">       </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/font-monocjk-name-list-x<span class="org-whitespace-space"> </span>y/font-monocjk-name-list-default
<span class="org-whitespace-space">             </span>y/font-monocjk-name-list-c<span class="org-whitespace-space"> </span>y/font-monocjk-name-list-default))
<span class="org-whitespace-space">      </span>((string=<span class="org-whitespace-space"> </span>system-type<span class="org-whitespace-space"> </span><span class="org-string">"windows-nt"</span>)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Windows</span>
<span class="org-whitespace-space">       </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/font-mono-name-list-x<span class="org-whitespace-space"> </span>y/font-mono-name-list-default
<span class="org-whitespace-space">             </span>y/font-mono-name-list-c<span class="org-whitespace-space"> </span>y/font-mono-name-list-default)
<span class="org-whitespace-space">       </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/font-monocjk-name-list-x<span class="org-whitespace-space"> </span>y/font-monocjk-name-list-default
<span class="org-whitespace-space">             </span>y/font-monocjk-name-list-c<span class="org-whitespace-space"> </span>y/font-monocjk-name-list-default))
<span class="org-whitespace-space">      </span>(t
<span class="org-whitespace-space">       </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/font-mono-name-list-x<span class="org-whitespace-space"> </span>y/font-mono-name-list-default
<span class="org-whitespace-space">             </span>y/font-mono-name-list-c<span class="org-whitespace-space"> </span>y/font-mono-name-list-default)
<span class="org-whitespace-space">       </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/font-monocjk-name-list-x<span class="org-whitespace-space"> </span>y/font-monocjk-name-list-default
<span class="org-whitespace-space">             </span>y/font-monocjk-name-list-c<span class="org-whitespace-space"> </span>y/font-monocjk-name-list-default)))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/font-is-exist</span>(namesize)
<span class="org-whitespace-space">  </span><span class="org-doc">"Check</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">exist</span><span class="org-whitespace-space"> </span><span class="org-doc">or</span><span class="org-whitespace-space"> </span><span class="org-doc">not.</span><span class="org-whitespace-space"> </span><span class="org-doc">The</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">property</span><span class="org-whitespace-space"> </span><span class="org-doc">:name</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">NAME."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>(stringp<span class="org-whitespace-space"> </span>(car<span class="org-whitespace-space"> </span>namesize))
<span class="org-whitespace-space">           </span>(integerp<span class="org-whitespace-space"> </span>(cdr<span class="org-whitespace-space"> </span>namesize))
<span class="org-whitespace-space">           </span>(find-font<span class="org-whitespace-space"> </span>(font-spec<span class="org-whitespace-space"> </span><span class="org-builtin">:name</span><span class="org-whitespace-space"> </span>(car<span class="org-whitespace-space"> </span>namesize)
<span class="org-whitespace-space">                                 </span><span class="org-builtin">:size</span><span class="org-whitespace-space"> </span>(cdr<span class="org-whitespace-space"> </span>namesize))))
<span class="org-whitespace-space">      </span>t
<span class="org-whitespace-space">    </span>nil))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/font-set-frame-font-if-exist</span>(frame<span class="org-whitespace-space"> </span>charset<span class="org-whitespace-space"> </span>namesize<span class="org-whitespace-space"> </span><span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>fontset)
<span class="org-whitespace-space">  </span><span class="org-doc">"For</span><span class="org-whitespace-space"> </span><span class="org-doc">FRAME,</span><span class="org-whitespace-space"> </span><span class="org-doc">Set</span><span class="org-whitespace-space"> </span><span class="org-doc">CHARSET's</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">NAMESIZE</span><span class="org-whitespace-space"> </span><span class="org-doc">if</span><span class="org-whitespace-space"> </span><span class="org-doc">that</span><span class="org-whitespace-space"> </span><span class="org-doc">font</span><span class="org-whitespace-space"> </span><span class="org-doc">exists.</span>
<span class="org-doc">If</span><span class="org-whitespace-space"> </span><span class="org-doc">FONTSET</span><span class="org-whitespace-space"> </span><span class="org-doc">is</span><span class="org-whitespace-space"> </span><span class="org-doc">non-nil,</span><span class="org-whitespace-space"> </span><span class="org-doc">then</span><span class="org-whitespace-space"> </span><span class="org-doc">call</span><span class="org-whitespace-space"> </span><span class="org-doc">set-fontset-font</span><span class="org-whitespace-space"> </span><span class="org-doc">set</span><span class="org-whitespace-space"> </span><span class="org-doc">default</span><span class="org-whitespace-space"> </span><span class="org-doc">font."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(y/font-is-exist<span class="org-whitespace-space"> </span>namesize)
<span class="org-whitespace-space">      </span>(<span class="org-keyword">progn</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(message</span><span class="org-whitespace-space"> </span><span class="org-comment">"Set</span><span class="org-whitespace-space"> </span><span class="org-comment">Font</span><span class="org-whitespace-space"> </span><span class="org-comment">Frame(%s)</span><span class="org-whitespace-space"> </span><span class="org-comment">Charset(%s)</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">%s"</span><span class="org-whitespace-space"> </span><span class="org-comment">frame</span><span class="org-whitespace-space"> </span><span class="org-comment">charset</span><span class="org-whitespace-space"> </span><span class="org-comment">namesiz</span><span class="org-comment"><span class="org-whitespace-line">e)</span></span>
<span class="org-whitespace-space">        </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>fontset
<span class="org-whitespace-space">            </span>(set-frame-font<span class="org-whitespace-space"> </span>(font-spec<span class="org-whitespace-space"> </span><span class="org-builtin">:name</span><span class="org-whitespace-space"> </span>(car<span class="org-whitespace-space"> </span>namesize)
<span class="org-whitespace-space">                                       </span><span class="org-builtin">:size</span><span class="org-whitespace-space"> </span>(cdr<span class="org-whitespace-space"> </span>namesize))<span class="org-whitespace-space"> </span><span class="org-warning">nil</span><span class="org-whitespace-space"> </span><span class="org-warning">nil)</span>
<span class="org-whitespace-space">          </span>(set-fontset-font<span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span>charset<span class="org-whitespace-space"> </span>(font-spec<span class="org-whitespace-space"> </span><span class="org-builtin">:name</span><span class="org-whitespace-space"> </span>(car<span class="org-whitespace-space"> </span>namesize)
<span class="org-whitespace-space">                                                   </span><span class="org-builtin">:size</span><span class="org-whitespace-space"> </span>(cdr<span class="org-whitespace-space"> </span>namesize))
<span class="org-whitespace-space">                            </span>frame))
<span class="org-whitespace-space">        </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>(memq<span class="org-whitespace-space"> </span>charset<span class="org-whitespace-space"> </span>cjk-charsets)
<span class="org-whitespace-space">             </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>y/font-cjk-name<span class="org-whitespace-space"> </span>(car<span class="org-whitespace-space"> </span>namesize)))
<span class="org-whitespace-space">        </span>t)
<span class="org-whitespace-space">    </span>nil))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/font-set-frame-try-list</span>(frame<span class="org-whitespace-space"> </span>charset<span class="org-whitespace-space"> </span>namesizeassoc<span class="org-whitespace-space"> </span><span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>fontset)
<span class="org-whitespace-space">  </span><span class="org-doc">"For</span><span class="org-whitespace-space"> </span><span class="org-doc">FRAME,</span><span class="org-whitespace-space"> </span><span class="org-doc">from</span><span class="org-whitespace-space"> </span><span class="org-doc">front</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">back</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">NAMESIZEASSOC,</span><span class="org-whitespace-space"> </span><span class="org-doc">try</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">set</span><span class="org-whitespace-space"> </span><span class="org-doc">CHARSET's</span><span class="org-whitespace-space"> </span><span class="org-doc">font."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">let</span><span class="org-whitespace-space"> </span>((r<span class="org-whitespace-space"> </span>nil))
<span class="org-whitespace-space">    </span>(<span class="org-keyword">dolist</span><span class="org-whitespace-space"> </span>(namesize<span class="org-whitespace-space"> </span>namesizeassoc)
<span class="org-whitespace-space">      </span>(<span class="org-keyword">unless</span><span class="org-whitespace-space"> </span>r
<span class="org-whitespace-space">        </span>(<span class="org-keyword">and</span><span class="org-whitespace-space"> </span>(y/font-set-frame-font-if-exist
<span class="org-whitespace-space">              </span>frame<span class="org-whitespace-space"> </span>charset<span class="org-whitespace-space"> </span>namesize<span class="org-whitespace-space"> </span>fontset)
<span class="org-whitespace-space">             </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>r<span class="org-whitespace-space"> </span>t))))))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/font-set-frame-font-by-display</span>
<span class="org-whitespace-space">    </span>(frame<span class="org-whitespace-space"> </span>charset<span class="org-whitespace-space"> </span>namesizeassocx<span class="org-whitespace-space"> </span>namesizeassocc<span class="org-whitespace-space"> </span><span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>fontset)
<span class="org-whitespace-space">  </span><span class="org-doc">"For</span><span class="org-whitespace-space"> </span><span class="org-doc">FRAME,</span><span class="org-whitespace-space"> </span><span class="org-doc">from</span><span class="org-whitespace-space"> </span><span class="org-doc">front</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">back</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">namesizeassoc,</span><span class="org-whitespace-space"> </span><span class="org-doc">try</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">set</span><span class="org-whitespace-space"> </span><span class="org-doc">CHARSET's</span><span class="org-whitespace-space"> </span><span class="org-doc">font.</span>
<span class="org-doc">If</span><span class="org-whitespace-space"> </span><span class="org-doc">frame</span><span class="org-whitespace-space"> </span><span class="org-doc">run</span><span class="org-whitespace-space"> </span><span class="org-doc">in</span><span class="org-whitespace-space"> </span><span class="org-doc">graphic,</span><span class="org-whitespace-space"> </span><span class="org-doc">use</span><span class="org-whitespace-space"> </span><span class="org-doc">NAMESIZEASSOCX,</span><span class="org-whitespace-space"> </span><span class="org-doc">otherwise</span><span class="org-whitespace-space"> </span><span class="org-doc">use</span><span class="org-whitespace-space"> </span><span class="org-doc">NAMESIZEASSOCC"</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(display-graphic-p)
<span class="org-whitespace-space">      </span>(y/font-set-frame-try-list<span class="org-whitespace-space"> </span>frame<span class="org-whitespace-space"> </span>charset<span class="org-whitespace-space"> </span>namesizeassocx<span class="org-whitespace-space"> </span>fontset)
<span class="org-whitespace-space">    </span>(y/font-set-frame-try-list<span class="org-whitespace-space"> </span>frame<span class="org-whitespace-space"> </span>charset<span class="org-whitespace-space"> </span>namesizeassocc<span class="org-whitespace-space"> </span>fontset)))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/font-set</span>(<span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>frame)
<span class="org-whitespace-space">  </span><span class="org-doc">"For</span><span class="org-whitespace-space"> </span><span class="org-doc">FRAME</span><span class="org-whitespace-space"> </span><span class="org-doc">set</span><span class="org-whitespace-space"> </span><span class="org-doc">properly</span><span class="org-whitespace-space"> </span><span class="org-doc">font."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>frame<span class="org-whitespace-space"> </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>frame<span class="org-whitespace-space"> </span>(selected-frame)))
<span class="org-whitespace-space">  </span>(<span class="org-keyword">with-selected-frame</span><span class="org-whitespace-space"> </span>frame
<span class="org-whitespace-space">      </span>(y/font-set-frame-font-by-display
<span class="org-whitespace-space">       </span>frame<span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span>y/font-mono-name-list-x<span class="org-whitespace-space"> </span>y/font-mono-name-list-c<span class="org-whitespace-space"> </span>t)
<span class="org-whitespace-space">      </span>(<span class="org-keyword">dolist</span><span class="org-whitespace-space"> </span>(charset<span class="org-whitespace-space"> </span>cjk-charsets)
<span class="org-whitespace-space">        </span>(y/font-set-frame-font-by-display
<span class="org-whitespace-space">         </span>frame<span class="org-whitespace-space"> </span>charset<span class="org-whitespace-space"> </span>y/font-monocjk-name-list-x<span class="org-whitespace-space"> </span>y/font-monocjk-name-list-c))))

(y/add-after-init-or-make-frame-hook<span class="org-whitespace-space"> </span>#'y/font-set)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgce63157" class="outline-5">
<h5 id="orgce63157"><span class="section-number-5">5.5.6.3</span> modeline</h5>
<div class="outline-text-5" id="text-5-5-6-3">
<ul class="org-ul">
<li>Smart mode line. Try sml/apply-theme if want more.</li>
<li>Diminish used to hide minor info</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">time</span>)
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">battery</span>)
(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>display-time-default-load-average<span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">      </span>display-time-format<span class="org-whitespace-space"> </span><span class="org-string">"%k:%M</span><span class="org-whitespace-space"> </span><span class="org-string">%a"</span><span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">remove</span><span class="org-whitespace-space"> </span><span class="org-comment">%b</span><span class="org-whitespace-space"> </span><span class="org-comment">%d</span>
<span class="org-whitespace-space">      </span>display-time-mode<span class="org-whitespace-space"> </span>t)
(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>system-time-locale<span class="org-whitespace-space"> </span><span class="org-string">"C"</span>)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">show</span><span class="org-whitespace-space"> </span><span class="org-comment">english</span><span class="org-whitespace-space"> </span><span class="org-comment">even</span><span class="org-whitespace-space"> </span><span class="org-comment">LANG</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">zh_CN.UTF-8</span>
(display-time)

(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>battery-mode-line-format<span class="org-whitespace-space"> </span><span class="org-string">"</span><span class="org-whitespace-space"> </span><span class="org-string">[%L</span><span class="org-whitespace-space"> </span><span class="org-string">%b%p%%</span><span class="org-whitespace-space"> </span><span class="org-string">%t]"</span><span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">sml</span><span class="org-whitespace-space"> </span><span class="org-comment">will</span><span class="org-whitespace-space"> </span><span class="org-comment">override</span><span class="org-whitespace-space"> </span><span class="org-comment">it</span>
<span class="org-whitespace-space">      </span>battery-update-interval<span class="org-whitespace-space"> </span>5)
(display-battery-mode)

(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">smart-mode-line</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>sml/col-number-format<span class="org-whitespace-space"> </span><span class="org-string">"%02c"</span>
<span class="org-whitespace-space">        </span>sml/battery-format<span class="org-whitespace-space"> </span><span class="org-string">"</span><span class="org-whitespace-space"> </span><span class="org-string">[%L</span><span class="org-whitespace-space"> </span><span class="org-string">%b%p%%</span><span class="org-whitespace-space"> </span><span class="org-string">%t]"</span>
<span class="org-whitespace-space">        </span>sml/name-width<span class="org-whitespace-space"> </span>15
<span class="org-whitespace-space">        </span>sml/no-confirm-load-theme<span class="org-whitespace-space"> </span>t
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">sml/theme</span><span class="org-whitespace-space"> </span><span class="org-comment">'dark</span><span class="org-whitespace-space"> </span><span class="org-comment">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">others:</span><span class="org-whitespace-space"> </span><span class="org-comment">light,</span><span class="org-whitespace-space"> </span><span class="org-comment">respectful</span>
<span class="org-whitespace-space">        </span>sml/theme<span class="org-whitespace-space"> </span>'respectful)
<span class="org-whitespace-space">  </span>(sml/setup)
<span class="org-whitespace-space">  </span>(add-to-list<span class="org-whitespace-space"> </span>'sml/replacer-regexp-list<span class="org-whitespace-space"> </span>'(<span class="org-string">".*/linux"</span><span class="org-whitespace-space"> </span><span class="org-string">":LK:"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2662f30" class="outline-5">
<h5 id="org2662f30"><span class="section-number-5">5.5.6.4</span> theme</h5>
<div class="outline-text-5" id="text-5-5-6-4">
<p>
Theme is another important display aspect. Manual
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Custom-Themes.html">https://www.gnu.org/software/emacs/manual/html_node/emacs/Custom-Themes.html</a>,
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Creating-Custom-Themes.html">https://www.gnu.org/software/emacs/manual/html_node/emacs/Creating-Custom-Themes.html</a>
and wiki <a href="https://www.emacswiki.org/emacs/CustomThemes">https://www.emacswiki.org/emacs/CustomThemes</a> introduce some theme
knowledge.
</p>

<p>
Emacsthemes(<a href="https://emacsthemes.com/">https://emacsthemes.com/</a>) and
Emacs Theme Gallary(<a href="https://pawelbx.github.io/emacs-theme-gallery/">https://pawelbx.github.io/emacs-theme-gallery/</a>) lists
typical emacs theme.
</p>

<p>
Theme will gradually increase as time goes, put all liked theme package here
and select zenburn as default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">my</span><span class="org-whitespace-space"> </span><span class="org-comment">favorite</span><span class="org-whitespace-space"> </span><span class="org-comment">theme</span>
(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/theme-packages</span>
<span class="org-whitespace-space">  </span>'(zenburn-theme<span class="org-whitespace-space"> </span>monokai-theme<span class="org-whitespace-space"> </span>anti-zenburn-theme
<span class="org-whitespace-space">    </span>solarized-theme<span class="org-whitespace-space"> </span>moe-theme)
<span class="org-whitespace-space">  </span><span class="org-doc">"Themes</span><span class="org-whitespace-space"> </span><span class="org-doc">package</span><span class="org-whitespace-space"> </span><span class="org-doc">list."</span>)
(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/theme-day-of-week</span>
<span class="org-whitespace-space">  </span>'(zenburn<span class="org-whitespace-space"> </span>monokai<span class="org-whitespace-space"> </span>anti-zenburn
<span class="org-whitespace-space">    </span>solarized-dark<span class="org-whitespace-space"> </span>solarized-light<span class="org-whitespace-space"> </span>moe-dark<span class="org-whitespace-space"> </span>moe-light)
<span class="org-whitespace-space">  </span><span class="org-doc">"Themes</span><span class="org-whitespace-space"> </span><span class="org-doc">for</span><span class="org-whitespace-space"> </span><span class="org-doc">each</span><span class="org-whitespace-space"> </span><span class="org-doc">day</span><span class="org-whitespace-space"> </span><span class="org-doc">of</span><span class="org-whitespace-space"> </span><span class="org-doc">week."</span>)

(<span class="org-keyword">dolist</span><span class="org-whitespace-space"> </span>(theme<span class="org-whitespace-space"> </span>y/theme-packages)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>(package-installed-p<span class="org-whitespace-space"> </span>theme)
<span class="org-whitespace-space">      </span>(package-install<span class="org-whitespace-space"> </span>theme)))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/timer-scheme-day-of-week</span>()
<span class="org-whitespace-space">  </span><span class="org-doc">"Timer</span><span class="org-whitespace-space"> </span><span class="org-doc">function</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">switch</span><span class="org-whitespace-space"> </span><span class="org-doc">scheme</span><span class="org-whitespace-space"> </span><span class="org-doc">per</span><span class="org-whitespace-space"> </span><span class="org-doc">day."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">let*</span><span class="org-whitespace-space"> </span>((dow<span class="org-whitespace-space"> </span>(string-to-number<span class="org-whitespace-space"> </span>(format-time-string<span class="org-whitespace-space"> </span><span class="org-string">"%w"</span>)))
<span class="org-whitespace-space">         </span>(n<span class="org-whitespace-space"> </span>(%<span class="org-whitespace-space"> </span>dow<span class="org-whitespace-space"> </span>(length<span class="org-whitespace-space"> </span>y/theme-day-of-week)))
<span class="org-whitespace-space">         </span>(theme<span class="org-whitespace-space"> </span>(nth<span class="org-whitespace-space"> </span>n<span class="org-whitespace-space"> </span>y/theme-day-of-week)))
<span class="org-whitespace-space">    </span>(message<span class="org-whitespace-space"> </span><span class="org-string">"Enable</span><span class="org-whitespace-space"> </span><span class="org-string">theme</span><span class="org-whitespace-space"> </span><span class="org-string">%s"</span><span class="org-whitespace-space"> </span>theme)
<span class="org-whitespace-space">    </span>(load-theme<span class="org-whitespace-space"> </span>theme<span class="org-whitespace-space"> </span>t)))
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(run-at-time</span><span class="org-whitespace-space"> </span><span class="org-comment">"00:00"</span><span class="org-whitespace-space"> </span><span class="org-comment">(*</span><span class="org-whitespace-space"> </span><span class="org-comment">24</span><span class="org-whitespace-space"> </span><span class="org-comment">60</span><span class="org-whitespace-space"> </span><span class="org-comment">60)</span><span class="org-whitespace-space"> </span><span class="org-comment">#'y/timer-scheme-day-of-week)</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(y/timer-scheme-day-of-week)</span>
(load-theme<span class="org-whitespace-space"> </span>'zenburn<span class="org-whitespace-space"> </span>t)

</pre>
</div>
</div>
</div>

<div id="outline-container-org5463657" class="outline-5">
<h5 id="org5463657"><span class="section-number-5">5.5.6.5</span> ui</h5>
<div class="outline-text-5" id="text-5-5-6-5">
<p>
Config for emacs daemon and non-daemon.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">half</span><span class="org-whitespace-space"> </span><span class="org-comment">width</span><span class="org-whitespace-space"> </span><span class="org-comment">fringe</span>
(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(fboundp<span class="org-whitespace-space"> </span>'fringe-mode)
<span class="org-whitespace-space">  </span>(set-fringe-mode<span class="org-whitespace-space"> </span>4))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">A</span><span class="org-whitespace-space"> </span><span class="org-comment">light</span><span class="org-whitespace-space"> </span><span class="org-comment">that</span><span class="org-whitespace-space"> </span><span class="org-comment">follows</span><span class="org-whitespace-space"> </span><span class="org-comment">your</span><span class="org-whitespace-space"> </span><span class="org-comment">cursor</span><span class="org-whitespace-space"> </span><span class="org-comment">around</span><span class="org-whitespace-space"> </span><span class="org-comment">so</span><span class="org-whitespace-space"> </span><span class="org-comment">you</span><span class="org-whitespace-space"> </span><span class="org-comment">don't</span><span class="org-whitespace-space"> </span><span class="org-comment">lose</span><span class="org-whitespace-space"> </span><span class="org-comment">it!</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">https://github.com/Malabarba/beacon</span>
(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">beacon</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(after-init<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>beacon-mode))

(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">hl-todo</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(after-init<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>global-hl-todo-mode))

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/frame-init-ui-basic</span>(<span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>frame)
<span class="org-whitespace-space">  </span><span class="org-doc">"Init</span><span class="org-whitespace-space"> </span><span class="org-doc">FRAME</span><span class="org-whitespace-space"> </span><span class="org-doc">user-interface</span><span class="org-whitespace-space"> </span><span class="org-doc">after</span><span class="org-whitespace-space"> </span><span class="org-doc">created."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>frame
<span class="org-whitespace-space">      </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>frame<span class="org-whitespace-space"> </span>(selected-frame)))
<span class="org-whitespace-space">  </span>(<span class="org-keyword">with-selected-frame</span><span class="org-whitespace-space"> </span>frame
<span class="org-whitespace-space">    </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Hide</span><span class="org-whitespace-space"> </span><span class="org-comment">menu,</span><span class="org-whitespace-space"> </span><span class="org-comment">tool,</span><span class="org-whitespace-space"> </span><span class="org-comment">scroll</span><span class="org-whitespace-space"> </span><span class="org-comment">bar,</span><span class="org-whitespace-space"> </span><span class="org-comment">auto</span><span class="org-whitespace-space"> </span><span class="org-comment">fullscreen</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">X</span>
<span class="org-whitespace-space">    </span>(menu-bar-mode<span class="org-whitespace-space"> </span>-1)
<span class="org-whitespace-space">    </span>(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(display-graphic-p)
<span class="org-whitespace-space">      </span>(set-frame-parameter<span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span>'fullscreen<span class="org-whitespace-space"> </span>'fullboth)
<span class="org-whitespace-space">      </span>(scroll-bar-mode<span class="org-whitespace-space"> </span>-1))
<span class="org-whitespace-space">    </span>(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(fboundp<span class="org-whitespace-space"> </span>'tool-bar-mode)
<span class="org-whitespace-space">      </span>(tool-bar-mode<span class="org-whitespace-space"> </span>-1))
<span class="org-whitespace-space">    </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">cursor:</span><span class="org-whitespace-space"> </span><span class="org-comment">bar</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">width</span><span class="org-whitespace-space"> </span><span class="org-comment">3,</span><span class="org-whitespace-space"> </span><span class="org-comment">OrangeRed</span><span class="org-whitespace-space"> </span><span class="org-comment">color,</span><span class="org-whitespace-space"> </span><span class="org-comment">Steady</span><span class="org-whitespace-space"> </span><span class="org-comment">mode</span>
<span class="org-whitespace-space">    </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(display-graphic-p)
<span class="org-whitespace-space">        </span>(<span class="org-keyword">progn</span>
<span class="org-whitespace-space">          </span>(<span class="org-keyword">setq-default</span><span class="org-whitespace-space"> </span>cursor-type<span class="org-whitespace-space"> </span>'box)
<span class="org-whitespace-space">          </span>(<span class="org-keyword">setq-default</span><span class="org-whitespace-space"> </span>cursor-in-non-selected-windows<span class="org-whitespace-space"> </span>nil)
<span class="org-whitespace-space">          </span>(blink-cursor-mode<span class="org-whitespace-space"> </span>-1)
<span class="org-whitespace-space">          </span>(set-cursor-color<span class="org-whitespace-space"> </span><span class="org-string">"DarkOrange1"</span>))
<span class="org-whitespace-space">      </span>(<span class="org-keyword">progn</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Only</span><span class="org-whitespace-space"> </span><span class="org-comment">support</span><span class="org-whitespace-space"> </span><span class="org-comment">xterm.</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="custom">FIXME</span><span class="org-comment">:</span><span class="org-whitespace-space"> </span><span class="org-comment">restore</span><span class="org-whitespace-space"> </span><span class="org-comment">after</span><span class="org-whitespace-space"> </span><span class="org-comment">exit.</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">need</span><span class="org-whitespace-space"> </span><span class="org-comment">terminal</span><span class="org-whitespace-space"> </span><span class="org-comment">support.</span><span class="org-whitespace-space"> </span><span class="org-comment">6</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">steady</span><span class="org-whitespace-space"> </span><span class="org-comment">bar,</span><span class="org-whitespace-space"> </span><span class="org-comment">2</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">box</span>
<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">\e:</span><span class="org-whitespace-space"> </span><span class="org-comment">ESC;</span><span class="org-whitespace-space"> </span><span class="org-comment">\a:</span><span class="org-whitespace-space"> </span><span class="org-comment">BELL;</span><span class="org-whitespace-space"> </span><span class="org-comment">man</span><span class="org-whitespace-space"> </span><span class="org-comment">ascii</span><span class="org-whitespace-space"> </span><span class="org-comment">for</span><span class="org-whitespace-space"> </span><span class="org-comment">more</span><span class="org-whitespace-space"> </span><span class="org-comment">details.</span>
<span class="org-whitespace-space">        </span>(send-string-to-terminal<span class="org-whitespace-space"> </span><span class="org-string">"\e[2</span><span class="org-whitespace-space"> </span><span class="org-string">q\e]12;DarkOrange1\a"</span>)))

<span class="org-whitespace-space">    </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">disable</span><span class="org-whitespace-space"> </span><span class="org-comment">bell</span>
<span class="org-whitespace-space">    </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>visible-bell<span class="org-whitespace-space"> </span>nil)
<span class="org-whitespace-space">    </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>ring-bell-function<span class="org-whitespace-space"> </span>'ignore)

<span class="org-whitespace-space">    </span>(set-face-attribute<span class="org-whitespace-space"> </span>'isearch<span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">                        </span><span class="org-builtin">:bold</span><span class="org-whitespace-space"> </span>t
<span class="org-whitespace-space">                        </span><span class="org-builtin">:italic</span><span class="org-whitespace-space"> </span>t
<span class="org-whitespace-space">                        </span><span class="org-builtin">:foreground</span><span class="org-whitespace-space"> </span><span class="org-string">"#FF7F00"</span>
<span class="org-whitespace-space">                        </span><span class="org-builtin">:background</span><span class="org-whitespace-space"> </span><span class="org-string">"#1A1A1A"</span>)

<span class="org-whitespace-space">    </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">show</span><span class="org-whitespace-space"> </span><span class="org-comment">column</span><span class="org-whitespace-space"> </span><span class="org-comment">and</span><span class="org-whitespace-space"> </span><span class="org-comment">size</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">the</span><span class="org-whitespace-space"> </span><span class="org-comment">mode</span><span class="org-whitespace-space"> </span><span class="org-comment">line</span>
<span class="org-whitespace-space">    </span>(column-number-mode)
<span class="org-whitespace-space">    </span>(size-indication-mode<span class="org-whitespace-space"> </span>t)))

(y/add-after-init-or-make-frame-hook<span class="org-whitespace-space"> </span>#'y/frame-init-ui-basic)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2120e05" class="outline-5">
<h5 id="org2120e05"><span class="section-number-5">5.5.6.6</span> window</h5>
<div class="outline-text-5" id="text-5-5-6-6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">hydra</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">defhydra</span><span class="org-whitespace-space"> </span>y/window-hydra
<span class="org-whitespace-space">    </span>(y/keymap-mode-map<span class="org-whitespace-space"> </span><span class="org-string">"C-x</span><span class="org-whitespace-space"> </span><span class="org-string">C-x</span><span class="org-whitespace-space"> </span><span class="org-string">C-w"</span>)
<span class="org-whitespace-space">    </span><span class="org-doc">"window</span><span class="org-whitespace-space"> </span><span class="org-doc">hydra"</span>
<span class="org-whitespace-space">    </span>(<span class="org-string">"="</span><span class="org-whitespace-space"> </span>enlarge-window-horizontally<span class="org-whitespace-space"> </span><span class="org-string">"enlarge-window-horizontally"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"+"</span><span class="org-whitespace-space"> </span>enlarge-window-horizontally<span class="org-whitespace-space"> </span><span class="org-string">"enlarge-window-horizontally"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"-"</span><span class="org-whitespace-space"> </span>shrink-window-horizontally<span class="org-whitespace-space"> </span><span class="org-string">"shrink-window-horizontally"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"_"</span><span class="org-whitespace-space"> </span>shrink-window-horizontally<span class="org-whitespace-space"> </span><span class="org-string">"shrink-window-horizontally"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"&gt;"</span><span class="org-whitespace-space"> </span>enlarge-window<span class="org-whitespace-space"> </span><span class="org-string">"enlarge-window-vertically"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"."</span><span class="org-whitespace-space"> </span>enlarge-window<span class="org-whitespace-space"> </span><span class="org-string">"enlarge-window-vertically"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"&lt;"</span><span class="org-whitespace-space"> </span>shrink-window<span class="org-whitespace-space"> </span><span class="org-string">"shrink-window-vertically"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">","</span><span class="org-whitespace-space"> </span>shrink-window<span class="org-whitespace-space"> </span><span class="org-string">"shrink-window-vertically"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"q"</span><span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span><span class="org-string">"quit</span><span class="org-whitespace-space"> </span><span class="org-string">from</span><span class="org-whitespace-space"> </span><span class="org-string">hydra"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"C-g"</span><span class="org-whitespace-space">  </span>nil<span class="org-whitespace-space"> </span><span class="org-string">"quit</span><span class="org-whitespace-space"> </span><span class="org-string">from</span><span class="org-whitespace-space"> </span><span class="org-string">hydra"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-string">"RET"</span><span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span><span class="org-string">"quit</span><span class="org-whitespace-space"> </span><span class="org-string">from</span><span class="org-whitespace-space"> </span><span class="org-string">hydra"</span>)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgbc2ee89" class="outline-4">
<h4 id="orgbc2ee89"><span class="section-number-4">5.5.7</span> Efficiency</h4>
<div class="outline-text-4" id="text-5-5-7">
</div>
<div id="outline-container-org74c8b24" class="outline-5">
<h5 id="org74c8b24"><span class="section-number-5">5.5.7.1</span> abbrev</h5>
<div class="outline-text-5" id="text-5-5-7-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">abbrev</span>)
(diminish<span class="org-whitespace-space"> </span>'abbrev-mode)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc7934ac" class="outline-5">
<h5 id="orgc7934ac"><span class="section-number-5">5.5.7.2</span> company</h5>
<div class="outline-text-5" id="text-5-5-7-2">
<p>
<b>company</b> is a text completion framework. it means complete anything.
gitub <a href="https://github.com/company-mode/company-mode">https://github.com/company-mode/company-mode</a>.
</p>

<p>
the company configuration varies greatly for different major modes, and when
use emacs, company config will always be adjusted or optimized. the company
configurations are complex and huge, put it in a separate file y-company.el.
</p>

<p>
material:
</p>
<ul class="org-ul">
<li>manual: <a href="https://company-mode.github.io/">https://company-mode.github.io/</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-company</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2946eef" class="outline-5">
<h5 id="org2946eef"><span class="section-number-5">5.5.7.3</span> dictionary</h5>
<div class="outline-text-5" id="text-5-5-7-3">
</div>
<ol class="org-ol">
<li><a id="org92d3dab"></a>youdao<br />
<div class="outline-text-6" id="text-5-5-7-3-1">
<ul class="org-ul">
<li>Homepage: <a href="https://github.com/xuchunyang/youdao-dictionary.el">GitHub Youdao</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">youdao-dictionary</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>url-automatic-caching<span class="org-whitespace-space"> </span>t)
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>((<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">y</span><span class="org-whitespace-space"> </span><span class="org-string">t"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>youdao-dictionary-search-at-point)
<span class="org-whitespace-space">   </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">y</span><span class="org-whitespace-space"> </span><span class="org-string">s"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>youdao-dictionary-play-voice-at-point)))
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-org6cbf8da" class="outline-5">
<h5 id="org6cbf8da"><span class="section-number-5">5.5.7.4</span> eldoc - minor mode for lisp</h5>
<div class="outline-text-5" id="text-5-5-7-4">
<p>
eldoc mode is a buffer-local minor mode.  when enabled, the echo
area displays information about a function or variable in the
text where point is.  if point is on a documented variable, it
displays the first line of that variable’s doc string.  otherwise
it displays the argument list of the function called in the
expression point is on.
</p>

<p>
emacswiki: <a href="https://www.emacswiki.org/emacs/eldoc">https://www.emacswiki.org/emacs/eldoc</a>
</p>

<p>
eldoc is a builtin package.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">builtin</span>
(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">eldoc</span>)
(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>eldoc-idle-delay<span class="org-whitespace-space"> </span>0)
(diminish<span class="org-whitespace-space"> </span>'eldoc-mode)
(add-hook<span class="org-whitespace-space"> </span>'y/lisp-modes<span class="org-whitespace-space"> </span>'eldoc-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf970383" class="outline-5">
<h5 id="orgf970383"><span class="section-number-5">5.5.7.5</span> expand-region</h5>
<div class="outline-text-5" id="text-5-5-7-5">
<ul class="org-ul">
<li>melpa: <a href="https://melpa.org/#/expand-region">https://melpa.org/#/expand-region</a></li>
<li>github: <a href="https://github.com/magnars/expand-region.el">https://github.com/magnars/expand-region.el</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">expand-region</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>expand-region-smart-cursor<span class="org-whitespace-space"> </span>t)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">cursor</span><span class="org-whitespace-space"> </span><span class="org-comment">put</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">region</span><span class="org-whitespace-space"> </span><span class="org-comment">tail</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>(<span class="org-string">"&lt;f6&gt;"</span><span class="org-whitespace-space">   </span>.<span class="org-whitespace-space"> </span>er/mark-symbol)
<span class="org-whitespace-space">  </span>(<span class="org-string">"&lt;f7&gt;"</span><span class="org-whitespace-space">   </span>.<span class="org-whitespace-space"> </span>er/expand-region)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">r</span><span class="org-whitespace-space"> </span><span class="org-string">+"</span><span class="org-whitespace-space">   </span>.<span class="org-whitespace-space"> </span>er/expand-region)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">r</span><span class="org-whitespace-space"> </span><span class="org-string">="</span><span class="org-whitespace-space">   </span>.<span class="org-whitespace-space"> </span>er/expand-region)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">r</span><span class="org-whitespace-space"> </span><span class="org-string">w"</span><span class="org-whitespace-space">   </span>.<span class="org-whitespace-space"> </span>er/mark-word)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">r</span><span class="org-whitespace-space"> </span><span class="org-string">s"</span><span class="org-whitespace-space">   </span>.<span class="org-whitespace-space"> </span>er/mark-symbol)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">r</span><span class="org-whitespace-space"> </span><span class="org-string">f"</span><span class="org-whitespace-space">   </span>.<span class="org-whitespace-space"> </span>er/mark-method-call)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">r</span><span class="org-whitespace-space"> </span><span class="org-string">q</span><span class="org-whitespace-space"> </span><span class="org-string">i"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>er/mark-inside-quotes)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">r</span><span class="org-whitespace-space"> </span><span class="org-string">q</span><span class="org-whitespace-space"> </span><span class="org-string">o"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>er/mark-outside-quotes)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">r</span><span class="org-whitespace-space"> </span><span class="org-string">p</span><span class="org-whitespace-space"> </span><span class="org-string">i"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>er/mark-inside-pairs)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">r</span><span class="org-whitespace-space"> </span><span class="org-string">p</span><span class="org-whitespace-space"> </span><span class="org-string">o"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>er/mark-outside-pairs)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">r</span><span class="org-whitespace-space"> </span><span class="org-string">t</span><span class="org-whitespace-space"> </span><span class="org-string">i"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>er/mark-inner-tag)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">r</span><span class="org-whitespace-space"> </span><span class="org-string">t</span><span class="org-whitespace-space"> </span><span class="org-string">o"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>er/mark-outer-tag))
</pre>
</div>
</div>
</div>

<div id="outline-container-org85cef7d" class="outline-5">
<h5 id="org85cef7d"><span class="section-number-5">5.5.7.6</span> helpful</h5>
<div class="outline-text-5" id="text-5-5-7-6">
<p>
<b>Helpful</b> is an alternative to the built-in Emacs help that provides much more
contextual information.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">helpful</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:pin</span><span class="org-whitespace-space"> </span>melpa
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">h</span><span class="org-whitespace-space"> </span><span class="org-string">f"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>helpful-callable)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">h</span><span class="org-whitespace-space"> </span><span class="org-string">k"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>helpful-key)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">h</span><span class="org-whitespace-space"> </span><span class="org-string">v"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>helpful-variable)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">h</span><span class="org-whitespace-space"> </span><span class="org-string">c"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>helpful-command)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">h</span><span class="org-whitespace-space"> </span><span class="org-string">s"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>helpful-symbol)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">h</span><span class="org-whitespace-space"> </span><span class="org-string">p"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>helpful-at-point))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3630a5c" class="outline-5">
<h5 id="org3630a5c"><span class="section-number-5">5.5.7.7</span> flycheck</h5>
<div class="outline-text-5" id="text-5-5-7-7">
<p>
flycheck is a modern on-the-fly syntax checking package. homepage is
<a href="https://www.flycheck.org/en/latest/">https://www.flycheck.org/en/latest/</a>.
</p>

<p>
flycheck use external specific system tool to check syntax. see
<a href="https://www.flycheck.org/en/latest/languages.html#flycheck-languages">https://www.flycheck.org/en/latest/languages.html#flycheck-languages</a>,
so need properly exec-path to search it. install package exec-path-from-shell
for mac compatiblity: <a href="https://github.com/purcell/exec-path-from-shell">https://github.com/purcell/exec-path-from-shell</a>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">flycheck</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>flycheck-emacs-lisp-load-path<span class="org-whitespace-space"> </span>'inherit
<span class="org-whitespace-space">        </span>flycheck-checker-error-threshold<span class="org-whitespace-space"> </span>20000)
<span class="org-whitespace-space">  </span><span class="org-builtin">:config</span>
<span class="org-whitespace-space">  </span>(add-to-list<span class="org-whitespace-space"> </span>'flycheck-clang-warnings
<span class="org-whitespace-space">               </span><span class="org-string">"no-pragma-once-outside-header"</span>)
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(after-init<span class="org-whitespace-space">    </span>.<span class="org-whitespace-space"> </span>global-flycheck-mode)
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">too</span><span class="org-whitespace-space"> </span><span class="org-comment">many</span><span class="org-whitespace-space"> </span><span class="org-comment">errors,</span><span class="org-whitespace-space"> </span><span class="org-comment">disabled.</span>
<span class="org-whitespace-space">  </span>(c-mode-common<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>(<span class="org-keyword">lambda</span>()<span class="org-whitespace-space"> </span>(flycheck-mode<span class="org-whitespace-space"> </span>-1))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org23dac28" class="outline-5">
<h5 id="org23dac28"><span class="section-number-5">5.5.7.8</span> highlight parenthesis</h5>
<div class="outline-text-5" id="text-5-5-7-8">
<ul class="org-ul">
<li>github: <a href="https://github.com/tsdh/highlight-parentheses.el">https://github.com/tsdh/highlight-parentheses.el</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">highlight-parentheses</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:config</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>hl-paren-colors
<span class="org-whitespace-space">        </span>'(<span class="org-string">"orange1"</span><span class="org-whitespace-space"> </span><span class="org-string">"skyblue"</span><span class="org-whitespace-space"> </span><span class="org-string">"darkseagreen"</span><span class="org-whitespace-space"> </span><span class="org-string">"goldenrod"</span>))
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>hl-paren-background-colors
<span class="org-whitespace-space">        </span>'(<span class="org-string">"DarkOliveGreen4"</span>))
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(prog-mode<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>highlight-parentheses-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgebe4108" class="outline-5">
<h5 id="orgebe4108"><span class="section-number-5">5.5.7.9</span> highlight-symbol</h5>
<div class="outline-text-5" id="text-5-5-7-9">
<ul class="org-ul">
<li>Github: <a href="https://github.com/nschum/highlight-symbol.el">https://github.com/nschum/highlight-symbol.el</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Close</span><span class="org-whitespace-space"> </span><span class="org-comment">highlight-symbol-mode,</span><span class="org-whitespace-space"> </span><span class="org-comment">do</span><span class="org-whitespace-space"> </span><span class="org-comment">it</span><span class="org-whitespace-space"> </span><span class="org-comment">manually</span>
(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">highlight-symbol</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span><span class="org-whitespace-space"> </span>highlight-symbol-mode
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:config</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(setq</span><span class="org-whitespace-space"> </span><span class="org-comment">highlight-symbol-idle-delay</span><span class="org-whitespace-space"> </span><span class="org-comment">.1)</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">The</span><span class="org-whitespace-space"> </span><span class="org-comment">original</span><span class="org-whitespace-space"> </span><span class="org-comment">func</span><span class="org-whitespace-space"> </span><span class="org-comment">always</span><span class="org-whitespace-space"> </span><span class="org-comment">print</span><span class="org-whitespace-space"> </span><span class="org-comment">ugly</span><span class="org-whitespace-space"> </span><span class="org-comment">string</span><span class="org-whitespace-space"> </span><span class="org-comment">'&lt;N&gt;</span><span class="org-whitespace-space"> </span><span class="org-comment">occurrences</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">buffer'</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Replace</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">dummy</span><span class="org-whitespace-space"> </span><span class="org-comment">empty</span><span class="org-whitespace-space"> </span><span class="org-comment">function</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(setq</span><span class="org-whitespace-space"> </span><span class="org-comment">highlight-symbol-occurrence-message</span><span class="org-whitespace-space"> </span><span class="org-comment">nil)</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(advice-add</span><span class="org-whitespace-space"> </span><span class="org-comment">'highlight-symbol-count</span><span class="org-whitespace-space"> </span><span class="org-comment">:override</span><span class="org-whitespace-space"> </span><span class="org-comment">#'(lambda()</span><span class="org-whitespace-space"> </span><span class="org-comment">nil))</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>(([f8]<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>highlight-symbol-at-point)
<span class="org-whitespace-space">   </span>([S-f8]<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>highlight-regexp)
<span class="org-whitespace-space">   </span>([f9]<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>highlight-symbol-query-replace))
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">:hook</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">disable</span><span class="org-whitespace-space"> </span><span class="org-comment">auto</span><span class="org-whitespace-space"> </span><span class="org-comment">high-light</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(prog-mode</span><span class="org-whitespace-space"> </span><span class="org-comment">.</span><span class="org-whitespace-space"> </span><span class="org-comment">highlight-symbol-mode)</span>
<span class="org-whitespace-space">  </span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7da58a9" class="outline-5">
<h5 id="org7da58a9"><span class="section-number-5">5.5.7.10</span> helm</h5>
<div class="outline-text-5" id="text-5-5-7-10">
<p>
<b>Helm</b> is an Emacs framework for incremental completions and narrowing
selections.
</p>

<ul class="org-ul">
<li>Github: <a href="https://github.com/emacs-helm/helm">https://github.com/emacs-helm/helm</a></li>
<li>WIKI: <a href="https://github.com/emacs-helm/helm/wiki">https://github.com/emacs-helm/helm/wiki</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">helm</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:config</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">always</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">english</span><span class="org-whitespace-space"> </span><span class="org-comment">input</span><span class="org-whitespace-space"> </span><span class="org-comment">in</span><span class="org-whitespace-space"> </span><span class="org-comment">helm</span><span class="org-whitespace-space"> </span><span class="org-comment">minibuffer</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">C-\</span><span class="org-whitespace-space"> </span><span class="org-comment">(toggle-input-method)</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">toggle</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">other(e.g.</span><span class="org-whitespace-space"> </span><span class="org-comment">pyim)</span>
<span class="org-whitespace-space">  </span>(helm-set-local-variable<span class="org-whitespace-space"> </span>'current-input-method<span class="org-whitespace-space"> </span>nil)
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>(<span class="org-builtin">:map</span><span class="org-whitespace-space"> </span>global-map
<span class="org-whitespace-space">        </span>(<span class="org-string">"M-x"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>helm-M-x)
<span class="org-whitespace-space">        </span>(<span class="org-string">"C-x</span><span class="org-whitespace-space"> </span><span class="org-string">b"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>helm-mini)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd673ad7" class="outline-5">
<h5 id="orgd673ad7"><span class="section-number-5">5.5.7.11</span> hungry delete</h5>
<div class="outline-text-5" id="text-5-5-7-11">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">hungry-delete</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(after-init<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>global-hungry-delete-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org455ab92" class="outline-5">
<h5 id="org455ab92"><span class="section-number-5">5.5.7.12</span> iedit</h5>
<div class="outline-text-5" id="text-5-5-7-12">
<ul class="org-ul">
<li>Github: <a href="https://github.com/victorhge/iedit">https://github.com/victorhge/iedit</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">iedit</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>((<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">;"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>iedit-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda42e25" class="outline-5">
<h5 id="orgda42e25"><span class="section-number-5">5.5.7.13</span> mouse</h5>
<div class="outline-text-5" id="text-5-5-7-13">
<p>
Disable mouse globally.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">disable</span><span class="org-whitespace-space"> </span><span class="org-comment">mouse</span><span class="org-whitespace-space"> </span><span class="org-comment">at</span><span class="org-whitespace-space"> </span><span class="org-comment">all</span>
(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">disable-mouse</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span><span class="org-whitespace-space"> </span>disable-mouse-global-mode
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(disable-mouse-global-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a3fbcf" class="outline-5">
<h5 id="org1a3fbcf"><span class="section-number-5">5.5.7.14</span> smartparens</h5>
<div class="outline-text-5" id="text-5-5-7-14">
<p>
Smartparens is a minor mode for dealing with pairs in Emacs.
</p>
<ul class="org-ul">
<li>Github: <a href="https://github.com/Fuco1/smartparens">https://github.com/Fuco1/smartparens</a></li>
<li>Blog: <a href="https://ebzzry.io/en/emacs-pairs/">https://ebzzry.io/en/emacs-pairs/</a></li>
<li>Wiki: <a href="https://github.com/Fuco1/smartparens/wiki">https://github.com/Fuco1/smartparens/wiki</a></li>
<li>ref <a href="https://ebzzry.io/en/emacs-pairs/">emacs-pairs</a>, <a href="https://github.com/Fuco1/smartparens">smartparens github</a>, and <a href="https://github.com/Fuco1/smartparens/wiki">wiki</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">smartparens</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:config</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>sp-base-key-bindings<span class="org-whitespace-space"> </span>'paredit)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>sp-autoskip-closing-pair<span class="org-whitespace-space"> </span>'always)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>sp-hybrid-kill-entire-symbol<span class="org-whitespace-space"> </span>nil)
<span class="org-whitespace-space">  </span>(sp-use-paredit-bindings)
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">eval-when-compile</span><span class="org-whitespace-space"> </span><span class="org-comment">or</span><span class="org-whitespace-space"> </span><span class="org-comment">with-eval-after-load</span><span class="org-whitespace-space"> </span><span class="org-comment">can</span><span class="org-whitespace-space"> </span><span class="org-comment">eliminate</span><span class="org-whitespace-space"> </span><span class="org-comment">warning:</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">&#8216;</span><span class="org-comment"><span class="org-constant">sp-local-pair</span></span><span class="org-comment">&#8217;</span><span class="org-whitespace-space"> </span><span class="org-comment">might</span><span class="org-whitespace-space"> </span><span class="org-comment">not</span><span class="org-whitespace-space"> </span><span class="org-comment">be</span><span class="org-whitespace-space"> </span><span class="org-comment">defined</span><span class="org-whitespace-space"> </span><span class="org-comment">at</span><span class="org-whitespace-space"> </span><span class="org-comment">runtime</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">But</span><span class="org-whitespace-space"> </span><span class="org-comment">when</span><span class="org-whitespace-space"> </span><span class="org-comment">start</span><span class="org-whitespace-space"> </span><span class="org-comment">daemon</span><span class="org-whitespace-space"> </span><span class="org-comment">cause</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">new</span><span class="org-whitespace-space"> </span><span class="org-comment">error:</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space">  </span><span class="org-comment">Eager</span><span class="org-whitespace-space"> </span><span class="org-comment">macro-expansion</span><span class="org-whitespace-space"> </span><span class="org-comment">failure:</span><span class="org-whitespace-space"> </span><span class="org-comment">(void-function</span><span class="org-whitespace-space"> </span><span class="org-comment">sp-local-pair)</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">y/define-lisp-modes-foreach</span>
<span class="org-whitespace-space">   </span>#'(lambda(mode)
<span class="org-whitespace-space">       </span>(sp-local-pair<span class="org-whitespace-space"> </span>mode<span class="org-whitespace-space"> </span><span class="org-string">"'"</span><span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span><span class="org-builtin">:actions</span><span class="org-whitespace-space"> </span>nil)
<span class="org-whitespace-space">       </span>(sp-local-pair<span class="org-whitespace-space"> </span>mode<span class="org-whitespace-space"> </span><span class="org-string">"`"</span><span class="org-whitespace-space"> </span>nil<span class="org-whitespace-space"> </span><span class="org-builtin">:actions</span><span class="org-whitespace-space"> </span>nil)))
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-x</span><span class="org-whitespace-space"> </span><span class="org-string">C-x</span><span class="org-whitespace-space"> </span><span class="org-string">C-a"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>sp-beginning-of-sexp)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-x</span><span class="org-whitespace-space"> </span><span class="org-string">C-x</span><span class="org-whitespace-space"> </span><span class="org-string">C-e"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>sp-end-of-sexp)
<span class="org-whitespace-space">  </span>(<span class="org-string">"M-f"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>sp-forward-symbol)
<span class="org-whitespace-space">  </span>(<span class="org-string">"M-b"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>sp-backward-symbol)
<span class="org-whitespace-space">  </span>(<span class="org-builtin">:map</span><span class="org-whitespace-space"> </span>y/browse-mode-map
<span class="org-whitespace-space">        </span>(<span class="org-string">"TAB"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>sp-forward-symbol))
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(after-init<span class="org-whitespace-space">     </span>.<span class="org-whitespace-space"> </span>smartparens-global-mode)
<span class="org-whitespace-space">  </span>(after-init<span class="org-whitespace-space">     </span>.<span class="org-whitespace-space"> </span>show-smartparens-global-mode)
<span class="org-whitespace-space">  </span>(c-mode-common<span class="org-whitespace-space">  </span>.<span class="org-whitespace-space"> </span>turn-on-smartparens-strict-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3213a30" class="outline-5">
<h5 id="org3213a30"><span class="section-number-5">5.5.7.15</span> swiper</h5>
<div class="outline-text-5" id="text-5-5-7-15">
<p>
<b>Swiper</b> is a flexible, simple tools for minibuffer completion in Emacs.
</p>
<ul class="org-ul">
<li>Github: <a href="https://github.com/abo-abo/swiper">https://github.com/abo-abo/swiper</a></li>
<li>Manual: <a href="http://oremacs.com/swiper/">http://oremacs.com/swiper/</a></li>
<li>WIKI: <a href="https://github.com/abo-abo/swiper/wiki">https://github.com/abo-abo/swiper/wiki</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">short</span><span class="org-whitespace-space"> </span><span class="org-comment">bindings</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">a</span><span class="org-whitespace-space"> </span><span class="org-comment">common</span><span class="org-whitespace-space"> </span><span class="org-comment">prefix</span>
<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">https://github.com/abo-abo/hydra</span>
(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">ivy</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">:after</span><span class="org-whitespace-space"> </span><span class="org-comment">(hydra</span><span class="org-whitespace-space"> </span><span class="org-comment">swiper</span><span class="org-whitespace-space"> </span><span class="org-comment">counsel)</span><span class="org-whitespace-space"> </span><span class="org-comment">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">swiper</span><span class="org-whitespace-space"> </span><span class="org-comment">internal</span><span class="org-whitespace-space"> </span><span class="org-comment">use,</span><span class="org-whitespace-space"> </span><span class="org-comment">compile</span><span class="org-whitespace-space"> </span><span class="org-comment">error</span><span class="org-whitespace-space"> </span><span class="org-comment">if</span><span class="org-whitespace-space"> </span><span class="org-comment">abse</span><span class="org-comment"><span class="org-whitespace-line">nt</span></span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>ivy-use-virtual-buffers<span class="org-whitespace-space"> </span>t
<span class="org-whitespace-space">        </span>ivy-count-format<span class="org-whitespace-space"> </span><span class="org-string">"%d/%d</span><span class="org-whitespace-space"> </span><span class="org-string">&gt;</span><span class="org-whitespace-space"> </span><span class="org-string">"</span>)
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(after-init<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>ivy-mode))

(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">swiper</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">([remap</span><span class="org-whitespace-space"> </span><span class="org-comment">isearch-backward]</span><span class="org-whitespace-space"> </span><span class="org-comment">.</span><span class="org-whitespace-space"> </span><span class="org-comment">swiper-isearch-backward)</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">([remap</span><span class="org-whitespace-space"> </span><span class="org-comment">isearch-forward]</span><span class="org-whitespace-space"> </span><span class="org-comment">.</span><span class="org-whitespace-space"> </span><span class="org-comment">swiper-isearch)</span>
<span class="org-whitespace-space">  </span>(<span class="org-builtin">:map</span><span class="org-whitespace-space"> </span>global-map
<span class="org-whitespace-space">        </span>(<span class="org-string">"C-s"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>swiper-isearch)
<span class="org-whitespace-space">        </span>(<span class="org-string">"C-r"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>swiper-isearch-backward)))

(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">counsel</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>counsel-describe-function-function<span class="org-whitespace-space"> </span>#'describe-function
<span class="org-whitespace-space">        </span>counsel-find-file-ignore-regexp
<span class="org-whitespace-space">        </span>(concat
<span class="org-whitespace-space">         </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">filename</span><span class="org-whitespace-space"> </span><span class="org-comment">begins</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">#</span>
<span class="org-whitespace-space">         </span><span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(?:</span></span><span class="org-string">\\`[#.]</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>
<span class="org-whitespace-space">         </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">filename</span><span class="org-whitespace-space"> </span><span class="org-comment">ends</span><span class="org-whitespace-space"> </span><span class="org-comment">with</span><span class="org-whitespace-space"> </span><span class="org-comment">#</span><span class="org-whitespace-space"> </span><span class="org-comment">or</span><span class="org-whitespace-space"> </span><span class="org-comment">~</span>
<span class="org-whitespace-space">         </span><span class="org-string">"</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">|</span></span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">(?:</span></span><span class="org-string">\\`.+?[#~]\\'</span><span class="org-string"><span class="org-regexp-grouping-backslash">\\</span></span><span class="org-string"><span class="org-regexp-grouping-construct">)</span></span><span class="org-string">"</span>
<span class="org-whitespace-space">         </span>))
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-x</span><span class="org-whitespace-space"> </span><span class="org-string">C-f"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>counsel-find-file)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-h</span><span class="org-whitespace-space"> </span><span class="org-string">f"</span><span class="org-whitespace-space">   </span>.<span class="org-whitespace-space"> </span>counsel-describe-function)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-h</span><span class="org-whitespace-space"> </span><span class="org-string">v"</span><span class="org-whitespace-space">   </span>.<span class="org-whitespace-space"> </span>counsel-describe-variable)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">g</span><span class="org-whitespace-space"> </span><span class="org-string">f"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>counsel-git)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">g</span><span class="org-whitespace-space"> </span><span class="org-string">g"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>counsel-git-grep)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">g</span><span class="org-whitespace-space"> </span><span class="org-string">l"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>counsel-git-log)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">g</span><span class="org-whitespace-space"> </span><span class="org-string">a"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>counsel-ag)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">g</span><span class="org-whitespace-space"> </span><span class="org-string">g"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>counsel-grep)
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(after-init<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>counsel-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org79aa38a" class="outline-5">
<h5 id="org79aa38a"><span class="section-number-5">5.5.7.16</span> undo tree</h5>
<div class="outline-text-5" id="text-5-5-7-16">
<ul class="org-ul">
<li>Github: <a href="https://github.com/apchamberlain/undo-tree.el">https://github.com/apchamberlain/undo-tree.el</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">undo-tree</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:pin</span><span class="org-whitespace-space"> </span>gnu
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(after-init<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>global-undo-tree-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org58885f9" class="outline-5">
<h5 id="org58885f9"><span class="section-number-5">5.5.7.17</span> zop-to-char</h5>
<div class="outline-text-5" id="text-5-5-7-17">
<p>
Visual zap-to-char.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">zop-to-char</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>([remap<span class="org-whitespace-space"> </span>zap-to-char]<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>zop-to-char))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6c7b281" class="outline-4">
<h4 id="org6c7b281"><span class="section-number-4">5.5.8</span> Development</h4>
<div class="outline-text-4" id="text-5-5-8">
</div>
<div id="outline-container-orgc9a0287" class="outline-5">
<h5 id="orgc9a0287"><span class="section-number-5">5.5.8.1</span> prog</h5>
<div class="outline-text-5" id="text-5-5-8-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">prog-mode</span>)
(define-key<span class="org-whitespace-space"> </span>prog-mode-map<span class="org-whitespace-space"> </span>(kbd<span class="org-whitespace-space"> </span><span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">C-c"</span>)<span class="org-whitespace-space"> </span>#'y/comment-or-uncomment)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfdf4db9" class="outline-5">
<h5 id="orgfdf4db9"><span class="section-number-5">5.5.8.2</span> asm</h5>
</div>
<div id="outline-container-orgc93bf45" class="outline-5">
<h5 id="orgc93bf45"><span class="section-number-5">5.5.8.3</span> cmake</h5>
<div class="outline-text-5" id="text-5-5-8-3">
<p>
<b>cmake-mode</b> is major-mode for editing CMake sources.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">cmake-mode</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-org811f480" class="outline-5">
<h5 id="org811f480"><span class="section-number-5">5.5.8.4</span> cross-reference</h5>
<div class="outline-text-5" id="text-5-5-8-4">
<p>
Put all in y-xref.el
</p>

<ul class="org-ul">
<li>Manual: <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Xref.html#Xref">https://www.gnu.org/software/emacs/manual/html_node/emacs/Xref.html#Xref</a></li>
<li>ggtags github: <a href="https://github.com/leoliu/ggtags">https://github.com/leoliu/ggtags</a></li>
<li>counsel-gtags github: <a href="https://github.com/syohex/emacs-counsel-gtags">https://github.com/syohex/emacs-counsel-gtags</a></li>
<li>helm-gtags: <a href="https://github.com/syohex/emacs-helm-gtags">https://github.com/syohex/emacs-helm-gtags</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-xref</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga8e48e4" class="outline-5">
<h5 id="orga8e48e4"><span class="section-number-5">5.5.8.5</span> c/c++</h5>
<div class="outline-text-5" id="text-5-5-8-5">
</div>
<ol class="org-ol">
<li><a id="org0daae33"></a>keybind<br />
<div class="outline-text-6" id="text-5-5-8-5-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">cc-mode</span>)
(define-key<span class="org-whitespace-space"> </span>c-mode-map<span class="org-whitespace-space"> </span>(kbd<span class="org-whitespace-space"> </span><span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">C-c"</span>)<span class="org-whitespace-space"> </span>#'y/comment-or-uncomment)
(define-key<span class="org-whitespace-space"> </span>c++-mode-map<span class="org-whitespace-space"> </span>(kbd<span class="org-whitespace-space"> </span><span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">C-c"</span>)<span class="org-whitespace-space"> </span>#'y/comment-or-uncomment)
</pre>
</div>
</div>
</li>
<li><a id="org2b0efe9"></a>c++ modern font<br />
<div class="outline-text-6" id="text-5-5-8-5-2">
<p>
<b>modern-cpp-font-lock</b> Syntax highlighting support for "Modern C++" - until
C++20 and Technical Specification.
</p>

<ul class="org-ul">
<li>Github: <a href="https://github.com/ludwigpacifici/modern-cpp-font-lock">https://github.com/ludwigpacifici/modern-cpp-font-lock</a></li>
<li>Wiki: <a href="https://github.com/ludwigpacifici/modern-cpp-font-lock/wiki">https://github.com/ludwigpacifici/modern-cpp-font-lock/wiki</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">modern-cpp-font-lock</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span><span class="org-whitespace-space"> </span>modern-c++-font-lock-mode
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(c++-mode<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>modern-c++-font-lock-mode))

(add-to-list<span class="org-whitespace-space"> </span>'auto-mode-alist<span class="org-whitespace-space"> </span>'(<span class="org-string">"\\.cpp\\'"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c++-mode))
(add-to-list<span class="org-whitespace-space"> </span>'auto-mode-alist<span class="org-whitespace-space"> </span>'(<span class="org-string">"\\.hh\\'"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c++-mode))
(add-to-list<span class="org-whitespace-space"> </span>'auto-mode-alist<span class="org-whitespace-space"> </span>'(<span class="org-string">"\\.hpp\\'"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c++-mode))
</pre>
</div>
</div>
</li>

<li><a id="org486f98f"></a>c/c++ style<br />
<div class="outline-text-6" id="text-5-5-8-5-3">
<p>
Use c-guess-no-install and c-guess-view to generate style template.
Read variable c-offsets-alist for more details.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/c-style-basic</span>
<span class="org-whitespace-space">  </span>'((c-tab-always-indent<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>nil)
<span class="org-whitespace-space">    </span>(c-basic-offset<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>4)
<span class="org-whitespace-space">    </span>(c-offsets-alist
<span class="org-whitespace-space">     </span>(block-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(brace-list-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(brace-list-entry<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(brace-list-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(class-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(defun-block-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(defun-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(defun-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-)<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(else-clause<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(inclass<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">           </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(statement<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">         </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(statement-block-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(statement-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">    </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(substatement<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">      </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(topmost-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">     </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(access-label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-)
<span class="org-whitespace-space">     </span>(annotation-top-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(annotation-var-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(arglist-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-close-paren)
<span class="org-whitespace-space">     </span>(arglist-cont<span class="org-whitespace-space"> </span>c-lineup-gcc-asm-reg<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(arglist-cont-nonempty<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-arglist)
<span class="org-whitespace-space">     </span>(arglist-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(block-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(brace-entry-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(brace-list-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(c<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-C-comments)
<span class="org-whitespace-space">     </span>(case-label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(catch-clause<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(class-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(comment-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-comment)
<span class="org-whitespace-space">     </span>(composition-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(composition-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(cpp-define-intro<span class="org-whitespace-space"> </span>c-lineup-cpp-define<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(cpp-macro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-1000)
<span class="org-whitespace-space">     </span>(cpp-macro-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(do-while-closure<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(extern-lang-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(extern-lang-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(friend<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(func-decl-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(incomposition<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inexpr-class<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inexpr-statement<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inextern-lang<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inher-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-multi-inher)
<span class="org-whitespace-space">     </span>(inher-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inlambda<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-inexpr-block)
<span class="org-whitespace-space">     </span>(inline-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(inline-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(inmodule<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(innamespace<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(knr-argdecl<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(knr-argdecl-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(lambda-intro-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(member-init-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-multi-inher)
<span class="org-whitespace-space">     </span>(member-init-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(module-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(module-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(namespace-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(namespace-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(objc-method-args-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-ObjC-method-args)
<span class="org-whitespace-space">     </span>(objc-method-call-cont<span class="org-whitespace-space"> </span>c-lineup-ObjC-method-call-colons<span class="org-whitespace-space"> </span>c-lineup-ObjC-metho<span class="org-whitespace-line">d-call</span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-whitespace-line">+)</span>
<span class="org-whitespace-space">     </span>(objc-method-intro<span class="org-whitespace-space"> </span>.
<span class="org-whitespace-space">                        </span>[0])
<span class="org-whitespace-space">     </span>(statement-case-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(statement-case-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(stream-op<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-streamop)
<span class="org-whitespace-space">     </span>(string<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-1000)
<span class="org-whitespace-space">     </span>(substatement-label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(substatement-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(template-args-cont<span class="org-whitespace-space"> </span>c-lineup-template-args<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(topmost-intro-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-topmost-intro-cont)))
<span class="org-whitespace-space">  </span><span class="org-doc">"y/c-basic"</span>)
(c-add-style<span class="org-whitespace-space"> </span><span class="org-string">"y/c-basic"</span><span class="org-whitespace-space"> </span>y/c-style-basic)

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/c-style-linux</span>
<span class="org-whitespace-space">  </span>'((c-tab-always-indent<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>nil)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">manualy</span><span class="org-whitespace-space"> </span><span class="org-comment">added</span>
<span class="org-whitespace-space">    </span>(c-basic-offset<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>8)<span class="org-whitespace-space">     </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">    </span>(c-offsets-alist
<span class="org-whitespace-space">     </span>(block-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(brace-list-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(brace-list-entry<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(brace-list-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(class-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(defun-block-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(defun-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(defun-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-)<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(else-clause<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(inclass<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">           </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(statement<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">         </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(statement-block-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(statement-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">    </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(substatement<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">      </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(topmost-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">     </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(access-label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-)
<span class="org-whitespace-space">     </span>(annotation-top-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(annotation-var-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(arglist-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-close-paren)
<span class="org-whitespace-space">     </span>(arglist-cont<span class="org-whitespace-space"> </span>c-lineup-gcc-asm-reg<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(arglist-cont-nonempty<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-arglist)
<span class="org-whitespace-space">     </span>(arglist-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-arglist-intro-after-paren)
<span class="org-whitespace-space">     </span>(block-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(brace-entry-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(brace-list-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(c<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-C-comments)
<span class="org-whitespace-space">     </span>(case-label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(catch-clause<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(class-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(comment-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-comment)
<span class="org-whitespace-space">     </span>(composition-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(composition-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(cpp-define-intro<span class="org-whitespace-space"> </span>c-lineup-cpp-define<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(cpp-macro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-1000)
<span class="org-whitespace-space">     </span>(cpp-macro-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(do-while-closure<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(extern-lang-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(extern-lang-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(friend<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(func-decl-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(incomposition<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inexpr-class<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inexpr-statement<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inextern-lang<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inher-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-multi-inher)
<span class="org-whitespace-space">     </span>(inher-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inlambda<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-inexpr-block)
<span class="org-whitespace-space">     </span>(inline-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(inline-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(inmodule<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(innamespace<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(knr-argdecl<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(knr-argdecl-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>5)
<span class="org-whitespace-space">     </span>(label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(lambda-intro-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(member-init-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-multi-inher)
<span class="org-whitespace-space">     </span>(member-init-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(module-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(module-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(namespace-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(namespace-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(objc-method-args-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-ObjC-method-args)
<span class="org-whitespace-space">     </span>(objc-method-call-cont<span class="org-whitespace-space"> </span>c-lineup-ObjC-method-call-colons<span class="org-whitespace-space"> </span>c-lineup-ObjC-metho<span class="org-whitespace-line">d-call</span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-whitespace-line">+)</span>
<span class="org-whitespace-space">     </span>(objc-method-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>[0])
<span class="org-whitespace-space">     </span>(statement-case-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(statement-case-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(stream-op<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-streamop)
<span class="org-whitespace-space">     </span>(string<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-1000)
<span class="org-whitespace-space">     </span>(substatement-label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(substatement-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(template-args-cont<span class="org-whitespace-space"> </span>c-lineup-template-args<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(topmost-intro-cont<span class="org-whitespace-space"> </span>first<span class="org-whitespace-space"> </span>c-lineup-topmost-intro-cont<span class="org-whitespace-space"> </span>c-lineup-gnu-DEFUN-in<span class="org-whitespace-line">tro-cont)))</span>
<span class="org-whitespace-space">  </span><span class="org-doc">"y/c-linux"</span>)
(c-add-style<span class="org-whitespace-space"> </span><span class="org-string">"y/c-linux"</span><span class="org-whitespace-space"> </span>y/c-style-linux)

(<span class="org-keyword">defconst</span><span class="org-whitespace-space"> </span><span class="org-variable-name">y/c-style-alibaba</span>
<span class="org-whitespace-space">  </span>'((c-tab-always-indent<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>nil)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">manualy</span><span class="org-whitespace-space"> </span><span class="org-comment">added</span>
<span class="org-whitespace-space">    </span>(c-basic-offset<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>4)<span class="org-whitespace-space">     </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">    </span>(c-offsets-alist
<span class="org-whitespace-space">     </span>(block-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(brace-list-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(brace-list-entry<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(brace-list-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(class-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(defun-block-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(defun-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(defun-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-)<span class="org-whitespace-space">        </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(else-clause<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">       </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(inclass<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">           </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(statement<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">         </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(statement-block-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(statement-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">    </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(substatement<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)<span class="org-whitespace-space">      </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(topmost-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)<span class="org-whitespace-space">     </span><span class="org-comment-delimiter">;</span><span class="org-whitespace-space"> </span><span class="org-comment">Guessed</span><span class="org-whitespace-space"> </span><span class="org-comment">value</span>
<span class="org-whitespace-space">     </span>(access-label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-)
<span class="org-whitespace-space">     </span>(annotation-top-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(annotation-var-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(arglist-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-close-paren)
<span class="org-whitespace-space">     </span>(arglist-cont<span class="org-whitespace-space"> </span>c-lineup-gcc-asm-reg<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(arglist-cont-nonempty<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-arglist)
<span class="org-whitespace-space">     </span>(arglist-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(block-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(brace-entry-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(brace-list-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(c<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-C-comments)
<span class="org-whitespace-space">     </span>(case-label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(catch-clause<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(class-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(comment-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-comment)
<span class="org-whitespace-space">     </span>(composition-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(composition-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(cpp-define-intro<span class="org-whitespace-space"> </span>c-lineup-cpp-define<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(cpp-macro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-1000)
<span class="org-whitespace-space">     </span>(cpp-macro-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(do-while-closure<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(extern-lang-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(extern-lang-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(friend<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(func-decl-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(incomposition<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inexpr-class<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inexpr-statement<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inextern-lang<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inher-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-multi-inher)
<span class="org-whitespace-space">     </span>(inher-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(inlambda<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-inexpr-block)
<span class="org-whitespace-space">     </span>(inline-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(inline-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(inmodule<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(innamespace<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(knr-argdecl<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(knr-argdecl-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(lambda-intro-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(member-init-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-multi-inher)
<span class="org-whitespace-space">     </span>(member-init-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(module-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(module-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(namespace-close<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(namespace-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(objc-method-args-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-ObjC-method-args)
<span class="org-whitespace-space">     </span>(objc-method-call-cont<span class="org-whitespace-space"> </span>c-lineup-ObjC-method-call-colons<span class="org-whitespace-space"> </span>c-lineup-ObjC-metho<span class="org-whitespace-line">d-call</span><span class="org-whitespace-space"><span class="org-whitespace-line"> </span></span><span class="org-whitespace-line">+)</span>
<span class="org-whitespace-space">     </span>(objc-method-intro<span class="org-whitespace-space"> </span>.
<span class="org-whitespace-space">                        </span>[0])
<span class="org-whitespace-space">     </span>(statement-case-intro<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(statement-case-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(stream-op<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-streamop)
<span class="org-whitespace-space">     </span>(string<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>-1000)
<span class="org-whitespace-space">     </span>(substatement-label<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(substatement-open<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>0)
<span class="org-whitespace-space">     </span>(template-args-cont<span class="org-whitespace-space"> </span>c-lineup-template-args<span class="org-whitespace-space"> </span>+)
<span class="org-whitespace-space">     </span>(topmost-intro-cont<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>c-lineup-topmost-intro-cont)))
<span class="org-whitespace-space">  </span><span class="org-doc">"y/c-alibaba"</span>)
(c-add-style<span class="org-whitespace-space"> </span><span class="org-string">"y/c-alibaba"</span><span class="org-whitespace-space"> </span>y/c-style-alibaba)

(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/c-style-hook</span>()
<span class="org-whitespace-space">  </span><span class="org-doc">"Config</span><span class="org-whitespace-space"> </span><span class="org-doc">c/c++</span><span class="org-whitespace-space"> </span><span class="org-doc">style</span><span class="org-whitespace-space"> </span><span class="org-doc">depends</span><span class="org-whitespace-space"> </span><span class="org-doc">on</span><span class="org-whitespace-space"> </span><span class="org-doc">file</span><span class="org-whitespace-space"> </span><span class="org-doc">pathname"</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(buffer-file-name)
<span class="org-whitespace-space">    </span>(<span class="org-keyword">cond</span><span class="org-whitespace-space"> </span>((<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>(string-match<span class="org-whitespace-space"> </span><span class="org-string">"/pangu/"</span><span class="org-whitespace-space"> </span>(buffer-file-name))
<span class="org-whitespace-space">               </span>(string-match<span class="org-whitespace-space"> </span><span class="org-string">"/apsara/"</span><span class="org-whitespace-space"> </span>(buffer-file-name))
<span class="org-whitespace-space">               </span>(string-match<span class="org-whitespace-space"> </span><span class="org-string">"/stone/"</span><span class="org-whitespace-space"> </span>(buffer-file-name)))
<span class="org-whitespace-space">           </span>(c-set-style<span class="org-whitespace-space"> </span><span class="org-string">"y/c-alibaba"</span>))
<span class="org-whitespace-space">          </span>((<span class="org-keyword">or</span><span class="org-whitespace-space"> </span>(string-match<span class="org-whitespace-space"> </span><span class="org-string">"/linux.*/"</span><span class="org-whitespace-space"> </span>(buffer-file-name)))
<span class="org-whitespace-space">           </span>(c-set-style<span class="org-whitespace-space"> </span><span class="org-string">"y/c-linux"</span>)
<span class="org-whitespace-space">           </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Linux</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">real</span><span class="org-whitespace-space"> </span><span class="org-comment">tab.</span><span class="org-whitespace-space"> </span><span class="org-comment">Auto</span><span class="org-whitespace-space"> </span><span class="org-comment">buffer-local.</span>
<span class="org-whitespace-space">           </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>indent-tabs-mode<span class="org-whitespace-space"> </span>t))
<span class="org-whitespace-space">          </span>(t<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">all</span><span class="org-whitespace-space"> </span><span class="org-comment">default</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">y/c-basic</span>
<span class="org-whitespace-space">           </span>(c-set-style<span class="org-whitespace-space"> </span><span class="org-string">"y/c-basic"</span>)))))
(add-hook<span class="org-whitespace-space"> </span>'c-mode-common-hook<span class="org-whitespace-space"> </span>'y/c-style-hook)
</pre>
</div>
</div>
</li>

<li><a id="org140cb34"></a>c/c++ call-graph<br />
<div class="outline-text-6" id="text-5-5-8-5-4">
<p>
C++ call graph: <a href="https://github.com/beacoder/call-graph">https://github.com/beacoder/call-graph</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">call-graph</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>(<span class="org-builtin">:map</span><span class="org-whitespace-space"> </span>c-mode-base-map
<span class="org-whitespace-space">        </span>(<span class="org-string">"C-x</span><span class="org-whitespace-space"> </span><span class="org-string">c</span><span class="org-whitespace-space"> </span><span class="org-string">g"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>call-graph)))
</pre>
</div>
</div>
</li>

<li><a id="org90265e6"></a>cwarn<br />
<div class="outline-text-6" id="text-5-5-8-5-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">cwarn</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span><span class="org-whitespace-space"> </span>cwarn)
</pre>
</div>
</div>
</li>
</ol>
</div>

<div id="outline-container-orgbc9824c" class="outline-5">
<h5 id="orgbc9824c"><span class="section-number-5">5.5.8.6</span> projectile</h5>
<div class="outline-text-5" id="text-5-5-8-6">
<p>
<b>Projectile</b> is a project interaction library for Emacs.
</p>
<ul class="org-ul">
<li>Homepage: <a href="https://www.projectile.mx/en/latest/">https://www.projectile.mx/en/latest/</a></li>
</ul>

<p>
<b>Counsel-projectile</b> is a IVY ui for projectile.
</p>
<ul class="org-ul">
<li>Github: <a href="https://github.com/ericdanan/counsel-projectile">https://github.com/ericdanan/counsel-projectile</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-project</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org72fd66a" class="outline-5">
<h5 id="org72fd66a"><span class="section-number-5">5.5.8.7</span> sr-speedbar</h5>
<div class="outline-text-5" id="text-5-5-8-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">sr-speedbar</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>sr-speedbar-auto-refresh<span class="org-whitespace-space"> </span>t
<span class="org-whitespace-space">        </span>speedbar-use-images<span class="org-whitespace-space"> </span>nil
<span class="org-whitespace-space">        </span>sr-speedbar-width<span class="org-whitespace-space"> </span>10
<span class="org-whitespace-space">        </span>sr-speedbar-max-width<span class="org-whitespace-space"> </span>20
<span class="org-whitespace-space">        </span>sr-speedbar-skip-other-window-p<span class="org-whitespace-space"> </span>t)
<span class="org-whitespace-space">  </span><span class="org-builtin">:bind</span>
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">w</span><span class="org-whitespace-space"> </span><span class="org-string">b"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>sr-speedbar-toggle)
<span class="org-whitespace-space">  </span>(<span class="org-string">"C-c</span><span class="org-whitespace-space"> </span><span class="org-string">b"</span><span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>sr-speedbar-select-window))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">function-args</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:config</span>
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(fa-config-default)</span>
<span class="org-whitespace-space">  </span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2b448b6" class="outline-5">
<h5 id="org2b448b6"><span class="section-number-5">5.5.8.8</span> whitespace</h5>
<div class="outline-text-5" id="text-5-5-8-8">
<p>
<b>whitespace</b> render a space, tabs, newlines to a visible glyph.
</p>
<ul class="org-ul">
<li>Github: <a href="https://github.com/emacs-mirror/emacs/blob/master/lisp/whitespace.el">https://github.com/emacs-mirror/emacs/blob/master/lisp/whitespace.el</a></li>
<li>builtin lisp, see <a href="https://github.com/emacs-mirror/emacs/blob/master/lisp/whitespace.el">GitHub whitespace.el</a></li>
<li>WIKI: <a href="https://www.emacswiki.org/emacs/WhiteSpace">https://www.emacswiki.org/emacs/WhiteSpace</a></li>
<li>Ergoemacs: <a href="http://ergoemacs.org/emacs/whitespace-mode.html">http://ergoemacs.org/emacs/whitespace-mode.html</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/whitespace-color</span>(<span class="org-type">&amp;optional</span><span class="org-whitespace-space"> </span>theme)
<span class="org-whitespace-space">  </span><span class="org-doc">"Set</span><span class="org-whitespace-space"> </span><span class="org-doc">whitespace</span><span class="org-whitespace-space"> </span><span class="org-doc">color</span><span class="org-whitespace-space"> </span><span class="org-doc">depends</span><span class="org-whitespace-space"> </span><span class="org-doc">on</span><span class="org-whitespace-space"> </span><span class="org-doc">current</span><span class="org-whitespace-space"> </span><span class="org-doc">theme</span><span class="org-whitespace-space"> </span><span class="org-doc">THEME."</span>
<span class="org-whitespace-space">  </span>(custom-set-faces
<span class="org-whitespace-space">   </span>'(whitespace-newline<span class="org-whitespace-space"> </span>((t<span class="org-whitespace-space"> </span>(<span class="org-builtin">:foreground</span><span class="org-whitespace-space"> </span><span class="org-string">"#75715E"</span><span class="org-whitespace-space"> </span><span class="org-builtin">:background</span><span class="org-whitespace-space"> </span>nil))))
<span class="org-whitespace-space">   </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">'(whitespace-newline</span><span class="org-whitespace-space"> </span><span class="org-comment">((t</span><span class="org-whitespace-space"> </span><span class="org-comment">(:foreground</span><span class="org-whitespace-space"> </span><span class="org-comment">"#424242"))))</span>
<span class="org-whitespace-space">   </span>'(whitespace-tab<span class="org-whitespace-space"> </span>((t<span class="org-whitespace-space"> </span>(<span class="org-builtin">:foreground</span><span class="org-whitespace-space"> </span><span class="org-string">"#75715E"</span><span class="org-whitespace-space"> </span><span class="org-builtin">:background</span><span class="org-whitespace-space"> </span>nil))))
<span class="org-whitespace-space">   </span>'(whitespace-space<span class="org-whitespace-space"> </span>((t<span class="org-whitespace-space"> </span>(<span class="org-builtin">:foreground</span><span class="org-whitespace-space"> </span><span class="org-string">"#75715E"</span><span class="org-whitespace-space"> </span><span class="org-builtin">:background</span><span class="org-whitespace-space"> </span>nil))))))

(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">whitespace</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:config</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">progn</span>
<span class="org-whitespace-space">    </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>whitespace-line-column<span class="org-whitespace-space"> </span>80)<span class="org-whitespace-space"> </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">limit</span><span class="org-whitespace-space"> </span><span class="org-comment">line</span><span class="org-whitespace-space"> </span><span class="org-comment">length</span>
<span class="org-whitespace-space">    </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>whitespace-style
<span class="org-whitespace-space">          </span>'(face<span class="org-whitespace-space"> </span>trailing<span class="org-whitespace-space"> </span>spaces<span class="org-whitespace-space"> </span>tabs<span class="org-whitespace-space"> </span>lines-tail<span class="org-whitespace-space"> </span>newline
<span class="org-whitespace-space">                 </span>space-before-tab<span class="org-whitespace-space"> </span>space-before-tab::tab
<span class="org-whitespace-space">                 </span>space-before-tab::space<span class="org-whitespace-space"> </span>space-after-tab::tab
<span class="org-whitespace-space">                 </span>space-after-tab::space<span class="org-whitespace-space"> </span>space-after-tab
<span class="org-whitespace-space">                 </span>newline-mark<span class="org-whitespace-space"> </span>space-mark<span class="org-whitespace-space"> </span>tab-mark))
<span class="org-whitespace-space">    </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>whitespace-display-mappings
<span class="org-whitespace-space">          </span>'((space-mark<span class="org-whitespace-space"> </span>32<span class="org-whitespace-space"> </span>[183]<span class="org-whitespace-space"> </span>[46])
<span class="org-whitespace-space">            </span>(newline-mark<span class="org-whitespace-space"> </span>10<span class="org-whitespace-space"> </span>[182<span class="org-whitespace-space"> </span>10])
<span class="org-whitespace-space">            </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(tab-mark</span><span class="org-whitespace-space"> </span><span class="org-comment">9</span><span class="org-whitespace-space"> </span><span class="org-comment">[?.</span><span class="org-whitespace-space"> </span><span class="org-comment">9]</span><span class="org-whitespace-space"> </span><span class="org-comment">[92</span><span class="org-whitespace-space"> </span><span class="org-comment">9])</span>
<span class="org-whitespace-space">            </span>(tab-mark<span class="org-whitespace-space">   </span>?\t<span class="org-whitespace-space">   </span>[?\xBB<span class="org-whitespace-space"> </span>?\t]<span class="org-whitespace-space"> </span>[?\\<span class="org-whitespace-space"> </span>?\t])))
<span class="org-whitespace-space">    </span>(y/whitespace-color))
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(prog-mode<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>whitespace-mode)
<span class="org-whitespace-space">  </span>(text-mode<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>whitespace-mode)
<span class="org-whitespace-space">  </span>(protobuf-mode<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>whitespace-mode)
<span class="org-whitespace-space">  </span>(before-save<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>whitespace-cleanup))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">theme</span><span class="org-whitespace-space"> </span><span class="org-comment">has</span><span class="org-whitespace-space"> </span><span class="org-comment">no</span><span class="org-whitespace-space"> </span><span class="org-comment">hook.</span><span class="org-whitespace-space"> </span><span class="org-comment">use</span><span class="org-whitespace-space"> </span><span class="org-comment">advice.</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgee6b65f" class="outline-5">
<h5 id="orgee6b65f"><span class="section-number-5">5.5.8.9</span> yasnippet</h5>
<div class="outline-text-5" id="text-5-5-8-9">
<p>
<b>YASnippet</b> is a template system for Emacs. It allows you to type an
abbreviation and automatically expand it into function templates. Bundled
language templates include: C, C++, C#, Perl, Python, Ruby, SQL, LaTeX,
HTML, CSS and more.
</p>

<ul class="org-ul">
<li>Github: <a href="https://github.com/joaotavora/yasnippet">https://github.com/joaotavora/yasnippet</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">yasnippet</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:diminish</span><span class="org-whitespace-space"> </span>yas-minor-mode
<span class="org-whitespace-space">  </span><span class="org-builtin">:hook</span>
<span class="org-whitespace-space">  </span>(prog-mode<span class="org-whitespace-space"> </span>.<span class="org-whitespace-space"> </span>yas-minor-mode))

(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">yasnippet-snippets</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9ceafd0" class="outline-4">
<h4 id="org9ceafd0"><span class="section-number-4">5.5.9</span> Orgmode</h4>
<div class="outline-text-4" id="text-5-5-9">
</div>
<div id="outline-container-org4311bd3" class="outline-5">
<h5 id="org4311bd3"><span class="section-number-5">5.5.9.1</span> basic</h5>
<div class="outline-text-5" id="text-5-5-9-1">
<ul class="org-ul">
<li>org and org-plus-contrib
<ul class="org-ul">
<li>Builtin org</li>
<li>Install and org-plus-contrib.</li>
<li>Worg link is <a href="https://orgmode.org/worg/org-contrib/">https://orgmode.org/worg/org-contrib/</a>.</li>
</ul></li>

<li>bullets
<ul class="org-ul">
<li>Homepage: <a href="https://github.com/sabof/org-bullets">GitHub Org Bullets</a></li>
<li>FIXME: Win7 Ultimate CN version can not show heading bullets low than level 3</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-org</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf64c69d" class="outline-5">
<h5 id="orgf64c69d"><span class="section-number-5">5.5.9.2</span> pomodoro</h5>
<div class="outline-text-5" id="text-5-5-9-2">
<ul class="org-ul">
<li><a href="https://github.com/lolownia/org-pomodoro">https://github.com/lolownia/org-pomodoro</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">org-pomodoro</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:pin</span><span class="org-whitespace-space"> </span>melpa
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>org-pomodoro-length<span class="org-whitespace-space"> </span>30
<span class="org-whitespace-space">        </span>org-pomodoro-format<span class="org-whitespace-space"> </span><span class="org-string">"%s"</span>))

(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">redtick</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgedc7e14" class="outline-5">
<h5 id="orgedc7e14"><span class="section-number-5">5.5.9.3</span> publish</h5>
<div class="outline-text-5" id="text-5-5-9-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span><span class="org-whitespace-space"> </span>'<span class="org-constant">y-publish</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org791ed85" class="outline-4">
<h4 id="org791ed85"><span class="section-number-4">5.5.10</span> Platform</h4>
<div class="outline-text-4" id="text-5-5-10">
</div>
<div id="outline-container-org4edaecb" class="outline-5">
<h5 id="org4edaecb"><span class="section-number-5">5.5.10.1</span> windows</h5>
<div class="outline-text-5" id="text-5-5-10-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(string-equal<span class="org-whitespace-space"> </span>system-type<span class="org-whitespace-space"> </span><span class="org-string">"windows-nt"</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">unless</span><span class="org-whitespace-space"> </span>(getenv<span class="org-whitespace-space"> </span><span class="org-string">"HOME"</span>)
<span class="org-whitespace-space">    </span>(<span class="org-warning">warn</span><span class="org-whitespace-space"> </span><span class="org-string">"Maybe</span><span class="org-whitespace-space"> </span><span class="org-string">you</span><span class="org-whitespace-space"> </span><span class="org-string">forgot</span><span class="org-whitespace-space"> </span><span class="org-string">to</span><span class="org-whitespace-space"> </span><span class="org-string">set</span><span class="org-whitespace-space"> </span><span class="org-string">environment</span><span class="org-whitespace-space"> </span><span class="org-string">variable</span><span class="org-whitespace-space"> </span><span class="org-string">HOME."</span>))

<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">M-w:</span><span class="org-whitespace-space"> </span><span class="org-comment">paste,</span><span class="org-whitespace-space"> </span><span class="org-comment">bind</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">kill-ring-save</span>
<span class="org-whitespace-space">  </span>(w32-register-hot-key<span class="org-whitespace-space"> </span>[M-w])
<span class="org-whitespace-space">  </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">C-M-n:</span><span class="org-whitespace-space"> </span><span class="org-comment">sp-up-sexp</span>
<span class="org-whitespace-space">  </span>(w32-register-hot-key<span class="org-whitespace-space"> </span>[C-M-n]))
</pre>
</div>
</div>
</div>

<div id="outline-container-org401c516" class="outline-5">
<h5 id="org401c516"><span class="section-number-5">5.5.10.2</span> mac</h5>
<div class="outline-text-5" id="text-5-5-10-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">exec-path-from-shell</span>
<span class="org-whitespace-space">  </span><span class="org-builtin">:demand</span><span class="org-whitespace-space"> </span>t
<span class="org-whitespace-space">  </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(memq<span class="org-whitespace-space"> </span>window-system<span class="org-whitespace-space"> </span>'(mac<span class="org-whitespace-space"> </span>ns<span class="org-whitespace-space"> </span>x))
<span class="org-whitespace-space">    </span>(exec-path-from-shell-initialize)))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">Copy</span><span class="org-whitespace-space"> </span><span class="org-comment">from</span><span class="org-whitespace-space"> </span><span class="org-comment">https://github.com/bbatsov/prelude/blob/master/core/prelude-macos.e</span><span class="org-comment"><span class="org-whitespace-line">l</span></span>
(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">mac-command-modifier</span>)
(<span class="org-keyword">defvar</span><span class="org-whitespace-space"> </span><span class="org-variable-name">mac-option-modifier</span>)
(<span class="org-keyword">defun</span><span class="org-whitespace-space"> </span><span class="org-function-name">y/swap-meta-and-super</span>()
<span class="org-whitespace-space">  </span><span class="org-doc">"Swap</span><span class="org-whitespace-space"> </span><span class="org-doc">the</span><span class="org-whitespace-space"> </span><span class="org-doc">mapping</span><span class="org-whitespace-space"> </span><span class="org-doc">of</span><span class="org-whitespace-space"> </span><span class="org-doc">Meta</span><span class="org-whitespace-space"> </span><span class="org-doc">and</span><span class="org-whitespace-space"> </span><span class="org-doc">Super.</span>
<span class="org-doc">Very</span><span class="org-whitespace-space"> </span><span class="org-doc">useful</span><span class="org-whitespace-space"> </span><span class="org-doc">for</span><span class="org-whitespace-space"> </span><span class="org-doc">people</span><span class="org-whitespace-space"> </span><span class="org-doc">using</span><span class="org-whitespace-space"> </span><span class="org-doc">their</span><span class="org-whitespace-space"> </span><span class="org-doc">Mac</span><span class="org-whitespace-space"> </span><span class="org-doc">with</span><span class="org-whitespace-space"> </span><span class="org-doc">a</span>
<span class="org-doc">Windows</span><span class="org-whitespace-space"> </span><span class="org-doc">external</span><span class="org-whitespace-space"> </span><span class="org-doc">keyboard</span><span class="org-whitespace-space"> </span><span class="org-doc">from</span><span class="org-whitespace-space"> </span><span class="org-doc">time</span><span class="org-whitespace-space"> </span><span class="org-doc">to</span><span class="org-whitespace-space"> </span><span class="org-doc">time."</span>
<span class="org-whitespace-space">  </span>(<span class="org-keyword">interactive</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">if</span><span class="org-whitespace-space"> </span>(eq<span class="org-whitespace-space"> </span>mac-command-modifier<span class="org-whitespace-space"> </span>'super)
<span class="org-whitespace-space">      </span>(<span class="org-keyword">progn</span>
<span class="org-whitespace-space">        </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>mac-command-modifier<span class="org-whitespace-space"> </span>'meta)
<span class="org-whitespace-space">        </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>mac-option-modifier<span class="org-whitespace-space"> </span>'super)
<span class="org-whitespace-space">        </span>(message<span class="org-whitespace-space"> </span><span class="org-string">"Command</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">now</span><span class="org-whitespace-space"> </span><span class="org-string">bound</span><span class="org-whitespace-space"> </span><span class="org-string">to</span><span class="org-whitespace-space"> </span><span class="org-string">META</span><span class="org-whitespace-space"> </span><span class="org-string">and</span><span class="org-whitespace-space"> </span><span class="org-string">Option</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">bound</span><span class="org-whitespace-space"> </span><span class="org-string">to</span><span class="org-whitespace-space"> </span><span class="org-string">SUPER."</span>))
<span class="org-whitespace-space">    </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>mac-command-modifier<span class="org-whitespace-space"> </span>'super)
<span class="org-whitespace-space">    </span>(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>mac-option-modifier<span class="org-whitespace-space"> </span>'meta)
<span class="org-whitespace-space">    </span>(message<span class="org-whitespace-space"> </span><span class="org-string">"Command</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">now</span><span class="org-whitespace-space"> </span><span class="org-string">bound</span><span class="org-whitespace-space"> </span><span class="org-string">to</span><span class="org-whitespace-space"> </span><span class="org-string">SUPER</span><span class="org-whitespace-space"> </span><span class="org-string">and</span><span class="org-whitespace-space"> </span><span class="org-string">Option</span><span class="org-whitespace-space"> </span><span class="org-string">is</span><span class="org-whitespace-space"> </span><span class="org-string">bound</span><span class="org-whitespace-space"> </span><span class="org-string">to</span><span class="org-whitespace-space"> </span><span class="org-string">META."</span>)))

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(define-key</span><span class="org-whitespace-space"> </span><span class="org-comment">global-map</span><span class="org-whitespace-space"> </span><span class="org-comment">(kbd</span><span class="org-whitespace-space"> </span><span class="org-comment">"C-c</span><span class="org-whitespace-space"> </span><span class="org-comment">m</span><span class="org-whitespace-space"> </span><span class="org-comment">s")</span><span class="org-whitespace-space"> </span><span class="org-comment">'y/swap-meta-and-super)</span>

<span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">map</span><span class="org-whitespace-space"> </span><span class="org-comment">super</span><span class="org-whitespace-space"> </span><span class="org-comment">to</span><span class="org-whitespace-space"> </span><span class="org-comment">meta</span>
(<span class="org-keyword">setq</span><span class="org-whitespace-space"> </span>mac-command-modifier<span class="org-whitespace-space"> </span>'meta)
</pre>
</div>
</div>
</div>

<div id="outline-container-org63a9abd" class="outline-5">
<h5 id="org63a9abd"><span class="section-number-5">5.5.10.3</span> linux</h5>
<div class="outline-text-5" id="text-5-5-10-3">
<p>
Optimize fcitx behavior.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">when</span><span class="org-whitespace-space"> </span>(executable-find<span class="org-whitespace-space"> </span><span class="org-string">"fcitx-remote"</span>)
<span class="org-whitespace-space">  </span>(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">fcitx</span>
<span class="org-whitespace-space">    </span><span class="org-builtin">:init</span>
<span class="org-whitespace-space">    </span>(fcitx-aggressive-setup)
<span class="org-whitespace-space">    </span>(fcitx-prefix-keys-turn-on)
<span class="org-whitespace-space">    </span>(fcitx-prefix-keys-add<span class="org-whitespace-space"> </span><span class="org-string">"C-x"</span><span class="org-whitespace-space"> </span><span class="org-string">"C-c"</span><span class="org-whitespace-space"> </span><span class="org-string">"C-h"</span><span class="org-whitespace-space"> </span><span class="org-string">"M-s"</span><span class="org-whitespace-space"> </span><span class="org-string">"M-o"</span>)
<span class="org-whitespace-space">    </span><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">(setq</span><span class="org-whitespace-space"> </span><span class="org-comment">fcitx-use-dbus</span><span class="org-whitespace-space"> </span><span class="org-comment">t)</span>
<span class="org-whitespace-space">    </span>))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6380cdc" class="outline-4">
<h4 id="org6380cdc"><span class="section-number-4">5.5.11</span> File mode</h4>
<div class="outline-text-4" id="text-5-5-11">
</div>
<div id="outline-container-org0a3de53" class="outline-5">
<h5 id="org0a3de53"><span class="section-number-5">5.5.11.1</span> protobuf</h5>
<div class="outline-text-5" id="text-5-5-11-1">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">protobuf-mode</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8e2d04d" class="outline-5">
<h5 id="org8e2d04d"><span class="section-number-5">5.5.11.2</span> log view</h5>
<div class="outline-text-5" id="text-5-5-11-2">
<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">use-package</span><span class="org-whitespace-space"> </span><span class="org-constant">logview</span>)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7763de6" class="outline-4">
<h4 id="org7763de6"><span class="section-number-4">5.5.12</span> Footer</h4>
<div class="outline-text-4" id="text-5-5-12">
<p>
Refer to <a href="#header">header</a> for more details.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;</span><span class="org-whitespace-space"> </span><span class="org-comment">mode</span><span class="org-whitespace-space"> </span><span class="org-comment">line</span><span class="org-whitespace-space"> </span><span class="org-comment">cleanup</span>
(diminish<span class="org-whitespace-space"> </span>'y/keymap-mode)

<span class="org-comment-delimiter">;;;</span><span class="org-whitespace-space"> </span><span class="org-comment">config.el</span><span class="org-whitespace-space"> </span><span class="org-comment">ends</span><span class="org-whitespace-space"> </span><span class="org-comment">here</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf96e281" class="outline-4">
<h4 id="orgf96e281"><span class="section-number-4">5.5.13</span> Appendix</h4>
<div class="outline-text-4" id="text-5-5-13">
<p>
Gook Luck, Guys.
</p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">&#33050;&#27880;: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
Emacs是Editor MACroS的缩写，见<a href="https://www.gnu.org/fun/jokes/gnuemacs.acro.exp.html">这里</a>；
</p></div></div>


</div>
</div>
<script src="https://utteranc.es/client.js"
        repo="yygcode/yygcode.github.io"
        issue-term="pathname"
        label=" Utterances"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
<noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>
</div>
<div id="postamble" class="status">
<div class="copyright">
2012-2020 Copyright&copy; <i> YANYG<br/>Powered by Emacs Orgmode</i>
</div>
</div>
</body>
</html>
